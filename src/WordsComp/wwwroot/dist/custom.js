function getWordContainerPostion(){var $element=$("#word-element");return{x:$element.offset().left,y:$element.offset().top}}var Common;!function(Common){function GetConstants(){return new Constants}var Constants=function(){function Constants(){this.appName="gameApp",this.hubConnectToGroupMethodName="connect",this.connectedToGroup="userAdded",this.leftGroup="userLeft",this.groupFulled="groupFulled",this.competitionHub="competitionHub",this.gameStarted="gameStarted",this.didMove="didMove",this.gameFinished="gameFinished",this.doMove="doMove",this.passMove="passMove"}return Constants}();Common.Constants=Constants,Common.GetConstants=GetConstants}(Common||(Common={}));var Mixins;!function(Mixins){function actionWrapper($scope,action){return function(scheduler,state){if(!$scope.$$phase){var value_1;return $scope.$apply(function(){value_1=action(scheduler,state)}),value_1}return action(scheduler,state)}}var NgScheduler=function(){function NgScheduler($scope){this.immediateScheduler=Rx.Scheduler.immediate,this.$scope=$scope}return NgScheduler.prototype.now=function(){return this.immediateScheduler.now()},NgScheduler.prototype.schedule=function(state,action){return this.immediateScheduler.schedule(state,actionWrapper(this.$scope,action))},NgScheduler.prototype.scheduleFuture=function(state,dueTime,action){throw new Error("Not supported")},NgScheduler.prototype.scheduleRecursive=function(state,action){throw new Error("Not supported")},NgScheduler.prototype.scheduleRecursiveFuture=function(state,dueTime,action){throw new Error("Not supported")},NgScheduler.prototype.schedulePeriodic=function(state,period,action){throw new Error("Not supported")},NgScheduler.prototype.catch=function(handler){return this.immediateScheduler.catch(handler)},NgScheduler}();Mixins.NgScheduler=NgScheduler}(Mixins||(Mixins={}));var App;!function(App){function GetApp(){return app}var constants=Common.GetConstants(),app=angular.module(constants.appName,["ui.bootstrap.modal","ngAnimate","angularSpinner"]);app.config(["usSpinnerConfigProvider",function(usSpinnerConfigProvider){usSpinnerConfigProvider.setDefaults({color:"#5B91DE"})}]),App.GetApp=GetApp}(App||(App={}));var Models;!function(Models){var User=function(){function User(){}return User}();Models.User=User}(Models||(Models={}));var Models;!function(Models){var Group=function(){function Group(){}return Group}();Models.Group=Group}(Models||(Models={}));var Models;!function(Models){var Score=function(){function Score(){}return Score}();Models.Score=Score}(Models||(Models={}));var Models;!function(Models){var TranslateVariant=function(){function TranslateVariant(){this.variant=null,this.isTrue=!1,this.isSelected=!1}return TranslateVariant}();Models.TranslateVariant=TranslateVariant}(Models||(Models={}));var Models;!function(Models){var Word=function(){function Word(){}return Word}();Models.Word=Word}(Models||(Models={}));var Models;!function(Models){var Game=function(){function Game(){}return Game}();Models.Game=Game}(Models||(Models={}));var Models;!function(Models){var GameResult=function(){function GameResult(){}return GameResult}();Models.GameResult=GameResult}(Models||(Models={}));var Models;!function(Models){var MoveResult=function(){function MoveResult(){}return MoveResult}();Models.MoveResult=MoveResult}(Models||(Models={}));var Models;!function(Models){var PassedWordInfo=function(){function PassedWordInfo(){}return PassedWordInfo}();Models.PassedWordInfo=PassedWordInfo}(Models||(Models={}));var Models;!function(Models){!function(Level){Level[Level.Beginer=1]="Beginer",Level[Level.Intermediate=2]="Intermediate",Level[Level.Advanced=3]="Advanced"}(Models.Level||(Models.Level={}));Models.Level}(Models||(Models={}));var Services;!function(Services){var ConnectToGameService=function(){function ConnectToGameService(hubConnectionService){this.constants=Common.GetConstants(),this.connection=hubConnectionService.getConnection(),this.hub=this.connection.createHubProxy(this.constants.competitionHub)}return ConnectToGameService.prototype.connectToHub=function(){return this.hub.connection.start()},ConnectToGameService.prototype.onConnectToHub=function(callBack){this.onConnectedToHubCallback=callBack},ConnectToGameService.prototype.doMove=function(moveOrder,word,variant){return this.hub.invoke(this.constants.doMove,moveOrder,word,variant)},ConnectToGameService.prototype.passMove=function(moveOrder){return this.hub.invoke(this.constants.passMove,moveOrder)},ConnectToGameService.prototype.connectToNewGroupImpl=function(displayName,level){return this.hub.invoke(this.constants.hubConnectToGroupMethodName,displayName,level)},ConnectToGameService.prototype.connectToNewGroup=function(displayName,level){var _this=this;return 4===this.connection.state?this.connectToHub().then(function(values){return _this.onConnectedToHubCallback(values.id),_this.hub.invoke(_this.constants.hubConnectToGroupMethodName,displayName,level)}):this.hub.invoke(this.constants.hubConnectToGroupMethodName,displayName,level)},ConnectToGameService.prototype.onConnectedToGroup=function(callBack){this.hub.on(this.constants.connectedToGroup,function(msg){return callBack(msg)})},ConnectToGameService.prototype.onGroupFulled=function(callBack){this.hub.on(this.constants.groupFulled,function(msg){return callBack(msg)})},ConnectToGameService.prototype.onUserLeft=function(callBack){this.hub.on(this.constants.leftGroup,function(msg){return callBack(msg[0])})},ConnectToGameService.prototype.gameStarted=function(callBack){this.hub.on(this.constants.gameStarted,function(msg){callBack(msg)})},ConnectToGameService.prototype.didMove=function(callBack){this.hub.on(this.constants.didMove,function(msg){return callBack(msg)})},ConnectToGameService.prototype.gameFinished=function(callBack){this.hub.on(this.constants.gameFinished,function(msg){return callBack(msg[0])})},ConnectToGameService.prototype.onDisconnectedFromHub=function(callBack){this.connection.disconnected(callBack)},ConnectToGameService.prototype.stopHubConnection=function(){4!==this.connection.state&&this.connection.stop()},ConnectToGameService.$inject=["Services.HubConnectionService"],ConnectToGameService}();Services.ConnectToGameService=ConnectToGameService,angular.module(Common.GetConstants().appName).service("Services.ConnectToGameService",ConnectToGameService)}(Services||(Services={}));var Services;!function(Services){var CookieService=function(){function CookieService(){}return CookieService.prototype.setCookie=function(cname,cvalue,exdays){exdays||(exdays=3670);var d=new Date;d.setTime(d.getTime()+24*exdays*60*60*1e3);var expires="expires="+d.toUTCString();document.cookie=cname+"="+cvalue+";"+expires+";path=/"},CookieService.prototype.getCookie=function(cname){for(var name=cname+"=",ca=document.cookie.split(";"),i=0;i<ca.length;i++){for(var c=ca[i];" "==c.charAt(0);)c=c.substring(1);if(0==c.indexOf(name))return c.substring(name.length,c.length)}return""},CookieService}();Services.CookieService=CookieService,angular.module(Common.GetConstants().appName).service("Services.CookieService",CookieService)}(Services||(Services={}));var Services;!function(Services){var HubConnectionService=function(){function HubConnectionService(){}return HubConnectionService.prototype.getConnection=function(){return HubConnectionService.connection||(HubConnectionService.connection=$.hubConnection("/signalr",{useDefaultPath:!1}),HubConnectionService.connection.logging=!0),HubConnectionService.connection},HubConnectionService}();Services.HubConnectionService=HubConnectionService,angular.module(Common.GetConstants().appName).service("Services.HubConnectionService",HubConnectionService)}(Services||(Services={}));var Services;!function(Services){var StateHandlerService=function(){function StateHandlerService($rootScope,$modal,usSpinnerService){this.constants=Common.GetConstants(),this.$modal=$modal,this.usSpinnerService=usSpinnerService,this.$rootScope=$rootScope,this.$rootScope.isStartGamePage=!1,this.$rootScope.userId=null,this.groupFulledObservable=new Rx.Subject,this.addedToGroupObservable=new Rx.Subject,this.userLeftGroupObservable=new Rx.Subject,this.gameStartedObservable=new Rx.Subject}return StateHandlerService.prototype.setUpGameScope=function($gameScope){this.$gameScope=$gameScope},StateHandlerService.prototype.callInDigestLoop=function(action){this.$rootScope.$$phase?action():this.$rootScope.$apply(function(){action()})},StateHandlerService.prototype.showStartGameModal=function(){var opt={};opt.scope=this.connectToGameScope,opt.templateUrl="connectToGroup.html",opt.windowTemplateUrl="windowTemplate.html",opt.backdrop="static",opt.keyboard=!1,opt.animation=!0,opt.size="lg",this.startGameModalInstance=this.$modal.open(opt)},StateHandlerService.prototype.showGameFinishedModalWindow=function(isWin,isDraw){if(void 0===isWin&&void 0===isDraw)throw"One of boolean flags should be specified";var connectToGameScope=this.connectToGameScope,opt={};opt.controller=function($scope){$scope.playAgain=connectToGameScope.connectToGroup,isDraw?$scope.message="Ничья. Отличная игра :D!\nХотите сыграть ещё раз?":isWin?$scope.message="Поздравления! Вы выиграли!\nХотите сыграть ещё раз?":$scope.message="Даже если проиграл, преобретенный опыт останется навсегда с тобой и станет твоей наградой :)\nХотите сыграть ещё раз?"},opt.templateUrl="gameFinished.html",opt.windowTemplateUrl="windowTemplate.html",opt.backdrop="static",opt.keyboard=!1,opt.animation=!0,opt.size="lg",this.startGameModalInstance=this.$modal.open(opt)},StateHandlerService.prototype.startSpin=function(spinKey,observable){var _this=this;this.usSpinnerService.spin(spinKey),observable.subscribe(function(){_this.usSpinnerService.stop(spinKey)})},StateHandlerService.prototype.setConnectToGameScope=function(connectToGameScope){this.connectToGameScope=connectToGameScope},StateHandlerService.prototype.handleConnectionToGroup=function(promise){var _this=this;this.callInDigestLoop(function(){var addedToGroup=_this.addedToGroupObservable.take(1);addedToGroup.subscribe(function(){_this.startGameModalInstance&&(_this.startGameModalInstance.close(),_this.startGameModalInstance=null),_this.$rootScope.isStartGamePage=!0});var groupFulled=_this.groupFulledObservable.take(1);_this.startSpin("group-fulled",groupFulled),groupFulled.subscribe(function(){_this.startSpin("loading-game",Rx.Observable.merge(_this.userLeftGroupObservable.take(1),_this.gameStartedObservable.take(1)).take(1))}),_this.startSpin("connect-to-group",Rx.Observable.fromPromise(promise))}),promise.fail(function(error){console.log("smth bad happened: "+error)})},StateHandlerService.prototype.handleUserAddedToGroup=function(){this.addedToGroupObservable.onNext({})},StateHandlerService.prototype.showStartGameWindow=function(){var _this=this;this.callInDigestLoop(function(){_this.showStartGameModal()})},StateHandlerService.prototype.handleGameFinished=function(isWin,isDraw){var _this=this;this.callInDigestLoop(function(){_this.$rootScope.isStartGamePage=!1,_this.showGameFinishedModalWindow(isWin,isDraw)})},StateHandlerService.prototype.handleGroupFulled=function(){var _this=this;this.callInDigestLoop(function(){_this.groupFulledObservable.onNext({})})},StateHandlerService.prototype.handleGameStarted=function(){var _this=this;this.callInDigestLoop(function(){_this.$rootScope.isStartGamePage=!0,_this.startGameModalInstance&&(_this.startGameModalInstance.close(),_this.startGameModalInstance=null)}),this.gameStartedObservable.onNext({})},StateHandlerService.prototype.getUserId=function(){return this.$rootScope.userId},StateHandlerService.prototype.setUserId=function(userId){this.$rootScope.userId=userId},StateHandlerService.prototype.handleUser2LeftGroup=function(){var _this=this;this.callInDigestLoop(function(){_this.userLeftGroupObservable.onNext({}),_this.$rootScope.isStartGamePage=!1,_this.showStartGameModal()})},StateHandlerService.prototype.getUserDisplayName=function(){return this.$rootScope.displayName},StateHandlerService.prototype.handleDisconnectedFromHub=function(){var _this=this;this.$rootScope.isStartGamePage&&this.callInDigestLoop(function(){_this.$rootScope.isStartGamePage=!1,_this.showStartGameModal()})},StateHandlerService.$inject=["$rootScope","$uibModal","usSpinnerService"],StateHandlerService}();Services.StateHandlerService=StateHandlerService,angular.module(Common.GetConstants().appName).service("Services.StateHandlerService",StateHandlerService)}(Services||(Services={}));var controllers;!function(controllers){var ConnectToGameController=function(){function ConnectToGameController(connectionHubService,$scope,stateHandler,$rootScope,coockieService){this.connectionHubService=connectionHubService,this.$scope=$scope,this.stateHandler=stateHandler,this.$rootScope=$rootScope,this.coockieService=coockieService,this.displayNameCookieKey="displayName",this.levelCookieKey="levelName",this.initializeViewModel()}return ConnectToGameController.prototype.initializeViewModel=function(){var _this=this;this.stateHandler.setConnectToGameScope(this.$scope),this.connectionHubService.onUserLeft(function(data){return _this.onUserLeft.call(_this,data)}),this.connectionHubService.onGroupFulled(function(data){return _this.onGroupFulled.call(_this,data)}),this.connectionHubService.onConnectedToGroup(function(data){return _this.onConnectedToGroup.call(_this,data)}),this.$scope.connectToGroup=function(){return _this.connectToGroup.apply(_this)},this.connectionHubService.onConnectToHub(function(value){_this.stateHandler.setUserId(value)}),this.connectionHubService.onDisconnectedFromHub(function(){return _this.stateHandler.handleDisconnectedFromHub()}),this.$scope.levels=[{level:Models.Level.Beginer,name:"Новачок"},{level:Models.Level.Intermediate,name:"Средний"},{level:Models.Level.Advanced,name:"Высокий"}],this.$scope.changeLevel=function(level){return _this.$rootScope.level=level};var displayNameFromCookies="Случайный игрок",levelFromCookies=2;try{var cookieValue=this.coockieService.getCookie(this.displayNameCookieKey);""!==cookieValue&&(displayNameFromCookies=cookieValue),cookieValue=this.coockieService.getCookie(this.levelCookieKey),""!==cookieValue&&(levelFromCookies=parseInt(cookieValue)||levelFromCookies)}catch(error){console.log(error)}this.$rootScope.displayName=displayNameFromCookies,this.$rootScope.level=this.$scope.levels[levelFromCookies-1],this.stateHandler.showStartGameWindow()},ConnectToGameController.prototype.onGroupFulled=function(groupInfo){this.groupInfo=groupInfo,this.stateHandler.handleGroupFulled()},ConnectToGameController.prototype.onUserLeft=function(groupInfo){this.groupInfo=null,this.stateHandler.handleUser2LeftGroup()},ConnectToGameController.prototype.connectToGroup=function(){var displayName=this.stateHandler.getUserDisplayName(),level=this.$rootScope.level.level;try{this.coockieService.setCookie(this.displayNameCookieKey,displayName),this.coockieService.setCookie(this.levelCookieKey,level)}catch(error){console.log(error)}var promise=this.connectionHubService.connectToNewGroup(displayName,level);this.stateHandler.handleConnectionToGroup(promise)},ConnectToGameController.prototype.onConnectedToGroup=function(userId){this.stateHandler.setUserId(userId),this.stateHandler.handleUserAddedToGroup()},ConnectToGameController.$inject=["Services.ConnectToGameService","$scope","Services.StateHandlerService","$rootScope","Services.CookieService"],ConnectToGameController}();controllers.ConnectToGameController=ConnectToGameController,angular.module(Common.GetConstants().appName).controller("controllers.ConnectToGameController",ConnectToGameController)}(controllers||(controllers={}));var controllers;!function(controllers){var GameController=function(){function GameController(connectionHubService,$scope,stateHandler,$interval,$timeout){this.connectionHubService=connectionHubService,this.$scope=$scope,this.stateHandler=stateHandler,this.$interval=$interval,this.secondsForMove=10,this.$timeout=$timeout,this.quates=["How many languages you know — that many times you are a person","If you talk to a man in a language he understands, that goes to his head. If you talk to him in his language, that goes to his heart","By words the mind is winged","Language is the means of getting an idea from my brain into yours without surgery","A different language is a different vision of life","To have another language is to possess a second soul","If we spoke a different language, we would perceive a somewhat different world","Language exerts hidden power, like the moon on the tides","Language is the road map of a culture. It tells you where its people come from and where they are going","He who does not know foreign languages does not know anything about his own"],this.initializeViewModel()}return GameController.prototype.initializeViewModel=function(){var _this=this;this.connectionHubService.gameStarted(function(data){return _this.startGame.call(_this,data)}),this.connectionHubService.didMove(function(data){return _this.user2didMove.call(_this,data)}),this.connectionHubService.onGroupFulled(function(data){return _this.handleGroupFulled.call(_this,data)}),this.$scope.doMove=function(variant){return _this.doMove.call(_this,variant)},this.connectionHubService.onUserLeft(function(){return _this.onUserLeft.call(_this)}),this.unsetGameInfo(),this.stateHandler.setUpGameScope(this.$scope);var randomQuateIndex=Math.floor(Math.random()*this.quates.length);this.$scope.randomQuate=this.quates[randomQuateIndex]},GameController.prototype.handleGroupFulled=function(group){var _this=this;this.callInDigestLoop(function(){var isUser1=group.usersList[0].userId===_this.stateHandler.getUserId();_this.$scope.user2DisplayName=isUser1?group.usersList[0].displayName:group.usersList[1].displayName})},GameController.prototype.onUserLeft=function(){this.stopTimer(),this.unsetGameInfo()},GameController.prototype.unsetGameInfo=function(){var _this=this;this.gameInfo=null,this.callInDigestLoop(function(){_this.$scope.currentWord=null,_this.$scope.secondsForMoveLeft=null,_this.$scope.percentagesLeft=null,_this.$scope.isCurrentUserMove=null,_this.$scope.currentUserScore=null,_this.$scope.user2Score=null,_this.$scope.passedWords=[],_this.$scope.leftWords=[],_this.$scope.user2DisplayName=null})},GameController.prototype.startGame=function(game){var _this=this;this.gameInfo=game,this.words=game.words;var isUser1=game.user1.userId===this.stateHandler.getUserId();this.userNum=isUser1?1:2,this.$scope.$apply(function(){function shuffle(arr){for(var t,i,array=arr.slice(0),m=array.length;m;)i=Math.floor(Math.random()*m--),t=array[m],array[m]=array[i],array[i]=t;return array}_this.$scope.currentUserScore=isUser1?game.user1Score:game.user2Score,_this.$scope.user2Score=isUser1?game.user2Score:game.user1Score,_this.$scope.currentWordIndex=0,_this.$scope.currentWord=_this.words[0],_this.setVarinatsOrder(),_this.$scope.isCurrentUserMove=isUser1&&1===_this.gameInfo.currentMove||!isUser1&&2===_this.gameInfo.currentMove,_this.$scope.leftWords=shuffle(_this.words.slice(1))}),this.stateHandler.handleGameStarted(),this.startTimer()},GameController.prototype.callInDigestLoop=function(action){this.$scope.$$phase?action():this.$scope.$apply(function(){action()})},GameController.prototype.startTimer=function(){var _this=this;if(this.timerPromise)throw"Previous timer should be stopped";this.callInDigestLoop(function(){_this.$scope.secondsForMoveLeft=_this.secondsForMove,_this.$scope.percentagesLeft=100}),this.timerPromise=this.$interval(function(){_this.$scope.secondsForMoveLeft--,_this.$scope.percentagesLeft=_this.$scope.secondsForMoveLeft/10*100,0===_this.$scope.secondsForMoveLeft&&_this.$scope.isCurrentUserMove&&_this.passMove()},1e3,10)},GameController.prototype.stopTimer=function(){this.timerPromise&&(this.$interval.cancel(this.timerPromise),this.timerPromise=null)},GameController.prototype.user2didMove=function(moveRes){var _this=this;this.$scope.$apply(function(){_this.handleMove(moveRes,!1)})},GameController.prototype.passMove=function(){var _this=this;this.connectionHubService.passMove(this.userNum).done(function(moveResult){_this.$scope.$apply(function(){_this.handleMove(moveResult,!0)})})},GameController.prototype.doMove=function(variant){var _this=this;if(0===this.$scope.currentWord.translateVariants.filter(function(v){return v.isSelected}).length&&(this.stopTimer(),0!==this.$scope.secondsForMoveLeft)){var selectedVar=this.$scope.currentWord.translateVariants.filter(function(v){return v.variant===variant})[0];selectedVar?selectedVar.isSelected=!0:console.log("Incorrect var selected"),this.connectionHubService.doMove(this.userNum,this.$scope.currentWord.word,variant).done(function(moveResult){_this.$scope.$apply(function(){_this.handleMove(moveResult,!0)})})}},GameController.prototype.handleMove=function(moveRes,isCurrentUserMove){var _this=this;this.stopTimer(),moveRes.isSkipped&&(this.$scope.secondsForMoveLeft=0,this.$scope.percentagesLeft=0);var currentUserScore=1===this.userNum?this.gameInfo.user1Score:this.gameInfo.user2Score,user2Score=1===this.userNum?this.gameInfo.user2Score:this.gameInfo.user1Score,score=isCurrentUserMove?currentUserScore:user2Score;moveRes.isCorrect?moveRes.isSuccessful?score.successfulMoves++:score.wrongMoves++:console.error(moveRes.errorMessage),moveRes.selectedVariantIndex!==-1&&(this.$scope.currentWord.translateVariants[moveRes.selectedVariantIndex].isSelected=!0),1===this.userNum?(this.$scope.currentUserScore=this.gameInfo.user1Score,this.$scope.user2Score=this.gameInfo.user2Score):(this.$scope.currentUserScore=this.gameInfo.user2Score,this.$scope.user2Score=this.gameInfo.user1Score),this.$timeout(function(){function removeFromArrayIf(arr,callback){for(var i=0;i<arr.length;){if(callback(arr[i],i))return void arr.splice(i,1);++i}}if(_this.$scope.isCurrentUserMove=!isCurrentUserMove,_this.$scope.currentWordIndex++,isCurrentUserMove){var passedWord=new Models.PassedWordInfo;passedWord.word=_this.$scope.currentWord.word,passedWord.answer=_this.$scope.currentWord.translateVariants.filter(function(i){return i.isTrue}).shift().variant,passedWord.wasPassed=moveRes.isSuccessful,_this.$scope.passedWords.push(passedWord)}_this.$scope.currentWord=_this.gameInfo.words[_this.$scope.currentWordIndex],_this.setVarinatsOrder(),removeFromArrayIf(_this.$scope.leftWords,function(w){return w.word===_this.$scope.currentWord.word}),moveRes.isLastMove?(_this.stateHandler.handleGameFinished(_this.$scope.currentUserScore.successfulMoves>_this.$scope.user2Score.successfulMoves,_this.$scope.currentUserScore.successfulMoves==_this.$scope.user2Score.successfulMoves),_this.unsetGameInfo(),_this.connectionHubService.stopHubConnection()):_this.startTimer()},1e3,!0)},GameController.prototype.setVarinatsOrder=function(){this.$scope.currentWord&&this.$scope.currentWord.translateVariants.forEach(function(value,index){return value.order=index+1})},GameController.$inject=["Services.ConnectToGameService","$scope","Services.StateHandlerService","$interval","$timeout"],GameController}();controllers.GameController=GameController,angular.module(Common.GetConstants().appName).controller("controllers.GameController",GameController)}(controllers||(controllers={})),$(function(){$("#word, .word-left-item-caption").attr("unselectable","on").css({"-moz-user-select":"-moz-none","-o-user-select":"none","-khtml-user-select":"none","-webkit-user-select":"none","-ms-user-select":"none","user-select":"none"}).bind("selectstart",function(){return!1})}),$(function(){$(document).keypress(function(e){if(13===e.which)$(".btn-submit:visible").first().click();else if(e.which>=48&&e.which<=57){var numPressed_1=e.which-48;$(".translateVariant:visible").filter(function(index,elem){return $(elem).data("order")===numPressed_1}).first().click()}})}),$(function(){$("#user2variants").bind("DOMNodeInserted",function(){return $(".translateVariant.nohover").tooltip()})});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy90c2NyaXB0cy9hbmltYXRpb25zL3dvcmRzTGVmdEFuaW1hdGlvbi50cyIsInNyYy90c2NyaXB0cy9jb21tb24udHMiLCJzcmMvdHNjcmlwdHMvbWl4aW5zL25nU2NoZWR1bGVyLnRzIiwic3JjL3RzY3JpcHRzL2FwcC50cyIsInNyYy90c2NyaXB0cy9tb2RlbHMvVXNlci50cyIsInNyYy90c2NyaXB0cy9tb2RlbHMvZ3JvdXAudHMiLCJzcmMvdHNjcmlwdHMvbW9kZWxzL3Njb3JlLnRzIiwic3JjL3RzY3JpcHRzL21vZGVscy90cmFuc2xhdGVWYXJpYW50LnRzIiwic3JjL3RzY3JpcHRzL21vZGVscy93b3JkLnRzIiwic3JjL3RzY3JpcHRzL21vZGVscy9nYW1lLnRzIiwic3JjL3RzY3JpcHRzL21vZGVscy9nYW1lUmVzdWx0LnRzIiwic3JjL3RzY3JpcHRzL21vZGVscy9tb3ZlUmVzdWx0LnRzIiwic3JjL3RzY3JpcHRzL21vZGVscy9wYXNzZWRXb3JkSW5mby50cyIsInNyYy90c2NyaXB0cy9tb2RlbHMvbGV2ZWwudHMiLCJzcmMvdHNjcmlwdHMvc2VydmljZXMvY29ubmVjdFRvR2FtZVNlcnZpY2UudHMiLCJzcmMvdHNjcmlwdHMvc2VydmljZXMvQ29va2llU2VydmljZS50cyIsInNyYy90c2NyaXB0cy9zZXJ2aWNlcy9odWJDb25uZWN0aW9uU2VydmljZS50cyIsInNyYy90c2NyaXB0cy9zZXJ2aWNlcy9zdGF0ZUhhbmRsZXJTZXJ2aWNlLnRzIiwic3JjL3RzY3JpcHRzL2NvbnRyb2xsZXJzL2Nvbm5lY3Rpb25Db250cm9sbGVyLnRzIiwic3JjL3RzY3JpcHRzL2NvbnRyb2xsZXJzL2dhbWVDb250cm9sbGVyLnRzIiwic3JjL3RzY3JpcHRzL2RvbS9kaXNhYmxlU2VsZWN0aW9uLnRzIiwic3JjL3RzY3JpcHRzL2RvbS9rZXlib2FyZEJpbmRpbmdzLnRzIiwic3JjL3RzY3JpcHRzL2RvbS90b29sdGlwLnRzIl0sIm5hbWVzIjpbImdldFdvcmRDb250YWluZXJQb3N0aW9uIiwiJGVsZW1lbnQiLCIkIiwieCIsIm9mZnNldCIsImxlZnQiLCJ5IiwidG9wIiwiQ29tbW9uIiwiR2V0Q29uc3RhbnRzIiwiQ29uc3RhbnRzIiwidGhpcyIsImFwcE5hbWUiLCJodWJDb25uZWN0VG9Hcm91cE1ldGhvZE5hbWUiLCJjb25uZWN0ZWRUb0dyb3VwIiwibGVmdEdyb3VwIiwiZ3JvdXBGdWxsZWQiLCJjb21wZXRpdGlvbkh1YiIsImdhbWVTdGFydGVkIiwiZGlkTW92ZSIsImdhbWVGaW5pc2hlZCIsImRvTW92ZSIsInBhc3NNb3ZlIiwiTWl4aW5zIiwiYWN0aW9uV3JhcHBlciIsIiRzY29wZSIsImFjdGlvbiIsInNjaGVkdWxlciIsInN0YXRlIiwiJCRwaGFzZSIsInZhbHVlXzEiLCIkYXBwbHkiLCJOZ1NjaGVkdWxlciIsImltbWVkaWF0ZVNjaGVkdWxlciIsIlJ4IiwiU2NoZWR1bGVyIiwiaW1tZWRpYXRlIiwicHJvdG90eXBlIiwibm93Iiwic2NoZWR1bGUiLCJzY2hlZHVsZUZ1dHVyZSIsImR1ZVRpbWUiLCJFcnJvciIsInNjaGVkdWxlUmVjdXJzaXZlIiwic2NoZWR1bGVSZWN1cnNpdmVGdXR1cmUiLCJzY2hlZHVsZVBlcmlvZGljIiwicGVyaW9kIiwiY2F0Y2giLCJoYW5kbGVyIiwiQXBwIiwiR2V0QXBwIiwiYXBwIiwiY29uc3RhbnRzIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsInVzU3Bpbm5lckNvbmZpZ1Byb3ZpZGVyIiwic2V0RGVmYXVsdHMiLCJjb2xvciIsIk1vZGVscyIsIlVzZXIiLCJHcm91cCIsIlNjb3JlIiwiVHJhbnNsYXRlVmFyaWFudCIsInZhcmlhbnQiLCJpc1RydWUiLCJpc1NlbGVjdGVkIiwiV29yZCIsIkdhbWUiLCJHYW1lUmVzdWx0IiwiTW92ZVJlc3VsdCIsIlBhc3NlZFdvcmRJbmZvIiwiTGV2ZWwiLCJTZXJ2aWNlcyIsIkNvbm5lY3RUb0dhbWVTZXJ2aWNlIiwiaHViQ29ubmVjdGlvblNlcnZpY2UiLCJjb25uZWN0aW9uIiwiZ2V0Q29ubmVjdGlvbiIsImh1YiIsImNyZWF0ZUh1YlByb3h5IiwiY29ubmVjdFRvSHViIiwic3RhcnQiLCJvbkNvbm5lY3RUb0h1YiIsImNhbGxCYWNrIiwib25Db25uZWN0ZWRUb0h1YkNhbGxiYWNrIiwibW92ZU9yZGVyIiwid29yZCIsImludm9rZSIsImNvbm5lY3RUb05ld0dyb3VwSW1wbCIsImRpc3BsYXlOYW1lIiwibGV2ZWwiLCJjb25uZWN0VG9OZXdHcm91cCIsIl90aGlzIiwidGhlbiIsInZhbHVlcyIsImlkIiwib25Db25uZWN0ZWRUb0dyb3VwIiwib24iLCJtc2ciLCJvbkdyb3VwRnVsbGVkIiwib25Vc2VyTGVmdCIsIm9uRGlzY29ubmVjdGVkRnJvbUh1YiIsImRpc2Nvbm5lY3RlZCIsInN0b3BIdWJDb25uZWN0aW9uIiwic3RvcCIsIiRpbmplY3QiLCJzZXJ2aWNlIiwiQ29va2llU2VydmljZSIsInNldENvb2tpZSIsImNuYW1lIiwiY3ZhbHVlIiwiZXhkYXlzIiwiZCIsIkRhdGUiLCJzZXRUaW1lIiwiZ2V0VGltZSIsImV4cGlyZXMiLCJ0b1VUQ1N0cmluZyIsImRvY3VtZW50IiwiY29va2llIiwiZ2V0Q29va2llIiwibmFtZSIsImNhIiwic3BsaXQiLCJpIiwibGVuZ3RoIiwiYyIsImNoYXJBdCIsInN1YnN0cmluZyIsImluZGV4T2YiLCJIdWJDb25uZWN0aW9uU2VydmljZSIsImh1YkNvbm5lY3Rpb24iLCJ1c2VEZWZhdWx0UGF0aCIsImxvZ2dpbmciLCJTdGF0ZUhhbmRsZXJTZXJ2aWNlIiwiJHJvb3RTY29wZSIsIiRtb2RhbCIsInVzU3Bpbm5lclNlcnZpY2UiLCJpc1N0YXJ0R2FtZVBhZ2UiLCJ1c2VySWQiLCJncm91cEZ1bGxlZE9ic2VydmFibGUiLCJTdWJqZWN0IiwiYWRkZWRUb0dyb3VwT2JzZXJ2YWJsZSIsInVzZXJMZWZ0R3JvdXBPYnNlcnZhYmxlIiwiZ2FtZVN0YXJ0ZWRPYnNlcnZhYmxlIiwic2V0VXBHYW1lU2NvcGUiLCIkZ2FtZVNjb3BlIiwiY2FsbEluRGlnZXN0TG9vcCIsInNob3dTdGFydEdhbWVNb2RhbCIsIm9wdCIsInNjb3BlIiwiY29ubmVjdFRvR2FtZVNjb3BlIiwidGVtcGxhdGVVcmwiLCJ3aW5kb3dUZW1wbGF0ZVVybCIsImJhY2tkcm9wIiwia2V5Ym9hcmQiLCJhbmltYXRpb24iLCJzaXplIiwic3RhcnRHYW1lTW9kYWxJbnN0YW5jZSIsIm9wZW4iLCJzaG93R2FtZUZpbmlzaGVkTW9kYWxXaW5kb3ciLCJpc1dpbiIsImlzRHJhdyIsInVuZGVmaW5lZCIsImNvbnRyb2xsZXIiLCJwbGF5QWdhaW4iLCJjb25uZWN0VG9Hcm91cCIsIm1lc3NhZ2UiLCJzdGFydFNwaW4iLCJzcGluS2V5Iiwib2JzZXJ2YWJsZSIsInNwaW4iLCJzdWJzY3JpYmUiLCJzZXRDb25uZWN0VG9HYW1lU2NvcGUiLCJoYW5kbGVDb25uZWN0aW9uVG9Hcm91cCIsInByb21pc2UiLCJhZGRlZFRvR3JvdXAiLCJ0YWtlIiwiY2xvc2UiLCJPYnNlcnZhYmxlIiwibWVyZ2UiLCJmcm9tUHJvbWlzZSIsImZhaWwiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJoYW5kbGVVc2VyQWRkZWRUb0dyb3VwIiwib25OZXh0Iiwic2hvd1N0YXJ0R2FtZVdpbmRvdyIsImhhbmRsZUdhbWVGaW5pc2hlZCIsImhhbmRsZUdyb3VwRnVsbGVkIiwiaGFuZGxlR2FtZVN0YXJ0ZWQiLCJnZXRVc2VySWQiLCJzZXRVc2VySWQiLCJoYW5kbGVVc2VyMkxlZnRHcm91cCIsImdldFVzZXJEaXNwbGF5TmFtZSIsImhhbmRsZURpc2Nvbm5lY3RlZEZyb21IdWIiLCJjb250cm9sbGVycyIsIkNvbm5lY3RUb0dhbWVDb250cm9sbGVyIiwiY29ubmVjdGlvbkh1YlNlcnZpY2UiLCJzdGF0ZUhhbmRsZXIiLCJjb29ja2llU2VydmljZSIsImRpc3BsYXlOYW1lQ29va2llS2V5IiwibGV2ZWxDb29raWVLZXkiLCJpbml0aWFsaXplVmlld01vZGVsIiwiZGF0YSIsImNhbGwiLCJhcHBseSIsInZhbHVlIiwibGV2ZWxzIiwiQmVnaW5lciIsIkludGVybWVkaWF0ZSIsIkFkdmFuY2VkIiwiY2hhbmdlTGV2ZWwiLCJkaXNwbGF5TmFtZUZyb21Db29raWVzIiwibGV2ZWxGcm9tQ29va2llcyIsImNvb2tpZVZhbHVlIiwicGFyc2VJbnQiLCJncm91cEluZm8iLCJHYW1lQ29udHJvbGxlciIsIiRpbnRlcnZhbCIsIiR0aW1lb3V0Iiwic2Vjb25kc0Zvck1vdmUiLCJxdWF0ZXMiLCJzdGFydEdhbWUiLCJ1c2VyMmRpZE1vdmUiLCJ1bnNldEdhbWVJbmZvIiwicmFuZG9tUXVhdGVJbmRleCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInJhbmRvbVF1YXRlIiwiZ3JvdXAiLCJpc1VzZXIxIiwidXNlcnNMaXN0IiwidXNlcjJEaXNwbGF5TmFtZSIsInN0b3BUaW1lciIsImdhbWVJbmZvIiwiY3VycmVudFdvcmQiLCJzZWNvbmRzRm9yTW92ZUxlZnQiLCJwZXJjZW50YWdlc0xlZnQiLCJpc0N1cnJlbnRVc2VyTW92ZSIsImN1cnJlbnRVc2VyU2NvcmUiLCJ1c2VyMlNjb3JlIiwicGFzc2VkV29yZHMiLCJsZWZ0V29yZHMiLCJnYW1lIiwid29yZHMiLCJ1c2VyMSIsInVzZXJOdW0iLCJzaHVmZmxlIiwiYXJyIiwidCIsImFycmF5Iiwic2xpY2UiLCJtIiwidXNlcjFTY29yZSIsImN1cnJlbnRXb3JkSW5kZXgiLCJzZXRWYXJpbmF0c09yZGVyIiwiY3VycmVudE1vdmUiLCJzdGFydFRpbWVyIiwidGltZXJQcm9taXNlIiwiY2FuY2VsIiwibW92ZVJlcyIsImhhbmRsZU1vdmUiLCJkb25lIiwibW92ZVJlc3VsdCIsInRyYW5zbGF0ZVZhcmlhbnRzIiwiZmlsdGVyIiwidiIsInNlbGVjdGVkVmFyIiwiaXNTa2lwcGVkIiwic2NvcmUiLCJpc0NvcnJlY3QiLCJpc1N1Y2Nlc3NmdWwiLCJzdWNjZXNzZnVsTW92ZXMiLCJ3cm9uZ01vdmVzIiwiZXJyb3JNZXNzYWdlIiwic2VsZWN0ZWRWYXJpYW50SW5kZXgiLCJyZW1vdmVGcm9tQXJyYXlJZiIsImNhbGxiYWNrIiwic3BsaWNlIiwicGFzc2VkV29yZCIsImFuc3dlciIsInNoaWZ0Iiwid2FzUGFzc2VkIiwicHVzaCIsInciLCJpc0xhc3RNb3ZlIiwiZm9yRWFjaCIsImluZGV4Iiwib3JkZXIiLCJhdHRyIiwiY3NzIiwiLW1vei11c2VyLXNlbGVjdCIsIi1vLXVzZXItc2VsZWN0IiwiLWtodG1sLXVzZXItc2VsZWN0IiwiLXdlYmtpdC11c2VyLXNlbGVjdCIsIi1tcy11c2VyLXNlbGVjdCIsInVzZXItc2VsZWN0IiwiYmluZCIsImtleXByZXNzIiwiZSIsIndoaWNoIiwiZmlyc3QiLCJjbGljayIsIm51bVByZXNzZWRfMSIsImVsZW0iLCJ0b29sdGlwIl0sIm1hcHBpbmdzIjoiQUE2QkEsUUFBQUEsMkJBQ0ksR0FBSUMsVUFBV0MsRUFBRSxnQkFFakIsUUFDSUMsRUFBR0YsU0FBU0csU0FBU0MsS0FDckJDLEVBQUdMLFNBQVNHLFNBQVNHLEtDekI3QixHQUFPQyxTQUFQLFNBQU9BLFFBNkJILFFBQUFDLGdCQUNJLE1BQU8sSUFBSUMsV0E3QmYsR0FBQUEsV0FBQSxXQWFJLFFBQUFBLGFBQ0lDLEtBQUtDLFFBQVUsVUFDZkQsS0FBS0UsNEJBQThCLFVBQ25DRixLQUFLRyxpQkFBbUIsWUFDeEJILEtBQUtJLFVBQVksV0FDakJKLEtBQUtLLFlBQWMsY0FDbkJMLEtBQUtNLGVBQWlCLGlCQUN0Qk4sS0FBS08sWUFBYyxjQUNuQlAsS0FBS1EsUUFBVSxVQUNmUixLQUFLUyxhQUFlLGVBQ3BCVCxLQUFLVSxPQUFTLFNBQ2RWLEtBQUtXLFNBQVcsV0FFeEIsTUFBQVosYUExQmFGLFFBQUFFLFVBQVNBLFVBNEJMRixPQUFBQyxhQUFZQSxjQTdCMUJELFNBQUFBLFdDUlAsSUFBT2UsU0FBUCxTQUFPQSxRQUNILFFBQUFDLGVBQStCQyxPQUFtQkMsUUFFOUMsTUFBTyxVQUFDQyxVQUEwQkMsT0FDOUIsSUFBS0gsT0FBT0ksUUFBUyxDQUNqQixHQUFJQyxRQUlKLE9BSEFMLFFBQU9NLE9BQU8s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QU10RyxLQUFLLFdBQWFxRyxlQUM1RUYsUUFDQUMsYUNSakIvUyxFQUFFLFdBQ0VBLEVBQUUsa0JBQWtCMFMsS0FBSyxrQkFBbUIsV0FBTSxNQUFDMVMsR0FBRSw2QkFBcUNrVCIsImZpbGUiOiJjdXN0b20uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vY29tbW9uLnRzXCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2FwcC50c1wiIC8+XHJcbmludGVyZmFjZSBQb2ludCB7XHJcbiAgICB4OiBudW1iZXI7XHJcbiAgICB5OiBudW1iZXI7XHJcbn07XHJcblxyXG4vLyBBcHAuR2V0QXBwKCkuYW5pbWF0aW9uKCcud29yZHMtbGVmdC1pdGVtJywgZnVuY3Rpb24oKTphbmd1bGFyLmFuaW1hdGUuSUFuaW1hdGVDYWxsYmFja09iamVjdCB7XHJcbi8vICAgICByZXR1cm4ge1xyXG4vLyAgICAgICAgIGxlYXZlOiBmdW5jdGlvbihlbGVtZW50OiBKUXVlcnksIGRvbmU6IEZ1bmN0aW9uKSB7XHJcbi8vICAgICAgICAgICAgIGxldCAkZWxlbWVudCA9ICQoZWxlbWVudCk7XHJcbi8vICAgICAgICAgICAgIHZhciB0YXJnZXRQb3MgPSBnZXRXb3JkQ29udGFpbmVyUG9zdGlvbigpO1xyXG4vLyAgICAgICAgICAgICAvLyAkZWxlbWVudC5hbmltYXRlKHtcclxuLy8gICAgICAgICAgICAgLy8gICAgIG9wYXNpdHk6IDAsXHJcbi8vICAgICAgICAgICAgIC8vICAgICB0b3A6IHRhcmdldFBvcy55LFxyXG4vLyAgICAgICAgICAgICAvLyAgICAgbGVmdDogdGFyZ2V0UG9zLnhcclxuLy8gICAgICAgICAgICAgLy8gfSwgZG9uZSk7XHJcbi8vICAgICAgICAgICAgIGRvbmUoKTtcclxuXHJcbi8vICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihpc0NhbmNlbGxlZDogYm9vbGVhbikge1xyXG4vLyAgICAgICAgICAgICAgICAgaWYgKGlzQ2FuY2VsbGVkKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgJGVsZW1lbnQuc3RvcCgpO1xyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfTtcclxuLy8gfSlcclxuXHJcblxyXG5mdW5jdGlvbiBnZXRXb3JkQ29udGFpbmVyUG9zdGlvbigpOiBQb2ludCB7XHJcbiAgICBsZXQgJGVsZW1lbnQgPSAkKCcjd29yZC1lbGVtZW50Jyk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB4OiAkZWxlbWVudC5vZmZzZXQoKS5sZWZ0LFxyXG4gICAgICAgIHk6ICRlbGVtZW50Lm9mZnNldCgpLnRvcFxyXG4gICAgfVxyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL3R5cGluZ3MvZ2xvYmFscy9hbmd1bGFyL2luZGV4LmQudHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vdHlwaW5ncy9nbG9iYWxzL2pxdWVyeS9pbmRleC5kLnRzXCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL3R5cGluZ3MvZ2xvYmFscy9zaWduYWxyL2luZGV4LmQudHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vdHlwaW5ncy9nbG9iYWxzL2VzNi1zaGltL2luZGV4LmQudHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vdHlwaW5ncy9nbG9iYWxzL2FuZ3VsYXItdWktYm9vdHN0cmFwL2luZGV4LmQudHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vbm9kZV9tb2R1bGVzL3J4L3RzL3J4LmQudHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vdHlwaW5ncy9nbG9iYWxzL3J4LmFuZ3VsYXIvaW5kZXguZC50c1wiIC8+XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi90eXBpbmdzL2dsb2JhbHMvYW5ndWxhci1hbmltYXRlL2luZGV4LmQudHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vdHlwaW5ncy9nbG9iYWxzL2FuZ3VsYXItc3Bpbm5lci9pbmRleC5kLnRzXCIgLz5cclxubW9kdWxlIENvbW1vbiB7XHJcbiAgICBleHBvcnQgY2xhc3MgQ29uc3RhbnRzIHtcclxuICAgICAgICBwdWJsaWMgYXBwTmFtZTogc3RyaW5nO1xyXG4gICAgICAgIHB1YmxpYyBodWJDb25uZWN0VG9Hcm91cE1ldGhvZE5hbWU6IHN0cmluZztcclxuICAgICAgICBwdWJsaWMgY29ubmVjdGVkVG9Hcm91cDogc3RyaW5nO1xyXG4gICAgICAgIHB1YmxpYyBsZWZ0R3JvdXA6IHN0cmluZztcclxuICAgICAgICBwdWJsaWMgZ3JvdXBGdWxsZWQ6IHN0cmluZztcclxuICAgICAgICBwdWJsaWMgY29tcGV0aXRpb25IdWI6IHN0cmluZztcclxuICAgICAgICBwdWJsaWMgZ2FtZVN0YXJ0ZWQ6IHN0cmluZztcclxuICAgICAgICBwdWJsaWMgZGlkTW92ZTogc3RyaW5nO1xyXG4gICAgICAgIHB1YmxpYyBnYW1lRmluaXNoZWQ6IHN0cmluZztcclxuICAgICAgICBwdWJsaWMgZG9Nb3ZlOiBzdHJpbmc7XHJcbiAgICAgICAgcHVibGljIHBhc3NNb3ZlOiBzdHJpbmc7XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgICAgICB0aGlzLmFwcE5hbWUgPSBcImdhbWVBcHBcIlxyXG4gICAgICAgICAgICB0aGlzLmh1YkNvbm5lY3RUb0dyb3VwTWV0aG9kTmFtZSA9IFwiY29ubmVjdFwiO1xyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3RlZFRvR3JvdXAgPSBcInVzZXJBZGRlZFwiO1xyXG4gICAgICAgICAgICB0aGlzLmxlZnRHcm91cCA9IFwidXNlckxlZnRcIjtcclxuICAgICAgICAgICAgdGhpcy5ncm91cEZ1bGxlZCA9IFwiZ3JvdXBGdWxsZWRcIjtcclxuICAgICAgICAgICAgdGhpcy5jb21wZXRpdGlvbkh1YiA9IFwiY29tcGV0aXRpb25IdWJcIjtcclxuICAgICAgICAgICAgdGhpcy5nYW1lU3RhcnRlZCA9IFwiZ2FtZVN0YXJ0ZWRcIjtcclxuICAgICAgICAgICAgdGhpcy5kaWRNb3ZlID0gXCJkaWRNb3ZlXCI7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZUZpbmlzaGVkID0gXCJnYW1lRmluaXNoZWRcIjtcclxuICAgICAgICAgICAgdGhpcy5kb01vdmUgPSBcImRvTW92ZVwiO1xyXG4gICAgICAgICAgICB0aGlzLnBhc3NNb3ZlID0gXCJwYXNzTW92ZVwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uICBHZXRDb25zdGFudHMoKTogQ29uc3RhbnRzIHtcclxuICAgICAgICByZXR1cm4gbmV3IENvbnN0YW50cygpO1xyXG4gICAgfVxyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2NvbW1vbi50c1wiIC8+XHJcbm1vZHVsZSBNaXhpbnMge1xyXG4gICAgZnVuY3Rpb24gYWN0aW9uV3JhcHBlcjxUU3RhdGU+KCRzY29wZTogbmcuSVNjb3BlLCBhY3Rpb246IChzY2hlZHVsZXI6IFJ4LklTY2hlZHVsZXIsIHN0YXRlOiBUU3RhdGUpID0+IFJ4LklEaXNwb3NhYmxlKTogXHJcbiAgICAoc2NoZWR1bGVyOiBSeC5JU2NoZWR1bGVyLCBzdGF0ZTogVFN0YXRlKSA9PiBSeC5JRGlzcG9zYWJsZSAge1xyXG4gICAgICAgIHJldHVybiAoc2NoZWR1bGVyOiBSeC5JU2NoZWR1bGVyLCBzdGF0ZTogVFN0YXRlKTogUnguSURpc3Bvc2FibGUgPT4ge1xyXG4gICAgICAgICAgICBpZiAoISRzY29wZS4kJHBoYXNlKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsdWU6IFJ4LklEaXNwb3NhYmxlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiRhcHBseSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBhY3Rpb24oc2NoZWR1bGVyLCBzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gYWN0aW9uKHNjaGVkdWxlciwgc3RhdGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgY2xhc3MgTmdTY2hlZHVsZXIgaW1wbGVtZW50cyBSeC5JU2NoZWR1bGVyIHtcclxuICAgICAgICBwcml2YXRlIGltbWVkaWF0ZVNjaGVkdWxlcjogUnguSVNjaGVkdWxlcjtcclxuICAgICAgICBwcml2YXRlICRzY29wZTogbmcuSVNjb3BlO1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcigkc2NvcGU6IG5nLklTY29wZSkge1xyXG4gICAgICAgICAgICB0aGlzLmltbWVkaWF0ZVNjaGVkdWxlciA9IFJ4LlNjaGVkdWxlci5pbW1lZGlhdGU7XHJcbiAgICAgICAgICAgIHRoaXMuJHNjb3BlID0gJHNjb3BlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbm93KCk6IG51bWJlciB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmltbWVkaWF0ZVNjaGVkdWxlci5ub3coKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAgKiBTY2hlZHVsZXMgYW4gYWN0aW9uIHRvIGJlIGV4ZWN1dGVkLlxyXG4gICAgICAgICAgKiBAcGFyYW0gc3RhdGUgU3RhdGUgcGFzc2VkIHRvIHRoZSBhY3Rpb24gdG8gYmUgZXhlY3V0ZWQuXHJcbiAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFjdGlvbiBBY3Rpb24gdG8gYmUgZXhlY3V0ZWQuXHJcbiAgICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBUaGUgZGlzcG9zYWJsZSBvYmplY3QgdXNlZCB0byBjYW5jZWwgdGhlIHNjaGVkdWxlZCBhY3Rpb24gKGJlc3QgZWZmb3J0KS5cclxuICAgICAgICAgICovXHJcbiAgICAgICAgc2NoZWR1bGU8VFN0YXRlPihzdGF0ZTogVFN0YXRlLCBhY3Rpb246IChzY2hlZHVsZXI6IFJ4LklTY2hlZHVsZXIsIHN0YXRlOiBUU3RhdGUpID0+IFJ4LklEaXNwb3NhYmxlKTogUnguSURpc3Bvc2FibGUge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbW1lZGlhdGVTY2hlZHVsZXIuc2NoZWR1bGUoc3RhdGUsIGFjdGlvbldyYXBwZXIodGhpcy4kc2NvcGUsIGFjdGlvbikpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU2NoZWR1bGVzIGFuIGFjdGlvbiB0byBiZSBleGVjdXRlZCBhZnRlciBkdWVUaW1lLlxyXG4gICAgICAgICAqIEBwYXJhbSBzdGF0ZSBTdGF0ZSBwYXNzZWQgdG8gdGhlIGFjdGlvbiB0byBiZSBleGVjdXRlZC5cclxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhY3Rpb24gQWN0aW9uIHRvIGJlIGV4ZWN1dGVkLlxyXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBkdWVUaW1lIFJlbGF0aXZlIHRpbWUgYWZ0ZXIgd2hpY2ggdG8gZXhlY3V0ZSB0aGUgYWN0aW9uLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBUaGUgZGlzcG9zYWJsZSBvYmplY3QgdXNlZCB0byBjYW5jZWwgdGhlIHNjaGVkdWxlZCBhY3Rpb24gKGJlc3QgZWZmb3J0KS5cclxuICAgICAgICAgKi9cclxuICAgICAgICBzY2hlZHVsZUZ1dHVyZTxUU3RhdGU+KHN0YXRlOiBUU3RhdGUsIGR1ZVRpbWU6IG51bWJlciB8IERhdGUsIGFjdGlvbjogKHNjaGVkdWxlcjogUnguSVNjaGVkdWxlciwgc3RhdGU6IFRTdGF0ZSkgPT4gUnguSURpc3Bvc2FibGUpOiBSeC5JRGlzcG9zYWJsZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBzdXBwb3J0ZWRcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTY2hlZHVsZXMgYW4gYWN0aW9uIHRvIGJlIGV4ZWN1dGVkIHJlY3Vyc2l2ZWx5LlxyXG4gICAgICAgICAqIEBwYXJhbSB7TWl4ZWR9IHN0YXRlIFN0YXRlIHBhc3NlZCB0byB0aGUgYWN0aW9uIHRvIGJlIGV4ZWN1dGVkLlxyXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFjdGlvbiBBY3Rpb24gdG8gZXhlY3V0ZSByZWN1cnNpdmVseS4gVGhlIGxhc3QgcGFyYW1ldGVyIHBhc3NlZCB0byB0aGUgYWN0aW9uIGlzIHVzZWQgdG8gdHJpZ2dlciByZWN1cnNpdmUgc2NoZWR1bGluZyBvZiB0aGUgYWN0aW9uLCBwYXNzaW5nIGluIHJlY3Vyc2l2ZSBpbnZvY2F0aW9uIHN0YXRlLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBUaGUgZGlzcG9zYWJsZSBvYmplY3QgdXNlZCB0byBjYW5jZWwgdGhlIHNjaGVkdWxlZCBhY3Rpb24gKGJlc3QgZWZmb3J0KS5cclxuICAgICAgICAgKi9cclxuICAgICAgICBzY2hlZHVsZVJlY3Vyc2l2ZTxUU3RhdGU+KHN0YXRlOiBUU3RhdGUsIGFjdGlvbjogKHN0YXRlOiBUU3RhdGUsIGFjdGlvbjogKHN0YXRlOiBUU3RhdGUpID0+IHZvaWQpID0+IHZvaWQpOiBSeC5JRGlzcG9zYWJsZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBzdXBwb3J0ZWRcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTY2hlZHVsZXMgYW4gYWN0aW9uIHRvIGJlIGV4ZWN1dGVkIHJlY3Vyc2l2ZWx5IGFmdGVyIGEgc3BlY2lmaWVkIHJlbGF0aXZlIGR1ZSB0aW1lLlxyXG4gICAgICAgICAqIEBwYXJhbSB7TWl4ZWR9IHN0YXRlIFN0YXRlIHBhc3NlZCB0byB0aGUgYWN0aW9uIHRvIGJlIGV4ZWN1dGVkLlxyXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFjdGlvbiBBY3Rpb24gdG8gZXhlY3V0ZSByZWN1cnNpdmVseS4gVGhlIGxhc3QgcGFyYW1ldGVyIHBhc3NlZCB0byB0aGUgYWN0aW9uIGlzIHVzZWQgdG8gdHJpZ2dlciByZWN1cnNpdmUgc2NoZWR1bGluZyBvZiB0aGUgYWN0aW9uLCBwYXNzaW5nIGluIHRoZSByZWN1cnNpdmUgZHVlIHRpbWUgYW5kIGludm9jYXRpb24gc3RhdGUuXHJcbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9ZHVlVGltZSBSZWxhdGl2ZSB0aW1lIGFmdGVyIHdoaWNoIHRvIGV4ZWN1dGUgdGhlIGFjdGlvbiBmb3IgdGhlIGZpcnN0IHRpbWUuXHJcbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFRoZSBkaXNwb3NhYmxlIG9iamVjdCB1c2VkIHRvIGNhbmNlbCB0aGUgc2NoZWR1bGVkIGFjdGlvbiAoYmVzdCBlZmZvcnQpLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHNjaGVkdWxlUmVjdXJzaXZlRnV0dXJlPFRTdGF0ZSwgVFRpbWUgZXh0ZW5kcyBudW1iZXIgfCBEYXRlPihzdGF0ZTogVFN0YXRlLCBkdWVUaW1lOiBUVGltZSwgYWN0aW9uOiAoc3RhdGU6IFRTdGF0ZSwgYWN0aW9uOiAoc3RhdGU6IFRTdGF0ZSwgZHVlVGltZTogVFRpbWUpID0+IHZvaWQpID0+IHZvaWQpOiBSeC5JRGlzcG9zYWJsZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBzdXBwb3J0ZWRcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTY2hlZHVsZXMgYSBwZXJpb2RpYyBwaWVjZSBvZiB3b3JrIGJ5IGR5bmFtaWNhbGx5IGRpc2NvdmVyaW5nIHRoZSBzY2hlZHVsZXIncyBjYXBhYmlsaXRpZXMuIFRoZSBwZXJpb2RpYyB0YXNrIHdpbGwgYmUgc2NoZWR1bGVkIHVzaW5nIHdpbmRvdy5zZXRJbnRlcnZhbCBmb3IgdGhlIGJhc2UgaW1wbGVtZW50YXRpb24uXHJcbiAgICAgICAgICogQHBhcmFtIHtNaXhlZH0gc3RhdGUgSW5pdGlhbCBzdGF0ZSBwYXNzZWQgdG8gdGhlIGFjdGlvbiB1cG9uIHRoZSBmaXJzdCBpdGVyYXRpb24uXHJcbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHBlcmlvZCBQZXJpb2QgZm9yIHJ1bm5pbmcgdGhlIHdvcmsgcGVyaW9kaWNhbGx5LlxyXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFjdGlvbiBBY3Rpb24gdG8gYmUgZXhlY3V0ZWQsIHBvdGVudGlhbGx5IHVwZGF0aW5nIHRoZSBzdGF0ZS5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gVGhlIGRpc3Bvc2FibGUgb2JqZWN0IHVzZWQgdG8gY2FuY2VsIHRoZSBzY2hlZHVsZWQgcmVjdXJyaW5nIGFjdGlvbiAoYmVzdCBlZmZvcnQpLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHNjaGVkdWxlUGVyaW9kaWM8VFN0YXRlPihzdGF0ZTogVFN0YXRlLCBwZXJpb2Q6IG51bWJlciwgYWN0aW9uOiAoc3RhdGU6IFRTdGF0ZSkgPT4gVFN0YXRlKTogUnguSURpc3Bvc2FibGUge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3Qgc3VwcG9ydGVkXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY2F0Y2goaGFuZGxlcjogRnVuY3Rpb24pOiBSeC5JU2NoZWR1bGVyIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW1tZWRpYXRlU2NoZWR1bGVyLmNhdGNoKGhhbmRsZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCJjb21tb24udHNcIiAvPlxyXG5tb2R1bGUgQXBwIHtcclxuICAgIHZhciBjb25zdGFudHMgPSBDb21tb24uR2V0Q29uc3RhbnRzKCk7XHJcbiAgICB2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoY29uc3RhbnRzLmFwcE5hbWUsIFsndWkuYm9vdHN0cmFwLm1vZGFsJywgJ25nQW5pbWF0ZScsICdhbmd1bGFyU3Bpbm5lciddKTtcclxuICAgIGFwcC5jb25maWcoWyd1c1NwaW5uZXJDb25maWdQcm92aWRlcicsIGZ1bmN0aW9uICh1c1NwaW5uZXJDb25maWdQcm92aWRlcikge1xyXG4gICAgICAgIHVzU3Bpbm5lckNvbmZpZ1Byb3ZpZGVyLnNldERlZmF1bHRzKHtjb2xvcjogJyM1QjkxREUnfSk7XHJcbiAgICB9XSk7XHJcbiAgICBleHBvcnQgZnVuY3Rpb24gR2V0QXBwKCk6IG5nLklNb2R1bGUge1xyXG4gICAgICAgIHJldHVybiBhcHA7XHJcbiAgICB9XHJcbn0iLCJtb2R1bGUgTW9kZWxzIHtcclxuICAgIGV4cG9ydCBjbGFzcyBVc2VyIHtcclxuICAgICAgICBwdWJsaWMgdXNlcklkOiBzdHJpbmc7XHJcbiAgICAgICAgcHVibGljIGRpc3BsYXlOYW1lOiBzdHJpbmc7XHJcbiAgICB9XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi9Vc2VyLnRzXCIgLz5cclxubW9kdWxlIE1vZGVscyB7XHJcbiAgICBleHBvcnQgY2xhc3MgR3JvdXAge1xyXG4gICAgICAgIHB1YmxpYyBncm91cElkOiBzdHJpbmc7XHJcblxyXG4gICAgICAgIHB1YmxpYyB1c2Vyc0xpc3Q6IEFycmF5PE1vZGVscy5Vc2VyPlxyXG4gICAgfVxyXG59IiwibW9kdWxlIE1vZGVscyB7XHJcbiAgICBleHBvcnQgY2xhc3MgU2NvcmUge1xyXG4gICAgICAgIHB1YmxpYyBzdWNjZXNzZnVsTW92ZXM6IG51bWJlcjtcclxuXHJcbiAgICAgICAgcHVibGljIHdyb25nTW92ZXM6IG51bWJlcjtcclxuICAgIH1cclxufSIsIm1vZHVsZSBNb2RlbHMge1xyXG4gICAgZXhwb3J0IGNsYXNzIFRyYW5zbGF0ZVZhcmlhbnQge1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgICAgICB0aGlzLnZhcmlhbnQgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLmlzVHJ1ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmlzU2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB2YXJpYW50OiBzdHJpbmc7XHJcblxyXG4gICAgICAgIHB1YmxpYyBpc1RydWU6IGJvb2xlYW47XHJcblxyXG4gICAgICAgIHB1YmxpYyBpc1NlbGVjdGVkOiBib29sZWFuO1xyXG5cclxuICAgICAgICBwdWJsaWMgb3JkZXI6IG51bWJlcjtcclxuICAgIH1cclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuL3RyYW5zbGF0ZVZhcmlhbnQudHNcIiAvPlxyXG5tb2R1bGUgTW9kZWxzIHtcclxuICAgIGV4cG9ydCBjbGFzcyBXb3JkIHtcclxuICAgICAgICBwdWJsaWMgd29yZDogc3RyaW5nO1xyXG5cclxuICAgICAgICBwdWJsaWMgdHJhbnNsYXRlVmFyaWFudHM6IEFycmF5PFRyYW5zbGF0ZVZhcmlhbnQ+XHJcblxyXG4gICAgICAgIHB1YmxpYyBleHBsYW5hdGlvblF1b3RlczogQXJyYXk8c3RyaW5nPlxyXG5cclxuICAgICAgICBwdWJsaWMgZGVmaW5pdGlvbjogc3RyaW5nO1xyXG5cclxuICAgICAgICBwdWJsaWMgc2hvcnRXb3JkUmVwcmVzZW50YXRpb246IHN0cmluZztcclxuICAgIH1cclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuL3Njb3JlLnRzXCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vd29yZC50c1wiIC8+XHJcbm1vZHVsZSBNb2RlbHMge1xyXG4gICAgZXhwb3J0IGNsYXNzIEdhbWUge1xyXG4gICAgICAgIHB1YmxpYyB1c2VyMTogVXNlcjtcclxuXHJcbiAgICAgICAgcHVibGljIHVzZXIyOiBVc2VyO1xyXG5cclxuICAgICAgICBwdWJsaWMgY3VycmVudE1vdmU6IG51bWJlcjtcclxuXHJcbiAgICAgICAgcHVibGljIHdvcmRzOiBBcnJheTxXb3JkPlxyXG5cclxuICAgICAgICBwdWJsaWMgdXNlcjFTY29yZTogU2NvcmU7XHJcblxyXG4gICAgICAgIHB1YmxpYyB1c2VyMlNjb3JlOiBTY29yZTtcclxuICAgIH1cclxufSIsIm1vZHVsZSBNb2RlbHMge1xyXG4gICAgZXhwb3J0IGNsYXNzIEdhbWVSZXN1bHQge1xyXG4gICAgICAgIHB1YmxpYyB3aW5uZXI6IG51bWJlcjtcclxuXHJcbiAgICAgICAgcHVibGljIGlzRHJhdzogYm9vbGVhbjtcclxuICAgIH1cclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuL2dhbWVSZXN1bHQudHNcIiAvPlxyXG5tb2R1bGUgTW9kZWxzIHtcclxuICAgIGV4cG9ydCBjbGFzcyBNb3ZlUmVzdWx0IHtcclxuICAgICAgICBwdWJsaWMgaXNTdWNjZXNzZnVsOiBib29sZWFuO1xyXG5cclxuICAgICAgICBwdWJsaWMgaXNDb3JyZWN0OiBib29sZWFuO1xyXG5cclxuICAgICAgICBwdWJsaWMgZXJyb3JNZXNzYWdlOiBzdHJpbmc7XHJcblxyXG4gICAgICAgIHB1YmxpYyBpc0xhc3RNb3ZlOiBib29sZWFuO1xyXG5cclxuICAgICAgICBwdWJsaWMgZ2FtZVJlc3VsdDogTW9kZWxzLkdhbWVSZXN1bHQ7XHJcblxyXG4gICAgICAgIHB1YmxpYyBzZWxlY3RlZFZhcmlhbnRJbmRleDogbnVtYmVyO1xyXG5cclxuICAgICAgICBwdWJsaWMgaXNTa2lwcGVkOiBib29sZWFuO1xyXG4gICAgfVxyXG59IiwibW9kdWxlIE1vZGVscyB7XHJcbiAgICBleHBvcnQgY2xhc3MgUGFzc2VkV29yZEluZm8ge1xyXG4gICAgICAgIHB1YmxpYyB3b3JkOiBzdHJpbmc7XHJcbiAgICAgICAgcHVibGljIGFuc3dlcjogc3RyaW5nO1xyXG5cclxuICAgICAgICBwdWJsaWMgd2FzUGFzc2VkOiBib29sZWFuO1xyXG4gICAgfVxyXG59IiwibW9kdWxlIE1vZGVscyB7XHJcbiAgICBleHBvcnQgZW51bSBMZXZlbCB7XHJcbiAgICAgICAgQmVnaW5lciA9IDEsXHJcblxyXG4gICAgICAgIEludGVybWVkaWF0ZSA9IDIsXHJcblxyXG4gICAgICAgIEFkdmFuY2VkID0gM1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSUxldmVsTmFtZVBhaXIge1xyXG4gICAgICAgIG5hbWU6IHN0cmluZztcclxuICAgICAgICBsZXZlbDogTW9kZWxzLkxldmVsO1xyXG4gICAgfVxyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2ludGVyZmFjZXMudHNcIiAvPlxyXG5tb2R1bGUgU2VydmljZXMge1xyXG4gICAgZXhwb3J0IGNsYXNzIENvbm5lY3RUb0dhbWVTZXJ2aWNlIGltcGxlbWVudHMgSW50ZXJmYWNlcy5JQ29ubmVjdFRvR2FtZSB7XHJcbiAgICAgICAgcHJpdmF0ZSBodWI6IFNpZ25hbFIuSHViLlByb3h5O1xyXG4gICAgICAgIHByaXZhdGUgY29ubmVjdGlvbjogU2lnbmFsUi5IdWIuQ29ubmVjdGlvbjtcclxuICAgICAgICBwcml2YXRlIGNvbnN0YW50czogQ29tbW9uLkNvbnN0YW50cztcclxuICAgICAgICBwcml2YXRlIG9uQ29ubmVjdGVkVG9IdWJDYWxsYmFjazoodXNlcklkOiBzdHJpbmcpID0+IHZvaWRcclxuXHJcbiAgICAgICAgc3RhdGljICRpbmplY3QgPSBbXCJTZXJ2aWNlcy5IdWJDb25uZWN0aW9uU2VydmljZVwiXTtcclxuICAgICAgICBjb25zdHJ1Y3RvcihodWJDb25uZWN0aW9uU2VydmljZTogSW50ZXJmYWNlcy5JSHViQ29ubmVjdGlvbikge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnN0YW50cyA9IENvbW1vbi5HZXRDb25zdGFudHMoKTtcclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uID0gaHViQ29ubmVjdGlvblNlcnZpY2UuZ2V0Q29ubmVjdGlvbigpO1xyXG4gICAgICAgICAgICB0aGlzLmh1YiA9IHRoaXMuY29ubmVjdGlvbi5jcmVhdGVIdWJQcm94eSh0aGlzLmNvbnN0YW50cy5jb21wZXRpdGlvbkh1Yik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGNvbm5lY3RUb0h1YigpOiBKUXVlcnlQcm9taXNlPGFueT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5odWIuY29ubmVjdGlvbi5zdGFydCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIG9uQ29ubmVjdFRvSHViKGNhbGxCYWNrOih1c2VySWQ6IHN0cmluZykgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLm9uQ29ubmVjdGVkVG9IdWJDYWxsYmFjayA9IGNhbGxCYWNrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGRvTW92ZShtb3ZlT3JkZXI6IG51bWJlciwgd29yZDogc3RyaW5nLCB2YXJpYW50OnN0cmluZyk6IEpRdWVyeVByb21pc2U8TW9kZWxzLk1vdmVSZXN1bHQ+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaHViLmludm9rZSh0aGlzLmNvbnN0YW50cy5kb01vdmUsIG1vdmVPcmRlciwgd29yZCwgdmFyaWFudCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgcGFzc01vdmUobW92ZU9yZGVyOiBudW1iZXIpOiBKUXVlcnlQcm9taXNlPE1vZGVscy5Nb3ZlUmVzdWx0PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmh1Yi5pbnZva2UodGhpcy5jb25zdGFudHMucGFzc01vdmUsIG1vdmVPcmRlcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGNvbm5lY3RUb05ld0dyb3VwSW1wbChkaXNwbGF5TmFtZTogc3RyaW5nLCBsZXZlbDogTW9kZWxzLkxldmVsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmh1Yi5pbnZva2UodGhpcy5jb25zdGFudHMuaHViQ29ubmVjdFRvR3JvdXBNZXRob2ROYW1lLCBkaXNwbGF5TmFtZSwgbGV2ZWwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGNvbm5lY3RUb05ld0dyb3VwKGRpc3BsYXlOYW1lOiBzdHJpbmcsIGxldmVsOiBNb2RlbHMuTGV2ZWwpOiBKUXVlcnlQcm9taXNlPGFueT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9uLnN0YXRlID09PSA0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25uZWN0VG9IdWIoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbih2YWx1ZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkNvbm5lY3RlZFRvSHViQ2FsbGJhY2sodmFsdWVzLmlkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmh1Yi5pbnZva2UodGhpcy5jb25zdGFudHMuaHViQ29ubmVjdFRvR3JvdXBNZXRob2ROYW1lLCBkaXNwbGF5TmFtZSwgbGV2ZWwpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5odWIuaW52b2tlKHRoaXMuY29uc3RhbnRzLmh1YkNvbm5lY3RUb0dyb3VwTWV0aG9kTmFtZSwgZGlzcGxheU5hbWUsIGxldmVsKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBvbkNvbm5lY3RlZFRvR3JvdXAoY2FsbEJhY2s6KHVzZXJJZDogc3RyaW5nKSA9PiB2b2lkKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuaHViLm9uKHRoaXMuY29uc3RhbnRzLmNvbm5lY3RlZFRvR3JvdXAsIChtc2cpID0+IGNhbGxCYWNrKG1zZykpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIG9uR3JvdXBGdWxsZWQoY2FsbEJhY2s6KGdyb3VwOiBNb2RlbHMuR3JvdXApID0+IHZvaWQpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5odWIub24odGhpcy5jb25zdGFudHMuZ3JvdXBGdWxsZWQsIChtc2cpID0+IGNhbGxCYWNrKG1zZykpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIG9uVXNlckxlZnQoY2FsbEJhY2s6KGdyb3VwOiBNb2RlbHMuR3JvdXApID0+IHZvaWQpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5odWIub24odGhpcy5jb25zdGFudHMubGVmdEdyb3VwLCAobXNnKSA9PiBjYWxsQmFjayhtc2dbMF0pKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBnYW1lU3RhcnRlZChjYWxsQmFjazooZ3JvdXA6IE1vZGVscy5HYW1lKSA9PiB2b2lkKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuaHViLm9uKHRoaXMuY29uc3RhbnRzLmdhbWVTdGFydGVkLCAobXNnKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjYWxsQmFjayhtc2cpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBkaWRNb3ZlKGNhbGxCYWNrOihtb3ZlUmVzOiBNb2RlbHMuTW92ZVJlc3VsdCkgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLmh1Yi5vbih0aGlzLmNvbnN0YW50cy5kaWRNb3ZlLCAobXNnKSA9PiBjYWxsQmFjayhtc2cpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBnYW1lRmluaXNoZWQoY2FsbEJhY2s6KGdyb3VwOiBNb2RlbHMuR2FtZSkgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLmh1Yi5vbih0aGlzLmNvbnN0YW50cy5nYW1lRmluaXNoZWQsIChtc2cpID0+IGNhbGxCYWNrKG1zZ1swXSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIG9uRGlzY29ubmVjdGVkRnJvbUh1YihjYWxsQmFjazooKSA9PiB2b2lkKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbi5kaXNjb25uZWN0ZWQoY2FsbEJhY2spO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0b3BIdWJDb25uZWN0aW9uKCk6IHZvaWQge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9uLnN0YXRlICE9PSA0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb24uc3RvcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKENvbW1vbi5HZXRDb25zdGFudHMoKS5hcHBOYW1lKS5zZXJ2aWNlKFwiU2VydmljZXMuQ29ubmVjdFRvR2FtZVNlcnZpY2VcIiwgQ29ubmVjdFRvR2FtZVNlcnZpY2UpO1xyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2ludGVyZmFjZXMudHNcIiAvPlxyXG5tb2R1bGUgU2VydmljZXMge1xyXG4gICAgZXhwb3J0IGNsYXNzIENvb2tpZVNlcnZpY2UgaW1wbGVtZW50cyBJbnRlcmZhY2VzLklDb29raWVTZXJ2aWNlIHtcclxuICAgICAgICBzZXRDb29raWUoY25hbWU6IHN0cmluZywgY3ZhbHVlOiBhbnksIGV4ZGF5cz86IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgICAgICBpZiAoIWV4ZGF5cykge1xyXG4gICAgICAgICAgICAgICAgZXhkYXlzID0gMTAgKiAzNjc7IC8vIDEwIHllYXJzIGNvb2tpZXNcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGQgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICBkLnNldFRpbWUoZC5nZXRUaW1lKCkgKyAoZXhkYXlzKjI0KjYwKjYwKjEwMDApKTtcclxuICAgICAgICAgICAgbGV0IGV4cGlyZXMgPSBcImV4cGlyZXM9XCIrIGQudG9VVENTdHJpbmcoKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuY29va2llID0gY25hbWUgKyBcIj1cIiArIGN2YWx1ZSArIFwiO1wiICsgZXhwaXJlcyArIFwiO3BhdGg9L1wiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZ2V0Q29va2llKGNuYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgICAgICBsZXQgbmFtZSA9IGNuYW1lICsgXCI9XCI7XHJcbiAgICAgICAgICAgIGxldCBjYSA9IGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOycpO1xyXG4gICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgY2EubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBjID0gY2FbaV07XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoYy5jaGFyQXQoMCkgPT0gJyAnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYyA9IGMuc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGMuaW5kZXhPZihuYW1lKSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMuc3Vic3RyaW5nKG5hbWUubGVuZ3RoLCBjLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYW5ndWxhci5tb2R1bGUoQ29tbW9uLkdldENvbnN0YW50cygpLmFwcE5hbWUpLnNlcnZpY2UoXCJTZXJ2aWNlcy5Db29raWVTZXJ2aWNlXCIsIENvb2tpZVNlcnZpY2UpO1xyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2ludGVyZmFjZXMudHNcIiAvPlxyXG5tb2R1bGUgU2VydmljZXMge1xyXG4gICAgZXhwb3J0IGNsYXNzIEh1YkNvbm5lY3Rpb25TZXJ2aWNlIGltcGxlbWVudHMgSW50ZXJmYWNlcy5JSHViQ29ubmVjdGlvbiB7XHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgY29ubmVjdGlvbjogU2lnbmFsUi5IdWIuQ29ubmVjdGlvbjtcclxuXHJcbiAgICAgICAgcHVibGljIGdldENvbm5lY3Rpb24oKTogU2lnbmFsUi5IdWIuQ29ubmVjdGlvbiB7XHJcbiAgICAgICAgICAgIGlmICghSHViQ29ubmVjdGlvblNlcnZpY2UuY29ubmVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgSHViQ29ubmVjdGlvblNlcnZpY2UuY29ubmVjdGlvbiA9ICQuaHViQ29ubmVjdGlvbihcIi9zaWduYWxyXCIsIHsgdXNlRGVmYXVsdFBhdGg6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgICAgICAgSHViQ29ubmVjdGlvblNlcnZpY2UuY29ubmVjdGlvbi5sb2dnaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gSHViQ29ubmVjdGlvblNlcnZpY2UuY29ubmVjdGlvbjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBhbmd1bGFyLm1vZHVsZShDb21tb24uR2V0Q29uc3RhbnRzKCkuYXBwTmFtZSkuc2VydmljZShcIlNlcnZpY2VzLkh1YkNvbm5lY3Rpb25TZXJ2aWNlXCIsIEh1YkNvbm5lY3Rpb25TZXJ2aWNlKTtcclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9pbnRlcmZhY2VzLnRzXCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL21peGlucy9uZ1NjaGVkdWxlci50c1wiIC8+XHJcbm1vZHVsZSBTZXJ2aWNlcyB7XHJcbiAgICBmdW5jdGlvbiB0b1Byb21pc2VDdXN0b208VD4ob2JzZXJ2YWJsZTogUnguSU9ic2VydmFibGU8VD4sICRzY29wZTogbmcuSVNjb3BlLCBpZD86IHN0cmluZyk6IEpRdWVyeVByb21pc2UgPGFueT4ge1xyXG4gICAgICAgIGxldCBkZWZmZXJlZCA9ICQuRGVmZXJyZWQoKTtcclxuICAgICAgICBvYnNlcnZhYmxlLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoISRzY29wZS4kJHBoYXNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlkID09PSBcInRlc3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWJ1Z2dlcjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRhcHBseSgoKSA9PiBkZWZmZXJlZC5yZXNvbHZlKCkpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaWQgPT09IFwidGVzdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnZ2VyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBkZWZmZXJlZC5yZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gZGVmZmVyZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgaW50ZXJmYWNlIElNb2RhbFNldHRpbmdzIGV4dGVuZHMgbmcudWkuYm9vdHN0cmFwLklNb2RhbFNldHRpbmdzIHtcclxuXHJcbiAgICAgICAgLyoqIFNldHMgdGhlIGFyaWEtZGVzY3JpYmVkYnkgcHJvcGVydHkgb24gdGhlIG1vZGFsLiBcclxuICAgICAgICAgKiBUaGUgdmFsdWUgc2hvdWxkIGJlIGFuIGlkICh3aXRob3V0IHRoZSBsZWFkaW5nICMpIHBvaW50aW5nIHRvIHRoZSBlbGVtZW50IHRoYXQgZGVzY3JpYmVzIHlvdXIgbW9kYWwuIFxyXG4gICAgICAgICAqIFR5cGljYWxseSwgdGhpcyB3aWxsIGJlIHRoZSB0ZXh0IG9uIHlvdXIgbW9kYWwsXHJcbiAgICAgICAgICogIGJ1dCBkb2VzIG5vdCBpbmNsdWRlIHNvbWV0aGluZyB0aGUgdXNlciB3b3VsZCBpbnRlcmFjdCB3aXRoLCBcclxuICAgICAgICAgKiBsaWtlIGJ1dHRvbnMgb3IgYSBmb3JtLiBcclxuICAgICAgICAgKiBPbWl0dGluZyB0aGlzIG9wdGlvbiB3aWxsIG5vdCBpbXBhY3Qgc2lnaHRlZCB1c2VycyBidXQgd2lsbCB3ZWFrZW4geW91ciBhY2Nlc3NpYmlsaXR5IHN1cHBvcnQuICovXHJcbiAgICAgICAgYXJpYURlc2NyaWJlZEJ5OiBzdHJpbmc7XHJcblxyXG4gICAgICAgIC8qKiBTZXRzIHRoZSBhcmlhLWxhYmVsbGVkYnkgcHJvcGVydHkgb24gdGhlIG1vZGFsLiBcclxuICAgICAgICAgKiBUaGUgdmFsdWUgc2hvdWxkIGJlIGFuIGlkICh3aXRob3V0IHRoZSBsZWFkaW5nICMpIHBvaW50aW5nIHRvIHRoZSBlbGVtZW50IHRoYXQgbGFiZWxzIHlvdXIgbW9kYWwuIFxyXG4gICAgICAgICAqIFR5cGljYWxseSwgdGhpcyB3aWxsIGJlIGEgaGVhZGVyIGVsZW1lbnQuIFxyXG4gICAgICAgICAqIE9taXR0aW5nIHRoaXMgb3B0aW9uIHdpbGwgbm90IGltcGFjdCBzaWdodGVkIHVzZXJzIGJ1dCB3aWxsIHdlYWtlbiB5b3VyIGFjY2Vzc2liaWxpdHkgc3VwcG9ydC4gKi9cclxuICAgICAgICBhcmlhTGFiZWxsZWRCeTogc3RyaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBTdGF0ZUhhbmRsZXJTZXJ2aWNlIGltcGxlbWVudHMgSW50ZXJmYWNlcy5JU3RhdGVIYW5kbGVyIHtcclxuICAgICAgICBwcml2YXRlIGNvbnN0YW50czogQ29tbW9uLkNvbnN0YW50cztcclxuICAgICAgICBwcml2YXRlICRyb290U2NvcGU6IEludGVyZmFjZXMuSVJvb3RTY29wZTtcclxuICAgICAgICBwcml2YXRlICRtb2RhbDogYW5ndWxhci51aS5ib290c3RyYXAuSU1vZGFsU2VydmljZTtcclxuICAgICAgICBwcml2YXRlIHVzU3Bpbm5lclNlcnZpY2U6IElTcGlubmVyU2VydmljZTtcclxuICAgICAgICBwcml2YXRlIGNvbm5lY3RUb0dhbWVTY29wZTogSW50ZXJmYWNlcy5JQ29ubmVjdFRvR2FtZVNjb3BlO1xyXG4gICAgICAgIHByaXZhdGUgJGdhbWVTY29wZTogSW50ZXJmYWNlcy5JR2FtZVNjb3BlO1xyXG4gICAgICAgIHByaXZhdGUgZ3JvdXBGdWxsZWRPYnNlcnZhYmxlOiBSeC5TdWJqZWN0PGFueT47XHJcbiAgICAgICAgcHJpdmF0ZSBhZGRlZFRvR3JvdXBPYnNlcnZhYmxlOiBSeC5TdWJqZWN0PGFueT47XHJcbiAgICAgICAgcHJpdmF0ZSB1c2VyTGVmdEdyb3VwT2JzZXJ2YWJsZTogUnguU3ViamVjdDxhbnk+O1xyXG4gICAgICAgIHByaXZhdGUgZ2FtZVN0YXJ0ZWRPYnNlcnZhYmxlOiBSeC5TdWJqZWN0PGFueT47XHJcblxyXG4gICAgICAgIHByaXZhdGUgc3RhcnRHYW1lTW9kYWxJbnN0YW5jZTogYW5ndWxhci51aS5ib290c3RyYXAuSU1vZGFsU2VydmljZUluc3RhbmNlO1xyXG5cclxuICAgICAgICBzdGF0aWMgJGluamVjdCA9IFtcIiRyb290U2NvcGVcIiwgXCIkdWliTW9kYWxcIiwgXCJ1c1NwaW5uZXJTZXJ2aWNlXCJdO1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKCRyb290U2NvcGU6IEludGVyZmFjZXMuSVJvb3RTY29wZSwgXHJcbiAgICAgICAgICAgICAgICAgICAgJG1vZGFsOiBhbmd1bGFyLnVpLmJvb3RzdHJhcC5JTW9kYWxTZXJ2aWNlLFxyXG4gICAgICAgICAgICAgICAgICAgIHVzU3Bpbm5lclNlcnZpY2U6IElTcGlubmVyU2VydmljZSkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnN0YW50cyA9IENvbW1vbi5HZXRDb25zdGFudHMoKTtcclxuICAgICAgICAgICAgdGhpcy4kbW9kYWwgPSAkbW9kYWw7XHJcbiAgICAgICAgICAgIHRoaXMudXNTcGlubmVyU2VydmljZSA9IHVzU3Bpbm5lclNlcnZpY2U7XHJcbiAgICAgICAgICAgIHRoaXMuJHJvb3RTY29wZSA9ICRyb290U2NvcGU7XHJcbiAgICAgICAgICAgIHRoaXMuJHJvb3RTY29wZS5pc1N0YXJ0R2FtZVBhZ2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy4kcm9vdFNjb3BlLnVzZXJJZCA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuZ3JvdXBGdWxsZWRPYnNlcnZhYmxlID0gbmV3IFJ4LlN1YmplY3Q8YW55PigpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZGVkVG9Hcm91cE9ic2VydmFibGUgPSBuZXcgUnguU3ViamVjdDxhbnk+KCk7XHJcbiAgICAgICAgICAgIHRoaXMudXNlckxlZnRHcm91cE9ic2VydmFibGUgPSBuZXcgUnguU3ViamVjdDxhbnk+KCk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZVN0YXJ0ZWRPYnNlcnZhYmxlID0gbmV3IFJ4LlN1YmplY3Q8YW55PigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHNldFVwR2FtZVNjb3BlKCRnYW1lU2NvcGU6IEludGVyZmFjZXMuSUdhbWVTY29wZSk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLiRnYW1lU2NvcGUgPSAkZ2FtZVNjb3BlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBjYWxsSW5EaWdlc3RMb29wKGFjdGlvbjooKSA9PiB2b2lkKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLiRyb290U2NvcGUuJCRwaGFzZSkge1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRyb290U2NvcGUuJGFwcGx5KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb24oKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgc2hvd1N0YXJ0R2FtZU1vZGFsKCk6IHZvaWQge1xyXG4gICAgICAgICAgICBsZXQgb3B0ID0ge30gYXMgbmcudWkuYm9vdHN0cmFwLklNb2RhbFNldHRpbmdzO1xyXG4gICAgICAgICAgICAgICAgb3B0LnNjb3BlID0gdGhpcy5jb25uZWN0VG9HYW1lU2NvcGU7XHJcbiAgICAgICAgICAgICAgICBvcHQudGVtcGxhdGVVcmwgPSBcImNvbm5lY3RUb0dyb3VwLmh0bWxcIjtcclxuICAgICAgICAgICAgICAgIG9wdC53aW5kb3dUZW1wbGF0ZVVybCA9IFwid2luZG93VGVtcGxhdGUuaHRtbFwiO1xyXG4gICAgICAgICAgICAgICAgb3B0LmJhY2tkcm9wID0gXCJzdGF0aWNcIjtcclxuICAgICAgICAgICAgICAgIG9wdC5rZXlib2FyZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgb3B0LmFuaW1hdGlvbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBvcHQuc2l6ZSA9IFwibGdcIjtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRHYW1lTW9kYWxJbnN0YW5jZSA9IHRoaXMuJG1vZGFsLm9wZW4ob3B0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgc2hvd0dhbWVGaW5pc2hlZE1vZGFsV2luZG93KGlzV2luPzogYm9vbGVhbiwgaXNEcmF3PzogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgICAgICAgICBpZiAoaXNXaW4gPT09IHVuZGVmaW5lZCAmJiBpc0RyYXcgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgXCJPbmUgb2YgYm9vbGVhbiBmbGFncyBzaG91bGQgYmUgc3BlY2lmaWVkXCI7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBjb25uZWN0VG9HYW1lU2NvcGUgPSB0aGlzLmNvbm5lY3RUb0dhbWVTY29wZTtcclxuICAgICAgICAgICAgbGV0IG9wdCA9IHt9IGFzIG5nLnVpLmJvb3RzdHJhcC5JTW9kYWxTZXR0aW5ncztcclxuICAgICAgICAgICAgICAgIG9wdC5jb250cm9sbGVyID0gZnVuY3Rpb24oJHNjb3BlOiBJbnRlcmZhY2VzLklHYW1lRmluaXNoZWRNb2RhbFdpbmRvd1Njb3BlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBsYXlBZ2FpbiA9IGNvbm5lY3RUb0dhbWVTY29wZS5jb25uZWN0VG9Hcm91cDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRHJhdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWVzc2FnZSA9IFwi0J3QuNGH0YzRjy4g0J7RgtC70LjRh9C90LDRjyDQuNCz0YDQsCA6RCFcXG7QpdC+0YLQuNGC0LUg0YHRi9Cz0YDQsNGC0Ywg0LXRidGRINGA0LDQtz9cIjtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzV2luKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tZXNzYWdlID0gXCLQn9C+0LfQtNGA0LDQstC70LXQvdC40Y8hINCS0Ysg0LLRi9C40LPRgNCw0LvQuCFcXG7QpdC+0YLQuNGC0LUg0YHRi9Cz0YDQsNGC0Ywg0LXRidGRINGA0LDQtz9cIjtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWVzc2FnZSA9IFwi0JTQsNC20LUg0LXRgdC70Lgg0L/RgNC+0LjQs9GA0LDQuywg0L/RgNC10L7QsdGA0LXRgtC10L3QvdGL0Lkg0L7Qv9GL0YIg0L7RgdGC0LDQvdC10YLRgdGPINC90LDQstGB0LXQs9C00LAg0YEg0YLQvtCx0L7QuSDQuCDRgdGC0LDQvdC10YIg0YLQstC+0LXQuSDQvdCw0LPRgNCw0LTQvtC5IDopXFxu0KXQvtGC0LjRgtC1INGB0YvQs9GA0LDRgtGMINC10YnRkSDRgNCw0Lc/XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgb3B0LnRlbXBsYXRlVXJsID0gXCJnYW1lRmluaXNoZWQuaHRtbFwiO1xyXG4gICAgICAgICAgICAgICAgb3B0LndpbmRvd1RlbXBsYXRlVXJsID0gXCJ3aW5kb3dUZW1wbGF0ZS5odG1sXCI7XHJcbiAgICAgICAgICAgICAgICBvcHQuYmFja2Ryb3AgPSBcInN0YXRpY1wiO1xyXG4gICAgICAgICAgICAgICAgb3B0LmtleWJvYXJkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBvcHQuYW5pbWF0aW9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIG9wdC5zaXplID0gXCJsZ1wiO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydEdhbWVNb2RhbEluc3RhbmNlID0gdGhpcy4kbW9kYWwub3BlbihvcHQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdGFydFNwaW48VD4oc3BpbktleTogc3RyaW5nLCBvYnNlcnZhYmxlOiBSeC5JT2JzZXJ2YWJsZTxUPik6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLnVzU3Bpbm5lclNlcnZpY2Uuc3BpbihzcGluS2V5KTtcclxuXHJcbiAgICAgICAgICAgIG9ic2VydmFibGUuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXNTcGlubmVyU2VydmljZS5zdG9wKHNwaW5LZXkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzZXRDb25uZWN0VG9HYW1lU2NvcGUoY29ubmVjdFRvR2FtZVNjb3BlOiBJbnRlcmZhY2VzLklDb25uZWN0VG9HYW1lU2NvcGUpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0VG9HYW1lU2NvcGUgPSBjb25uZWN0VG9HYW1lU2NvcGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgaGFuZGxlQ29ubmVjdGlvblRvR3JvdXAocHJvbWlzZTogSlF1ZXJ5UHJvbWlzZTxhbnk+KTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsbEluRGlnZXN0TG9vcCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhZGRlZFRvR3JvdXAgPSB0aGlzLmFkZGVkVG9Hcm91cE9ic2VydmFibGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGFrZSgxKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZGVkVG9Hcm91cC5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhcnRHYW1lTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRHYW1lTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRHYW1lTW9kYWxJbnN0YW5jZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm9vdFNjb3BlLmlzU3RhcnRHYW1lUGFnZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGdyb3VwRnVsbGVkID0gdGhpcy5ncm91cEZ1bGxlZE9ic2VydmFibGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50YWtlKDEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydFNwaW4oJ2dyb3VwLWZ1bGxlZCcsIGdyb3VwRnVsbGVkKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwRnVsbGVkLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydFNwaW4oJ2xvYWRpbmctZ2FtZScsIFJ4Lk9ic2VydmFibGUubWVyZ2UodGhpcy51c2VyTGVmdEdyb3VwT2JzZXJ2YWJsZS50YWtlKDEpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWVTdGFydGVkT2JzZXJ2YWJsZS50YWtlKDEpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50YWtlKDEpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydFNwaW4oJ2Nvbm5lY3QtdG8tZ3JvdXAnLCBSeC5PYnNlcnZhYmxlLmZyb21Qcm9taXNlKHByb21pc2UpKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBwcm9taXNlLmZhaWwoKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInNtdGggYmFkIGhhcHBlbmVkOiBcIiArIGVycm9yKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBoYW5kbGVVc2VyQWRkZWRUb0dyb3VwKCk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLmFkZGVkVG9Hcm91cE9ic2VydmFibGUub25OZXh0KHt9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzaG93U3RhcnRHYW1lV2luZG93KCk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLmNhbGxJbkRpZ2VzdExvb3AoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dTdGFydEdhbWVNb2RhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGhhbmRsZUdhbWVGaW5pc2hlZChpc1dpbj86IGJvb2xlYW4sIGlzRHJhdz86IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5jYWxsSW5EaWdlc3RMb29wKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHJvb3RTY29wZS5pc1N0YXJ0R2FtZVBhZ2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0dhbWVGaW5pc2hlZE1vZGFsV2luZG93KGlzV2luLCBpc0RyYXcpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBoYW5kbGVHcm91cEZ1bGxlZCgpOiB2b2lkIHtcclxuICAgICAgICAgICAgLy8gVE9ETzogQmV0dGVyIHRvIGltcGxlbWVudCBzY2hlZHVsZXIgdG8gc3Vic2NyaWJlIHdpdGhpbiBuZyBzY29wZVxyXG4gICAgICAgICAgICB0aGlzLmNhbGxJbkRpZ2VzdExvb3AoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZGVidWdnZXI7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdyb3VwRnVsbGVkT2JzZXJ2YWJsZS5vbk5leHQoe30pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIGhhbmRsZUdhbWVTdGFydGVkKCk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLmNhbGxJbkRpZ2VzdExvb3AoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kcm9vdFNjb3BlLmlzU3RhcnRHYW1lUGFnZSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhcnRHYW1lTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRHYW1lTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRHYW1lTW9kYWxJbnN0YW5jZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5nYW1lU3RhcnRlZE9ic2VydmFibGUub25OZXh0KHt9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBnZXRVc2VySWQoKTogc3RyaW5nIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHJvb3RTY29wZS51c2VySWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc2V0VXNlcklkKHVzZXJJZDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuJHJvb3RTY29wZS51c2VySWQgPSB1c2VySWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgaGFuZGxlVXNlcjJMZWZ0R3JvdXAoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsbEluRGlnZXN0TG9vcCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVzZXJMZWZ0R3JvdXBPYnNlcnZhYmxlLm9uTmV4dCh7fSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRyb290U2NvcGUuaXNTdGFydEdhbWVQYWdlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dTdGFydEdhbWVNb2RhbCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBnZXRVc2VyRGlzcGxheU5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHJvb3RTY29wZS5kaXNwbGF5TmFtZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBoYW5kbGVEaXNjb25uZWN0ZWRGcm9tSHViKCk6IHZvaWQge1xyXG4gICAgICAgICAgICBpZiAodGhpcy4kcm9vdFNjb3BlLmlzU3RhcnRHYW1lUGFnZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsSW5EaWdlc3RMb29wKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBTaG93IHNvbWVob3cgdGhhdCBzb21ldGhpbmcgd2FzIHdyb25nIHdpdGggY29ubmVjdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvb3RTY29wZS5pc1N0YXJ0R2FtZVBhZ2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dTdGFydEdhbWVNb2RhbCgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoQ29tbW9uLkdldENvbnN0YW50cygpLmFwcE5hbWUpLnNlcnZpY2UoXCJTZXJ2aWNlcy5TdGF0ZUhhbmRsZXJTZXJ2aWNlXCIsIFN0YXRlSGFuZGxlclNlcnZpY2UpO1xyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2NvbW1vbi50c1wiIC8+XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9pbnRlcmZhY2VzLnRzXCIgLz5cclxubW9kdWxlIGNvbnRyb2xsZXJzIHtcclxuICAgIGV4cG9ydCBjbGFzcyBDb25uZWN0VG9HYW1lQ29udHJvbGxlciB7XHJcbiAgICAgICAgcHJpdmF0ZSBjb25uZWN0aW9uSHViU2VydmljZTogSW50ZXJmYWNlcy5JQ29ubmVjdFRvR2FtZTtcclxuICAgICAgICBwcml2YXRlICRzY29wZTogSW50ZXJmYWNlcy5JQ29ubmVjdFRvR2FtZVNjb3BlO1xyXG4gICAgICAgIHByaXZhdGUgZ3JvdXBJbmZvOiBNb2RlbHMuR3JvdXA7XHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0ZUhhbmRsZXI6IEludGVyZmFjZXMuSVN0YXRlSGFuZGxlcjtcclxuICAgICAgICBwcml2YXRlICRyb290U2NvcGU6IEludGVyZmFjZXMuSVJvb3RTY29wZTtcclxuICAgICAgICBwcml2YXRlIGNvb2NraWVTZXJ2aWNlOiBJbnRlcmZhY2VzLklDb29raWVTZXJ2aWNlO1xyXG4gICAgICAgIHByaXZhdGUgZGlzcGxheU5hbWVDb29raWVLZXk6IHN0cmluZztcclxuICAgICAgICBwcml2YXRlIGxldmVsQ29va2llS2V5OiBzdHJpbmc7XHJcblxyXG4gICAgICAgIHN0YXRpYyAkaW5qZWN0ID0gW1wiU2VydmljZXMuQ29ubmVjdFRvR2FtZVNlcnZpY2VcIiwgXCIkc2NvcGVcIiwgXCJTZXJ2aWNlcy5TdGF0ZUhhbmRsZXJTZXJ2aWNlXCIsIFwiJHJvb3RTY29wZVwiLCBcIlNlcnZpY2VzLkNvb2tpZVNlcnZpY2VcIl07XHJcbiAgICAgICAgY29uc3RydWN0b3IoY29ubmVjdGlvbkh1YlNlcnZpY2U6IEludGVyZmFjZXMuSUNvbm5lY3RUb0dhbWUsIFxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZTogSW50ZXJmYWNlcy5JQ29ubmVjdFRvR2FtZVNjb3BlLCBcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZUhhbmRsZXI6IEludGVyZmFjZXMuSVN0YXRlSGFuZGxlcixcclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlOiBJbnRlcmZhY2VzLklSb290U2NvcGUsXHJcbiAgICAgICAgICAgICAgICAgICAgY29vY2tpZVNlcnZpY2U6IEludGVyZmFjZXMuSUNvb2tpZVNlcnZpY2UpIHtcclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uSHViU2VydmljZSA9IGNvbm5lY3Rpb25IdWJTZXJ2aWNlO1xyXG4gICAgICAgICAgICB0aGlzLiRzY29wZSA9ICRzY29wZTtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZUhhbmRsZXIgPSBzdGF0ZUhhbmRsZXI7XHJcbiAgICAgICAgICAgIHRoaXMuJHJvb3RTY29wZSA9ICRyb290U2NvcGU7XHJcbiAgICAgICAgICAgIHRoaXMuY29vY2tpZVNlcnZpY2UgPSBjb29ja2llU2VydmljZTtcclxuICAgICAgICAgICAgdGhpcy5kaXNwbGF5TmFtZUNvb2tpZUtleSA9IFwiZGlzcGxheU5hbWVcIjtcclxuICAgICAgICAgICAgdGhpcy5sZXZlbENvb2tpZUtleSA9IFwibGV2ZWxOYW1lXCI7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZVZpZXdNb2RlbCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBpbml0aWFsaXplVmlld01vZGVsKCk6dm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGVIYW5kbGVyLnNldENvbm5lY3RUb0dhbWVTY29wZSh0aGlzLiRzY29wZSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25IdWJTZXJ2aWNlLm9uVXNlckxlZnQoZGF0YSA9PiB0aGlzLm9uVXNlckxlZnQuY2FsbCh0aGlzLCBkYXRhKSk7XHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbkh1YlNlcnZpY2Uub25Hcm91cEZ1bGxlZChkYXRhID0+IHRoaXMub25Hcm91cEZ1bGxlZC5jYWxsKHRoaXMsIGRhdGEpKTtcclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uSHViU2VydmljZS5vbkNvbm5lY3RlZFRvR3JvdXAoZGF0YSA9PiB0aGlzLm9uQ29ubmVjdGVkVG9Hcm91cC5jYWxsKHRoaXMsIGRhdGEpKTtcclxuICAgICAgICAgICAgdGhpcy4kc2NvcGUuY29ubmVjdFRvR3JvdXAgPSAoKSA9PiB0aGlzLmNvbm5lY3RUb0dyb3VwLmFwcGx5KHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uSHViU2VydmljZS5vbkNvbm5lY3RUb0h1Yih2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlSGFuZGxlci5zZXRVc2VySWQodmFsdWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uSHViU2VydmljZS5vbkRpc2Nvbm5lY3RlZEZyb21IdWIoKCkgPT4gdGhpcy5zdGF0ZUhhbmRsZXIuaGFuZGxlRGlzY29ubmVjdGVkRnJvbUh1YigpKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMuJHNjb3BlLmxldmVscyA9IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtsZXZlbDogTW9kZWxzLkxldmVsLkJlZ2luZXIsIG5hbWU6IFwi0J3QvtCy0LDRh9C+0LpcIn0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bGV2ZWw6IE1vZGVscy5MZXZlbC5JbnRlcm1lZGlhdGUsIG5hbWU6IFwi0KHRgNC10LTQvdC40LlcIn0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bGV2ZWw6IE1vZGVscy5MZXZlbC5BZHZhbmNlZCwgbmFtZTogXCLQktGL0YHQvtC60LjQuVwifVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICB0aGlzLiRzY29wZS5jaGFuZ2VMZXZlbCA9IChsZXZlbDogTW9kZWxzLklMZXZlbE5hbWVQYWlyKSA9PiB0aGlzLiRyb290U2NvcGUubGV2ZWwgPSBsZXZlbDtcclxuXHJcbiAgICAgICAgICAgIGxldCBkaXNwbGF5TmFtZUZyb21Db29raWVzID0gXCLQodC70YPRh9Cw0LnQvdGL0Lkg0LjQs9GA0L7QulwiO1xyXG4gICAgICAgICAgICBsZXQgbGV2ZWxGcm9tQ29va2llcyA9IDI7IC8vIEludGVybWVkaWF0ZSBieSBkZWZhdWx0XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY29va2llVmFsdWUgPSB0aGlzLmNvb2NraWVTZXJ2aWNlLmdldENvb2tpZSh0aGlzLmRpc3BsYXlOYW1lQ29va2llS2V5KTtcclxuICAgICAgICAgICAgICAgIGlmIChjb29raWVWYWx1ZSAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lRnJvbUNvb2tpZXMgPSBjb29raWVWYWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjb29raWVWYWx1ZSA9IHRoaXMuY29vY2tpZVNlcnZpY2UuZ2V0Q29va2llKHRoaXMubGV2ZWxDb29raWVLZXkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvb2tpZVZhbHVlICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV2ZWxGcm9tQ29va2llcyA9IHBhcnNlSW50KGNvb2tpZVZhbHVlKSB8fCBsZXZlbEZyb21Db29raWVzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLiRyb290U2NvcGUuZGlzcGxheU5hbWUgPSBkaXNwbGF5TmFtZUZyb21Db29raWVzO1xyXG4gICAgICAgICAgICB0aGlzLiRyb290U2NvcGUubGV2ZWwgPSB0aGlzLiRzY29wZS5sZXZlbHNbbGV2ZWxGcm9tQ29va2llcyAtIDFdO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zdGF0ZUhhbmRsZXIuc2hvd1N0YXJ0R2FtZVdpbmRvdygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBvbkdyb3VwRnVsbGVkKGdyb3VwSW5mbzogTW9kZWxzLkdyb3VwKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuZ3JvdXBJbmZvID0gZ3JvdXBJbmZvO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlSGFuZGxlci5oYW5kbGVHcm91cEZ1bGxlZCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBvblVzZXJMZWZ0KGdyb3VwSW5mbzogTW9kZWxzLkdyb3VwKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuZ3JvdXBJbmZvID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZUhhbmRsZXIuaGFuZGxlVXNlcjJMZWZ0R3JvdXAoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgY29ubmVjdFRvR3JvdXAoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGxldCBkaXNwbGF5TmFtZSA9IHRoaXMuc3RhdGVIYW5kbGVyLmdldFVzZXJEaXNwbGF5TmFtZSgpO1xyXG4gICAgICAgICAgICBsZXQgbGV2ZWwgPSB0aGlzLiRyb290U2NvcGUubGV2ZWwubGV2ZWw7XHJcblxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb29ja2llU2VydmljZS5zZXRDb29raWUodGhpcy5kaXNwbGF5TmFtZUNvb2tpZUtleSwgZGlzcGxheU5hbWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb29ja2llU2VydmljZS5zZXRDb29raWUodGhpcy5sZXZlbENvb2tpZUtleSwgbGV2ZWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuY29ubmVjdGlvbkh1YlNlcnZpY2UuY29ubmVjdFRvTmV3R3JvdXAoZGlzcGxheU5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXZlbCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGVIYW5kbGVyLmhhbmRsZUNvbm5lY3Rpb25Ub0dyb3VwKHByb21pc2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBvbkNvbm5lY3RlZFRvR3JvdXAodXNlcklkOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZUhhbmRsZXIuc2V0VXNlcklkKHVzZXJJZCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGVIYW5kbGVyLmhhbmRsZVVzZXJBZGRlZFRvR3JvdXAoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoQ29tbW9uLkdldENvbnN0YW50cygpLmFwcE5hbWUpLmNvbnRyb2xsZXIoXCJjb250cm9sbGVycy5Db25uZWN0VG9HYW1lQ29udHJvbGxlclwiLCBDb25uZWN0VG9HYW1lQ29udHJvbGxlcik7XHJcbn0gIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2NvbW1vbi50c1wiIC8+XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9pbnRlcmZhY2VzLnRzXCIgLz5cclxubW9kdWxlIGNvbnRyb2xsZXJzIHtcclxuICAgIGV4cG9ydCBjbGFzcyBHYW1lQ29udHJvbGxlciB7XHJcbiAgICAgICAgcHJpdmF0ZSBjb25uZWN0aW9uSHViU2VydmljZTogSW50ZXJmYWNlcy5JQ29ubmVjdFRvR2FtZTtcclxuICAgICAgICBwcml2YXRlICRzY29wZTogSW50ZXJmYWNlcy5JR2FtZVNjb3BlO1xyXG4gICAgICAgIHByaXZhdGUgZ2FtZUluZm86IE1vZGVscy5HYW1lO1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGVIYW5kbGVyOiBJbnRlcmZhY2VzLklTdGF0ZUhhbmRsZXI7XHJcbiAgICAgICAgcHJpdmF0ZSB3b3JkczogQXJyYXk8TW9kZWxzLldvcmQ+XHJcbiAgICAgICAgcHJpdmF0ZSB1c2VyTnVtOiBudW1iZXI7XHJcbiAgICAgICAgcHJpdmF0ZSAkaW50ZXJ2YWw6IG5nLklJbnRlcnZhbFNlcnZpY2U7XHJcbiAgICAgICAgcHJpdmF0ZSBzZWNvbmRzRm9yTW92ZTogbnVtYmVyO1xyXG4gICAgICAgIHByaXZhdGUgdGltZXJQcm9taXNlOiBuZy5JUHJvbWlzZTxhbnk+O1xyXG4gICAgICAgIHByaXZhdGUgJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZTtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBxdWF0ZXM6IEFycmF5PHN0cmluZz47XHJcblxyXG4gICAgICAgIHN0YXRpYyAkaW5qZWN0ID0gW1wiU2VydmljZXMuQ29ubmVjdFRvR2FtZVNlcnZpY2VcIiwgXCIkc2NvcGVcIiwgXCJTZXJ2aWNlcy5TdGF0ZUhhbmRsZXJTZXJ2aWNlXCIsIFwiJGludGVydmFsXCIsICckdGltZW91dCddO1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbm5lY3Rpb25IdWJTZXJ2aWNlOiBJbnRlcmZhY2VzLklDb25uZWN0VG9HYW1lLCAkc2NvcGU6IEludGVyZmFjZXMuSUdhbWVTY29wZSwgXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGVIYW5kbGVyOiBJbnRlcmZhY2VzLklTdGF0ZUhhbmRsZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgJGludGVydmFsOiBuZy5JSW50ZXJ2YWxTZXJ2aWNlLFxyXG4gICAgICAgICAgICAgICAgICAgICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UpIHtcclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uSHViU2VydmljZSA9IGNvbm5lY3Rpb25IdWJTZXJ2aWNlO1xyXG4gICAgICAgICAgICB0aGlzLiRzY29wZSA9ICRzY29wZTtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZUhhbmRsZXIgPSBzdGF0ZUhhbmRsZXI7XHJcbiAgICAgICAgICAgIHRoaXMuJGludGVydmFsID0gJGludGVydmFsO1xyXG4gICAgICAgICAgICB0aGlzLnNlY29uZHNGb3JNb3ZlID0gMTA7XHJcbiAgICAgICAgICAgIHRoaXMuJHRpbWVvdXQgPSAkdGltZW91dDtcclxuICAgICAgICAgICAgdGhpcy5xdWF0ZXMgPSBbXCJIb3cgbWFueSBsYW5ndWFnZXMgeW91IGtub3cg4oCUIHRoYXQgbWFueSB0aW1lcyB5b3UgYXJlIGEgcGVyc29uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiSWYgeW91IHRhbGsgdG8gYSBtYW4gaW4gYSBsYW5ndWFnZSBoZSB1bmRlcnN0YW5kcywgdGhhdCBnb2VzIHRvIGhpcyBoZWFkLiBJZiB5b3UgdGFsayB0byBoaW0gaW4gaGlzIGxhbmd1YWdlLCB0aGF0IGdvZXMgdG8gaGlzIGhlYXJ0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQnkgd29yZHMgdGhlIG1pbmQgaXMgd2luZ2VkXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiTGFuZ3VhZ2UgaXMgdGhlIG1lYW5zIG9mIGdldHRpbmcgYW4gaWRlYSBmcm9tIG15IGJyYWluIGludG8geW91cnMgd2l0aG91dCBzdXJnZXJ5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQSBkaWZmZXJlbnQgbGFuZ3VhZ2UgaXMgYSBkaWZmZXJlbnQgdmlzaW9uIG9mIGxpZmVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJUbyBoYXZlIGFub3RoZXIgbGFuZ3VhZ2UgaXMgdG8gcG9zc2VzcyBhIHNlY29uZCBzb3VsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiSWYgd2Ugc3Bva2UgYSBkaWZmZXJlbnQgbGFuZ3VhZ2UsIHdlIHdvdWxkIHBlcmNlaXZlIGEgc29tZXdoYXQgZGlmZmVyZW50IHdvcmxkXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiTGFuZ3VhZ2UgZXhlcnRzIGhpZGRlbiBwb3dlciwgbGlrZSB0aGUgbW9vbiBvbiB0aGUgdGlkZXNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJMYW5ndWFnZSBpcyB0aGUgcm9hZCBtYXAgb2YgYSBjdWx0dXJlLiBJdCB0ZWxscyB5b3Ugd2hlcmUgaXRzIHBlb3BsZSBjb21lIGZyb20gYW5kIHdoZXJlIHRoZXkgYXJlIGdvaW5nXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiSGUgd2hvIGRvZXMgbm90IGtub3cgZm9yZWlnbiBsYW5ndWFnZXMgZG9lcyBub3Qga25vdyBhbnl0aGluZyBhYm91dCBoaXMgb3duXCJdO1xyXG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemVWaWV3TW9kZWwoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgaW5pdGlhbGl6ZVZpZXdNb2RlbCgpOnZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25IdWJTZXJ2aWNlLmdhbWVTdGFydGVkKGRhdGEgPT4gdGhpcy5zdGFydEdhbWUuY2FsbCh0aGlzLCBkYXRhKSk7XHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbkh1YlNlcnZpY2UuZGlkTW92ZShkYXRhID0+IHRoaXMudXNlcjJkaWRNb3ZlLmNhbGwodGhpcywgZGF0YSkpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25IdWJTZXJ2aWNlLm9uR3JvdXBGdWxsZWQoZGF0YSA9PiB0aGlzLmhhbmRsZUdyb3VwRnVsbGVkLmNhbGwodGhpcywgZGF0YSkpO1xyXG4gICAgICAgICAgICB0aGlzLiRzY29wZS5kb01vdmUgPSAodmFyaWFudDogc3RyaW5nKSA9PiB0aGlzLmRvTW92ZS5jYWxsKHRoaXMsIHZhcmlhbnQpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25IdWJTZXJ2aWNlLm9uVXNlckxlZnQoKCkgPT4gdGhpcy5vblVzZXJMZWZ0LmNhbGwodGhpcykpO1xyXG4gICAgICAgICAgICB0aGlzLnVuc2V0R2FtZUluZm8oKTtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZUhhbmRsZXIuc2V0VXBHYW1lU2NvcGUodGhpcy4kc2NvcGUpO1xyXG4gICAgICAgICAgICBsZXQgcmFuZG9tUXVhdGVJbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMucXVhdGVzLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIHRoaXMuJHNjb3BlLnJhbmRvbVF1YXRlID0gdGhpcy5xdWF0ZXNbcmFuZG9tUXVhdGVJbmRleF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGhhbmRsZUdyb3VwRnVsbGVkKGdyb3VwOiBNb2RlbHMuR3JvdXApOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5jYWxsSW5EaWdlc3RMb29wKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlzVXNlcjEgPSBncm91cC51c2Vyc0xpc3RbMF0udXNlcklkID09PSB0aGlzLnN0YXRlSGFuZGxlci5nZXRVc2VySWQoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLnVzZXIyRGlzcGxheU5hbWUgPSBpc1VzZXIxID8gZ3JvdXAudXNlcnNMaXN0WzBdLmRpc3BsYXlOYW1lIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBncm91cC51c2Vyc0xpc3RbMV0uZGlzcGxheU5hbWU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBvblVzZXJMZWZ0KCk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLnN0b3BUaW1lcigpO1xyXG4gICAgICAgICAgICB0aGlzLnVuc2V0R2FtZUluZm8oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgdW5zZXRHYW1lSW5mbygpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5nYW1lSW5mbyA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNhbGxJbkRpZ2VzdExvb3AoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUuY3VycmVudFdvcmQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUuc2Vjb25kc0Zvck1vdmVMZWZ0ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLnBlcmNlbnRhZ2VzTGVmdCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS5pc0N1cnJlbnRVc2VyTW92ZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS5jdXJyZW50VXNlclNjb3JlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLnVzZXIyU2NvcmUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUucGFzc2VkV29yZHMgPSBbXTtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLmxlZnRXb3JkcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUudXNlcjJEaXNwbGF5TmFtZSA9IG51bGw7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdGFydEdhbWUoZ2FtZTogTW9kZWxzLkdhbWUpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5nYW1lSW5mbyA9IGdhbWU7XHJcbiAgICAgICAgICAgIHRoaXMud29yZHMgPSBnYW1lLndvcmRzO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgaXNVc2VyMSA9IGdhbWUudXNlcjEudXNlcklkID09PSB0aGlzLnN0YXRlSGFuZGxlci5nZXRVc2VySWQoKTtcclxuICAgICAgICAgICAgdGhpcy51c2VyTnVtID0gaXNVc2VyMSA/IDEgOiAyO1xyXG4gICAgICAgICAgICB0aGlzLiRzY29wZS4kYXBwbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUuY3VycmVudFVzZXJTY29yZSA9IGlzVXNlcjEgPyBnYW1lLnVzZXIxU2NvcmUgOiBnYW1lLnVzZXIyU2NvcmU7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS51c2VyMlNjb3JlID0gIWlzVXNlcjEgPyBnYW1lLnVzZXIxU2NvcmUgOiBnYW1lLnVzZXIyU2NvcmU7XHJcbiAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLmN1cnJlbnRXb3JkSW5kZXggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUuY3VycmVudFdvcmQgPSB0aGlzLndvcmRzWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRWYXJpbmF0c09yZGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS5pc0N1cnJlbnRVc2VyTW92ZSA9IChpc1VzZXIxICYmIHRoaXMuZ2FtZUluZm8uY3VycmVudE1vdmUgPT09IDEpIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoIWlzVXNlcjEgJiYgdGhpcy5nYW1lSW5mby5jdXJyZW50TW92ZSA9PT0gMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNodWZmbGUoYXJyOiBBcnJheTxNb2RlbHMuV29yZD4pOiBBcnJheTxNb2RlbHMuV29yZD4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFycmF5ID0gYXJyLnNsaWNlKDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG0gPSBhcnJheS5sZW5ndGgsIHQsIGk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2hpbGUgdGhlcmUgcmVtYWluIGVsZW1lbnRzIHRvIHNodWZmbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUGljayBhIHJlbWFpbmluZyBlbGVtZW504oCmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG0tLSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFuZCBzd2FwIGl0IHdpdGggdGhlIGN1cnJlbnQgZWxlbWVudC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ID0gYXJyYXlbbV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXlbbV0gPSBhcnJheVtpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJheVtpXSA9IHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUubGVmdFdvcmRzID0gc2h1ZmZsZSh0aGlzLndvcmRzLnNsaWNlKDEpKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0YXRlSGFuZGxlci5oYW5kbGVHYW1lU3RhcnRlZCgpO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0VGltZXIoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgY2FsbEluRGlnZXN0TG9vcChhY3Rpb246KCkgPT4gdm9pZCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy4kc2NvcGUuJCRwaGFzZSkge1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS4kYXBwbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdGFydFRpbWVyKCk6IHZvaWQge1xyXG4gICAgICAgICAgICBpZiAodGhpcy50aW1lclByb21pc2UpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IFwiUHJldmlvdXMgdGltZXIgc2hvdWxkIGJlIHN0b3BwZWRcIjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5jYWxsSW5EaWdlc3RMb29wKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLnNlY29uZHNGb3JNb3ZlTGVmdCA9IHRoaXMuc2Vjb25kc0Zvck1vdmU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS5wZXJjZW50YWdlc0xlZnQgPSAxMDA7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy50aW1lclByb21pc2UgPSB0aGlzLiRpbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS5zZWNvbmRzRm9yTW92ZUxlZnQtLTtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLnBlcmNlbnRhZ2VzTGVmdCA9IHRoaXMuJHNjb3BlLnNlY29uZHNGb3JNb3ZlTGVmdCAvIDEwICogMTAwO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLiRzY29wZS5zZWNvbmRzRm9yTW92ZUxlZnQgPT09IDBcclxuICAgICAgICAgICAgICAgICAgICAmJiB0aGlzLiRzY29wZS5pc0N1cnJlbnRVc2VyTW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFzc01vdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgMTAwMCwgMTApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdG9wVGltZXIoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy50aW1lclByb21pc2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy4kaW50ZXJ2YWwuY2FuY2VsKHRoaXMudGltZXJQcm9taXNlKTtcclxuICAgICAgICAgICAgdGhpcy50aW1lclByb21pc2UgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSB1c2VyMmRpZE1vdmUobW92ZVJlczogTW9kZWxzLk1vdmVSZXN1bHQpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy4kc2NvcGUuJGFwcGx5KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlTW92ZShtb3ZlUmVzLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBwYXNzTW92ZSgpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uSHViU2VydmljZS5wYXNzTW92ZSh0aGlzLnVzZXJOdW0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZG9uZSgobW92ZVJlc3VsdDpNb2RlbHMuTW92ZVJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLiRhcHBseSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlTW92ZShtb3ZlUmVzdWx0LCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBkb01vdmUodmFyaWFudDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgICAgIC8vIGEgd2F5IHRvIGhhbmRsZSBtdWx0aXBsZSBjbGlja1xyXG4gICAgICAgICAgICBpZiAodGhpcy4kc2NvcGUuY3VycmVudFdvcmQudHJhbnNsYXRlVmFyaWFudHMuZmlsdGVyKHYgPT4gdi5pc1NlbGVjdGVkKVxyXG4gICAgICAgICAgICAgICAgICAgIC5sZW5ndGggIT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0b3BUaW1lcigpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy4kc2NvcGUuc2Vjb25kc0Zvck1vdmVMZWZ0ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBzaG91bGQgYmUgaGFuZGxlZCBieSB0aW1lciBjYWxsYmFja1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgc2VsZWN0ZWRWYXIgPSB0aGlzLiRzY29wZS5jdXJyZW50V29yZC50cmFuc2xhdGVWYXJpYW50cy5maWx0ZXIodiA9PiB2LnZhcmlhbnQgPT09IHZhcmlhbnQpWzBdO1xyXG4gICAgICAgICAgICBpZiAoIXNlbGVjdGVkVmFyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnSW5jb3JyZWN0IHZhciBzZWxlY3RlZCcpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRWYXIuaXNTZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbkh1YlNlcnZpY2UuZG9Nb3ZlKHRoaXMudXNlck51bSwgdGhpcy4kc2NvcGUuY3VycmVudFdvcmQud29yZCwgdmFyaWFudClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5kb25lKChtb3ZlUmVzdWx0Ok1vZGVscy5Nb3ZlUmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUuJGFwcGx5KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVNb3ZlKG1vdmVSZXN1bHQsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGhhbmRsZU1vdmUobW92ZVJlczogTW9kZWxzLk1vdmVSZXN1bHQsIGlzQ3VycmVudFVzZXJNb3ZlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcFRpbWVyKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBpZiBpdCBpcyBza2lwcGVkLCB0aGVuIHNldCB0aW1lciBtYW51YWxseSB0byAwXHJcbiAgICAgICAgICAgIC8vIGJlY2F1c2UgdGltZXIgb24gYm90aCBzaWRlIG1heSBzaG93IGRpZmZlcmVudCB0aW1lIGJ5IHRoYXQgdGltZVxyXG4gICAgICAgICAgICAvLyBlLmcuIG9uZSBjb3VsZCBoYXZlIDAgYW5kIG90aGVyIHBsYXllciBjb3VsZCBoYXZlIDFcclxuICAgICAgICAgICAgaWYgKG1vdmVSZXMuaXNTa2lwcGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS5zZWNvbmRzRm9yTW92ZUxlZnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUucGVyY2VudGFnZXNMZWZ0ID0gMDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRVc2VyU2NvcmUgPSB0aGlzLnVzZXJOdW0gPT09IDEgPyB0aGlzLmdhbWVJbmZvLnVzZXIxU2NvcmUgOiB0aGlzLmdhbWVJbmZvLnVzZXIyU2NvcmU7XHJcbiAgICAgICAgICAgIHZhciB1c2VyMlNjb3JlID0gdGhpcy51c2VyTnVtID09PSAxID8gdGhpcy5nYW1lSW5mby51c2VyMlNjb3JlIDogdGhpcy5nYW1lSW5mby51c2VyMVNjb3JlO1xyXG5cclxuICAgICAgICAgICAgbGV0IHNjb3JlID0gaXNDdXJyZW50VXNlck1vdmUgPyBjdXJyZW50VXNlclNjb3JlIDogdXNlcjJTY29yZTtcclxuXHJcbiAgICAgICAgICAgIGlmICghbW92ZVJlcy5pc0NvcnJlY3QpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobW92ZVJlcy5lcnJvck1lc3NhZ2UpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1vdmVSZXMuaXNTdWNjZXNzZnVsKSB7XHJcbiAgICAgICAgICAgICAgICBzY29yZS5zdWNjZXNzZnVsTW92ZXMrKztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNjb3JlLndyb25nTW92ZXMrKztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKG1vdmVSZXMuc2VsZWN0ZWRWYXJpYW50SW5kZXggIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS5jdXJyZW50V29yZC50cmFuc2xhdGVWYXJpYW50c1ttb3ZlUmVzLnNlbGVjdGVkVmFyaWFudEluZGV4XS5pc1NlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMudXNlck51bSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUuY3VycmVudFVzZXJTY29yZSA9IHRoaXMuZ2FtZUluZm8udXNlcjFTY29yZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLnVzZXIyU2NvcmUgPSB0aGlzLmdhbWVJbmZvLnVzZXIyU2NvcmU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS5jdXJyZW50VXNlclNjb3JlID0gdGhpcy5nYW1lSW5mby51c2VyMlNjb3JlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUudXNlcjJTY29yZSA9IHRoaXMuZ2FtZUluZm8udXNlcjFTY29yZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy4kdGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS5pc0N1cnJlbnRVc2VyTW92ZSA9ICFpc0N1cnJlbnRVc2VyTW92ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLmN1cnJlbnRXb3JkSW5kZXgrKztcclxuICAgICAgICAgICAgICAgIGlmIChpc0N1cnJlbnRVc2VyTW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXNzZWRXb3JkID0gbmV3IE1vZGVscy5QYXNzZWRXb3JkSW5mbygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhc3NlZFdvcmQud29yZCA9IHRoaXMuJHNjb3BlLmN1cnJlbnRXb3JkLndvcmQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFzc2VkV29yZC5hbnN3ZXIgPSB0aGlzLiRzY29wZS5jdXJyZW50V29yZC50cmFuc2xhdGVWYXJpYW50c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGkgPT4gaS5pc1RydWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zaGlmdCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC52YXJpYW50O1xyXG4gICAgICAgICAgICAgICAgICAgIHBhc3NlZFdvcmQud2FzUGFzc2VkID0gbW92ZVJlcy5pc1N1Y2Nlc3NmdWw7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUucGFzc2VkV29yZHMucHVzaChwYXNzZWRXb3JkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gcmVtb3ZlRnJvbUFycmF5SWYoYXJyOiBBcnJheTxNb2RlbHMuV29yZD4sIGNhbGxiYWNrOiAoYXJnOiBNb2RlbHMuV29yZCwgaW5kZXg6IG51bWJlcikgPT4gYm9vbGVhbik6IHZvaWQge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaSA8IGFyci5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKGFycltpXSwgaSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyci5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArK2k7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUuY3VycmVudFdvcmQgPSB0aGlzLmdhbWVJbmZvLndvcmRzW3RoaXMuJHNjb3BlLmN1cnJlbnRXb3JkSW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWYXJpbmF0c09yZGVyKCk7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVGcm9tQXJyYXlJZih0aGlzLiRzY29wZS5sZWZ0V29yZHMsIHcgPT4gdy53b3JkID09PSB0aGlzLiRzY29wZS5jdXJyZW50V29yZC53b3JkKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobW92ZVJlcy5pc0xhc3RNb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZUhhbmRsZXIuaGFuZGxlR2FtZUZpbmlzaGVkKHRoaXMuJHNjb3BlLmN1cnJlbnRVc2VyU2NvcmUuc3VjY2Vzc2Z1bE1vdmVzID4gdGhpcy4kc2NvcGUudXNlcjJTY29yZS5zdWNjZXNzZnVsTW92ZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLmN1cnJlbnRVc2VyU2NvcmUuc3VjY2Vzc2Z1bE1vdmVzID09IHRoaXMuJHNjb3BlLnVzZXIyU2NvcmUuc3VjY2Vzc2Z1bE1vdmVzKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc2V0R2FtZUluZm8oKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25IdWJTZXJ2aWNlLnN0b3BIdWJDb25uZWN0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRUaW1lcigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCAxMDAwLCB0cnVlKTsgLy8gZGVsYXkgdG8gbGV0IHVzZXIgc2VlIHRoZSByZXN1bHQgb2YgbW92ZVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIHNldFZhcmluYXRzT3JkZXIoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy4kc2NvcGUuY3VycmVudFdvcmQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy4kc2NvcGUuY3VycmVudFdvcmQudHJhbnNsYXRlVmFyaWFudHMuZm9yRWFjaCgodmFsdWUsIGluZGV4KSA9PiB2YWx1ZS5vcmRlciA9IGluZGV4ICsgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKENvbW1vbi5HZXRDb25zdGFudHMoKS5hcHBOYW1lKS5jb250cm9sbGVyKFwiY29udHJvbGxlcnMuR2FtZUNvbnRyb2xsZXJcIiwgR2FtZUNvbnRyb2xsZXIpO1xyXG59ICIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9jb21tb24udHNcIiAvPlxyXG4kKCgpID0+IHtcclxuICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjcwMDAwMC9ob3ctdG8tZGlzYWJsZS10ZXh0LXNlbGVjdGlvbi11c2luZy1qcXVlcnlcclxuICAgICQoJyN3b3JkLCAud29yZC1sZWZ0LWl0ZW0tY2FwdGlvbicpLmF0dHIoJ3Vuc2VsZWN0YWJsZScsJ29uJylcclxuICAgICAuY3NzKHsnLW1vei11c2VyLXNlbGVjdCc6Jy1tb3otbm9uZScsXHJcbiAgICAgICAgICAgJy1vLXVzZXItc2VsZWN0Jzonbm9uZScsXHJcbiAgICAgICAgICAgJy1raHRtbC11c2VyLXNlbGVjdCc6J25vbmUnLCAvKiB5b3UgY291bGQgYWxzbyBwdXQgdGhpcyBpbiBhIGNsYXNzICovXHJcbiAgICAgICAgICAgJy13ZWJraXQtdXNlci1zZWxlY3QnOidub25lJywvKiBhbmQgYWRkIHRoZSBDU1MgY2xhc3MgaGVyZSBpbnN0ZWFkICovXHJcbiAgICAgICAgICAgJy1tcy11c2VyLXNlbGVjdCc6J25vbmUnLFxyXG4gICAgICAgICAgICd1c2VyLXNlbGVjdCc6J25vbmUnXHJcbiAgICAgfSkuYmluZCgnc2VsZWN0c3RhcnQnLCBmdW5jdGlvbigpeyByZXR1cm4gZmFsc2U7IH0pO1xyXG59KSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9jb21tb24udHNcIiAvPlxyXG4kKCgpID0+IHtcclxuICAgICQoZG9jdW1lbnQpLmtleXByZXNzKGUgPT4ge1xyXG4gICAgICAgIGlmIChlLndoaWNoID09PSAxMykge1xyXG4gICAgICAgICAgICAkKFwiLmJ0bi1zdWJtaXQ6dmlzaWJsZVwiKS5maXJzdCgpLmNsaWNrKCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlLndoaWNoID49IDQ4ICYmIGUud2hpY2ggPD0gNTcpIHtcclxuICAgICAgICAgICAgbGV0IG51bVByZXNzZWQgPSBlLndoaWNoIC0gNDg7XHJcbiAgICAgICAgICAgICQoJy50cmFuc2xhdGVWYXJpYW50OnZpc2libGUnKS5maWx0ZXIoKGluZGV4LCBlbGVtKSA9PiAkKGVsZW0pLmRhdGEoJ29yZGVyJykgPT09IG51bVByZXNzZWQpXHJcbiAgICAgICAgICAgICAgICAuZmlyc3QoKVxyXG4gICAgICAgICAgICAgICAgLmNsaWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn0pOyIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9jb21tb24udHNcIiAvPlxyXG4kKCgpID0+IHtcclxuICAgICQoJyN1c2VyMnZhcmlhbnRzJykuYmluZCgnRE9NTm9kZUluc2VydGVkJywgKCkgPT4gKCQoJy50cmFuc2xhdGVWYXJpYW50Lm5vaG92ZXInKSBhcyBhbnkpLnRvb2x0aXAoKSk7XHJcbn0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
