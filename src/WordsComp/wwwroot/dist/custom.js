function getWordContainerPostion(){var $element=$("#word-element");return{x:$element.offset().left,y:$element.offset().top}}var Common;!function(Common){function GetConstants(){return new Constants}var Constants=function(){function Constants(){this.appName="gameApp",this.hubConnectToGroupMethodName="connect",this.connectedToGroup="userAdded",this.leftGroup="userLeft",this.groupFulled="groupFulled",this.competitionHub="competitionHub",this.gameStarted="gameStarted",this.didMove="didMove",this.gameFinished="gameFinished",this.doMove="doMove",this.passMove="passMove"}return Constants}();Common.Constants=Constants,Common.GetConstants=GetConstants}(Common||(Common={}));var Mixins;!function(Mixins){function actionWrapper($scope,action){return function(scheduler,state){if(!$scope.$$phase){var value_1;return $scope.$apply(function(){value_1=action(scheduler,state)}),value_1}return action(scheduler,state)}}var NgScheduler=function(){function NgScheduler($scope){this.immediateScheduler=Rx.Scheduler.immediate,this.$scope=$scope}return NgScheduler.prototype.now=function(){return this.immediateScheduler.now()},NgScheduler.prototype.schedule=function(state,action){return this.immediateScheduler.schedule(state,actionWrapper(this.$scope,action))},NgScheduler.prototype.scheduleFuture=function(state,dueTime,action){throw new Error("Not supported")},NgScheduler.prototype.scheduleRecursive=function(state,action){throw new Error("Not supported")},NgScheduler.prototype.scheduleRecursiveFuture=function(state,dueTime,action){throw new Error("Not supported")},NgScheduler.prototype.schedulePeriodic=function(state,period,action){throw new Error("Not supported")},NgScheduler.prototype.catch=function(handler){return this.immediateScheduler.catch(handler)},NgScheduler}();Mixins.NgScheduler=NgScheduler}(Mixins||(Mixins={}));var App;!function(App){function GetApp(){return app}var constants=Common.GetConstants(),app=angular.module(constants.appName,["ui.bootstrap.modal","ngAnimate","angularSpinner"]);app.config(["usSpinnerConfigProvider",function(usSpinnerConfigProvider){usSpinnerConfigProvider.setDefaults({color:"#5B91DE"})}]),App.GetApp=GetApp}(App||(App={}));var Models;!function(Models){var User=function(){function User(){}return User}();Models.User=User}(Models||(Models={}));var Models;!function(Models){var Group=function(){function Group(){}return Group}();Models.Group=Group}(Models||(Models={}));var Models;!function(Models){var Score=function(){function Score(){}return Score}();Models.Score=Score}(Models||(Models={}));var Models;!function(Models){var TranslateVariant=function(){function TranslateVariant(){this.variant=null,this.isTrue=!1,this.isSelected=!1}return TranslateVariant}();Models.TranslateVariant=TranslateVariant}(Models||(Models={}));var Models;!function(Models){var Word=function(){function Word(){}return Word}();Models.Word=Word}(Models||(Models={}));var Models;!function(Models){var Game=function(){function Game(){}return Game}();Models.Game=Game}(Models||(Models={}));var Models;!function(Models){var GameResult=function(){function GameResult(){}return GameResult}();Models.GameResult=GameResult}(Models||(Models={}));var Models;!function(Models){var MoveResult=function(){function MoveResult(){}return MoveResult}();Models.MoveResult=MoveResult}(Models||(Models={}));var Models;!function(Models){var PassedWordInfo=function(){function PassedWordInfo(){}return PassedWordInfo}();Models.PassedWordInfo=PassedWordInfo}(Models||(Models={}));var Models;!function(Models){!function(Level){Level[Level.Beginer=1]="Beginer",Level[Level.Intermediate=2]="Intermediate",Level[Level.Advanced=3]="Advanced"}(Models.Level||(Models.Level={}));Models.Level}(Models||(Models={}));var Services;!function(Services){var ConnectToGameService=function(){function ConnectToGameService(hubConnectionService){this.constants=Common.GetConstants(),this.connection=hubConnectionService.getConnection(),this.hub=this.connection.createHubProxy(this.constants.competitionHub)}return ConnectToGameService.prototype.connectToHub=function(){return this.hub.connection.start()},ConnectToGameService.prototype.onConnectToHub=function(callBack){this.onConnectedToHubCallback=callBack},ConnectToGameService.prototype.doMove=function(moveOrder,word,variant){return this.hub.invoke(this.constants.doMove,moveOrder,word,variant)},ConnectToGameService.prototype.passMove=function(moveOrder){return this.hub.invoke(this.constants.passMove,moveOrder)},ConnectToGameService.prototype.connectToNewGroupImpl=function(displayName,level){return this.hub.invoke(this.constants.hubConnectToGroupMethodName,displayName,level)},ConnectToGameService.prototype.connectToNewGroup=function(displayName,level){var _this=this;return 4===this.connection.state?this.connectToHub().then(function(values){return _this.onConnectedToHubCallback(values.id),_this.hub.invoke(_this.constants.hubConnectToGroupMethodName,displayName,level)}):this.hub.invoke(this.constants.hubConnectToGroupMethodName,displayName,level)},ConnectToGameService.prototype.onConnectedToGroup=function(callBack){this.hub.on(this.constants.connectedToGroup,function(msg){return callBack(msg)})},ConnectToGameService.prototype.onGroupFulled=function(callBack){this.hub.on(this.constants.groupFulled,function(msg){return callBack(msg)})},ConnectToGameService.prototype.onUserLeft=function(callBack){this.hub.on(this.constants.leftGroup,function(msg){return callBack(msg[0])})},ConnectToGameService.prototype.gameStarted=function(callBack){this.hub.on(this.constants.gameStarted,function(msg){callBack(msg)})},ConnectToGameService.prototype.didMove=function(callBack){this.hub.on(this.constants.didMove,function(msg){return callBack(msg)})},ConnectToGameService.prototype.gameFinished=function(callBack){this.hub.on(this.constants.gameFinished,function(msg){return callBack(msg[0])})},ConnectToGameService.prototype.onDisconnectedFromHub=function(callBack){this.connection.disconnected(callBack)},ConnectToGameService.prototype.stopHubConnection=function(){4!==this.connection.state&&this.connection.stop()},ConnectToGameService.$inject=["Services.HubConnectionService"],ConnectToGameService}();Services.ConnectToGameService=ConnectToGameService,angular.module(Common.GetConstants().appName).service("Services.ConnectToGameService",ConnectToGameService)}(Services||(Services={}));var Services;!function(Services){var CookieService=function(){function CookieService(){}return CookieService.prototype.setCookie=function(cname,cvalue,exdays){exdays||(exdays=3670);var d=new Date;d.setTime(d.getTime()+24*exdays*60*60*1e3);var expires="expires="+d.toUTCString();document.cookie=cname+"="+cvalue+";"+expires+";path=/"},CookieService.prototype.getCookie=function(cname){for(var name=cname+"=",ca=document.cookie.split(";"),i=0;i<ca.length;i++){for(var c=ca[i];" "==c.charAt(0);)c=c.substring(1);if(0==c.indexOf(name))return c.substring(name.length,c.length)}return""},CookieService}();Services.CookieService=CookieService,angular.module(Common.GetConstants().appName).service("Services.CookieService",CookieService)}(Services||(Services={}));var Services;!function(Services){var HubConnectionService=function(){function HubConnectionService(){}return HubConnectionService.prototype.getConnection=function(){return HubConnectionService.connection||(HubConnectionService.connection=$.hubConnection("/signalr",{useDefaultPath:!1}),HubConnectionService.connection.logging=!0),HubConnectionService.connection},HubConnectionService}();Services.HubConnectionService=HubConnectionService,angular.module(Common.GetConstants().appName).service("Services.HubConnectionService",HubConnectionService)}(Services||(Services={}));var Services;!function(Services){var StateHandlerService=function(){function StateHandlerService($rootScope,$modal,usSpinnerService){this.constants=Common.GetConstants(),this.$modal=$modal,this.usSpinnerService=usSpinnerService,this.$rootScope=$rootScope,this.$rootScope.isStartGamePage=!1,this.$rootScope.userId=null,this.groupFulledObservable=new Rx.Subject,this.addedToGroupObservable=new Rx.Subject,this.userLeftGroupObservable=new Rx.Subject,this.gameStartedObservable=new Rx.Subject}return StateHandlerService.prototype.setUpGameScope=function($gameScope){this.$gameScope=$gameScope},StateHandlerService.prototype.callInDigestLoop=function(action){this.$rootScope.$$phase?action():this.$rootScope.$apply(function(){action()})},StateHandlerService.prototype.showStartGameModal=function(){var opt={};opt.scope=this.connectToGameScope,opt.templateUrl="connectToGroup.html",opt.windowTemplateUrl="windowTemplate.html",opt.backdrop="static",opt.keyboard=!1,opt.animation=!0,opt.size="lg",this.startGameModalInstance=this.$modal.open(opt)},StateHandlerService.prototype.showGameFinishedModalWindow=function(isWin,isDraw){if(void 0===isWin&&void 0===isDraw)throw"One of boolean flags should be specified";var connectToGameScope=this.connectToGameScope,opt={};opt.controller=function($scope){$scope.playAgain=connectToGameScope.connectToGroup,isDraw?$scope.message="Ничья. Отличная игра :D!\nХотите сыграть ещё раз?":isWin?$scope.message="Поздравления! Вы выиграли!\nХотите сыграть ещё раз?":$scope.message="Даже если проиграл, преобретенный опыт останется навсегда с тобой и станет твоей наградой :)\nХотите сыграть ещё раз?"},opt.templateUrl="gameFinished.html",opt.windowTemplateUrl="windowTemplate.html",opt.backdrop="static",opt.keyboard=!1,opt.animation=!0,opt.size="lg",this.startGameModalInstance=this.$modal.open(opt)},StateHandlerService.prototype.startSpin=function(spinKey,observable){var _this=this;this.usSpinnerService.spin(spinKey),observable.subscribe(function(){_this.usSpinnerService.stop(spinKey)})},StateHandlerService.prototype.setConnectToGameScope=function(connectToGameScope){this.connectToGameScope=connectToGameScope},StateHandlerService.prototype.handleConnectionToGroup=function(promise){var _this=this;this.callInDigestLoop(function(){var addedToGroup=_this.addedToGroupObservable.take(1);addedToGroup.subscribe(function(){_this.startGameModalInstance&&(_this.startGameModalInstance.close(),_this.startGameModalInstance=null),_this.$rootScope.isStartGamePage=!0});var groupFulled=_this.groupFulledObservable.take(1);_this.startSpin("group-fulled",groupFulled),groupFulled.subscribe(function(){_this.startSpin("loading-game",Rx.Observable.merge(_this.userLeftGroupObservable.take(1),_this.gameStartedObservable.take(1)).take(1))}),_this.startSpin("connect-to-group",Rx.Observable.fromPromise(promise))}),promise.fail(function(error){console.log("smth bad happened: "+error)})},StateHandlerService.prototype.handleUserAddedToGroup=function(){this.addedToGroupObservable.onNext({})},StateHandlerService.prototype.showStartGameWindow=function(){var _this=this;this.callInDigestLoop(function(){_this.showStartGameModal()})},StateHandlerService.prototype.handleGameFinished=function(isWin,isDraw){var _this=this;this.callInDigestLoop(function(){_this.$rootScope.isStartGamePage=!1,_this.showGameFinishedModalWindow(isWin,isDraw)})},StateHandlerService.prototype.handleGroupFulled=function(){var _this=this;this.callInDigestLoop(function(){_this.groupFulledObservable.onNext({})})},StateHandlerService.prototype.handleGameStarted=function(){var _this=this;this.callInDigestLoop(function(){_this.$rootScope.isStartGamePage=!0,_this.startGameModalInstance&&(_this.startGameModalInstance.close(),_this.startGameModalInstance=null)}),this.gameStartedObservable.onNext({})},StateHandlerService.prototype.getUserId=function(){return this.$rootScope.userId},StateHandlerService.prototype.setUserId=function(userId){this.$rootScope.userId=userId},StateHandlerService.prototype.handleUser2LeftGroup=function(){var _this=this;this.callInDigestLoop(function(){_this.userLeftGroupObservable.onNext({}),_this.$rootScope.isStartGamePage=!1,_this.showStartGameModal()})},StateHandlerService.prototype.getUserDisplayName=function(){return this.$rootScope.displayName},StateHandlerService.prototype.handleDisconnectedFromHub=function(){var _this=this;this.$rootScope.isStartGamePage&&this.callInDigestLoop(function(){_this.$rootScope.isStartGamePage=!1,_this.showStartGameModal()})},StateHandlerService.$inject=["$rootScope","$uibModal","usSpinnerService"],StateHandlerService}();Services.StateHandlerService=StateHandlerService,angular.module(Common.GetConstants().appName).service("Services.StateHandlerService",StateHandlerService)}(Services||(Services={}));var controllers;!function(controllers){var ConnectToGameController=function(){function ConnectToGameController(connectionHubService,$scope,stateHandler,$rootScope,coockieService){this.connectionHubService=connectionHubService,this.$scope=$scope,this.stateHandler=stateHandler,this.$rootScope=$rootScope,this.coockieService=coockieService,this.displayNameCookieKey="displayName",this.levelCookieKey="levelName",this.initializeViewModel()}return ConnectToGameController.prototype.initializeViewModel=function(){var _this=this;this.stateHandler.setConnectToGameScope(this.$scope),this.connectionHubService.onUserLeft(function(data){return _this.onUserLeft.call(_this,data)}),this.connectionHubService.onGroupFulled(function(data){return _this.onGroupFulled.call(_this,data)}),this.connectionHubService.onConnectedToGroup(function(data){return _this.onConnectedToGroup.call(_this,data)}),this.$scope.connectToGroup=function(){return _this.connectToGroup.apply(_this)},this.connectionHubService.onConnectToHub(function(value){_this.stateHandler.setUserId(value)}),this.connectionHubService.onDisconnectedFromHub(function(){return _this.stateHandler.handleDisconnectedFromHub()}),this.$scope.levels=[{level:Models.Level.Beginer,name:"Новачок"},{level:Models.Level.Intermediate,name:"Средний"},{level:Models.Level.Advanced,name:"Высокий"}],this.$scope.changeLevel=function(level){return _this.$rootScope.level=level};var displayNameFromCookies="Случайный игрок",levelFromCookies=2;try{var cookieValue=this.coockieService.getCookie(this.displayNameCookieKey);""!==cookieValue&&(displayNameFromCookies=cookieValue),cookieValue=this.coockieService.getCookie(this.levelCookieKey),""!==cookieValue&&(levelFromCookies=parseInt(cookieValue)||levelFromCookies)}catch(error){console.log(error)}this.$rootScope.displayName=displayNameFromCookies,this.$rootScope.level=this.$scope.levels[levelFromCookies-1],this.stateHandler.showStartGameWindow()},ConnectToGameController.prototype.onGroupFulled=function(groupInfo){this.groupInfo=groupInfo,this.stateHandler.handleGroupFulled()},ConnectToGameController.prototype.onUserLeft=function(groupInfo){this.groupInfo=null,this.stateHandler.handleUser2LeftGroup()},ConnectToGameController.prototype.connectToGroup=function(){var displayName=this.stateHandler.getUserDisplayName(),level=this.$rootScope.level.level;try{this.coockieService.setCookie(this.displayNameCookieKey,displayName),this.coockieService.setCookie(this.levelCookieKey,level)}catch(error){console.log(error)}var promise=this.connectionHubService.connectToNewGroup(displayName,level);this.stateHandler.handleConnectionToGroup(promise)},ConnectToGameController.prototype.onConnectedToGroup=function(userId){this.stateHandler.setUserId(userId),this.stateHandler.handleUserAddedToGroup()},ConnectToGameController.$inject=["Services.ConnectToGameService","$scope","Services.StateHandlerService","$rootScope","Services.CookieService"],ConnectToGameController}();controllers.ConnectToGameController=ConnectToGameController,angular.module(Common.GetConstants().appName).controller("controllers.ConnectToGameController",ConnectToGameController)}(controllers||(controllers={}));var controllers;!function(controllers){var GameController=function(){function GameController(connectionHubService,$scope,stateHandler,$interval,$timeout){this.connectionHubService=connectionHubService,this.$scope=$scope,this.stateHandler=stateHandler,this.$interval=$interval,this.secondsForMove=10,this.$timeout=$timeout,this.quates=["How many languages you know — that many times you are a person","If you talk to a man in a language he understands, that goes to his head. If you talk to him in his language, that goes to his heart","By words the mind is winged","Language is the means of getting an idea from my brain into yours without surgery","A different language is a different vision of life","To have another language is to possess a second soul","If we spoke a different language, we would perceive a somewhat different world","Language exerts hidden power, like the moon on the tides","Language is the road map of a culture. It tells you where its people come from and where they are going","He who does not know foreign languages does not know anything about his own"],this.initializeViewModel()}return GameController.prototype.initializeViewModel=function(){var _this=this;this.connectionHubService.gameStarted(function(data){return _this.startGame.call(_this,data)}),this.connectionHubService.didMove(function(data){return _this.user2didMove.call(_this,data)}),this.connectionHubService.onGroupFulled(function(data){return _this.handleGroupFulled.call(_this,data)}),this.$scope.doMove=function(variant){return _this.doMove.call(_this,variant)},this.connectionHubService.onUserLeft(function(){return _this.onUserLeft.call(_this)}),this.unsetGameInfo(),this.stateHandler.setUpGameScope(this.$scope);var randomQuateIndex=Math.floor(Math.random()*this.quates.length);this.$scope.randomQuate=this.quates[randomQuateIndex]},GameController.prototype.handleGroupFulled=function(group){var _this=this;this.callInDigestLoop(function(){var isUser1=group.usersList[0].userId===_this.stateHandler.getUserId();_this.$scope.user2DisplayName=isUser1?group.usersList[0].displayName:group.usersList[1].displayName})},GameController.prototype.onUserLeft=function(){this.stopTimer(),this.unsetGameInfo()},GameController.prototype.unsetGameInfo=function(){var _this=this;this.gameInfo=null,this.callInDigestLoop(function(){_this.$scope.currentWord=null,_this.$scope.secondsForMoveLeft=null,_this.$scope.percentagesLeft=null,_this.$scope.isCurrentUserMove=null,_this.$scope.currentUserScore=null,_this.$scope.user2Score=null,_this.$scope.passedWords=[],_this.$scope.leftWords=[]})},GameController.prototype.startGame=function(game){var _this=this;this.gameInfo=game,this.words=game.words;var isUser1=game.user1.userId===this.stateHandler.getUserId();this.userNum=isUser1?1:2,this.$scope.$apply(function(){function shuffle(arr){for(var t,i,array=arr.slice(0),m=array.length;m;)i=Math.floor(Math.random()*m--),t=array[m],array[m]=array[i],array[i]=t;return array}_this.$scope.currentUserScore=isUser1?game.user1Score:game.user2Score,_this.$scope.user2Score=isUser1?game.user2Score:game.user1Score,_this.$scope.currentWordIndex=0,_this.$scope.currentWord=_this.words[0],_this.setVarinatsOrder(),_this.$scope.isCurrentUserMove=isUser1&&1===_this.gameInfo.currentMove||!isUser1&&2===_this.gameInfo.currentMove,_this.$scope.leftWords=shuffle(_this.words.slice(1))}),this.stateHandler.handleGameStarted(),this.startTimer()},GameController.prototype.callInDigestLoop=function(action){this.$scope.$$phase?action():this.$scope.$apply(function(){action()})},GameController.prototype.startTimer=function(){var _this=this;if(this.timerPromise)throw"Previous timer should be stopped";this.callInDigestLoop(function(){_this.$scope.secondsForMoveLeft=_this.secondsForMove,_this.$scope.percentagesLeft=100}),this.timerPromise=this.$interval(function(){_this.$scope.secondsForMoveLeft--,_this.$scope.percentagesLeft=_this.$scope.secondsForMoveLeft/10*100,0===_this.$scope.secondsForMoveLeft&&_this.$scope.isCurrentUserMove&&_this.passMove()},1e3,10)},GameController.prototype.stopTimer=function(){this.timerPromise&&(this.$interval.cancel(this.timerPromise),this.timerPromise=null)},GameController.prototype.user2didMove=function(moveRes){var _this=this;this.$scope.$apply(function(){_this.handleMove(moveRes,!1)})},GameController.prototype.passMove=function(){var _this=this;this.connectionHubService.passMove(this.userNum).done(function(moveResult){_this.$scope.$apply(function(){_this.handleMove(moveResult,!0)})})},GameController.prototype.doMove=function(variant){var _this=this;if(0===this.$scope.currentWord.translateVariants.filter(function(v){return v.isSelected}).length&&(this.stopTimer(),0!==this.$scope.secondsForMoveLeft)){var selectedVar=this.$scope.currentWord.translateVariants.filter(function(v){return v.variant===variant})[0];selectedVar?selectedVar.isSelected=!0:console.log("Incorrect var selected"),this.connectionHubService.doMove(this.userNum,this.$scope.currentWord.word,variant).done(function(moveResult){_this.$scope.$apply(function(){_this.handleMove(moveResult,!0)})})}},GameController.prototype.handleMove=function(moveRes,isCurrentUserMove){var _this=this;this.stopTimer(),moveRes.isSkipped&&(this.$scope.secondsForMoveLeft=0,this.$scope.percentagesLeft=0);var currentUserScore=1===this.userNum?this.gameInfo.user1Score:this.gameInfo.user2Score,user2Score=1===this.userNum?this.gameInfo.user2Score:this.gameInfo.user1Score,score=isCurrentUserMove?currentUserScore:user2Score;moveRes.isCorrect?moveRes.isSuccessful?score.successfulMoves++:score.wrongMoves++:console.error(moveRes.errorMessage),moveRes.selectedVariantIndex!==-1&&(this.$scope.currentWord.translateVariants[moveRes.selectedVariantIndex].isSelected=!0),1===this.userNum?(this.$scope.currentUserScore=this.gameInfo.user1Score,this.$scope.user2Score=this.gameInfo.user2Score):(this.$scope.currentUserScore=this.gameInfo.user2Score,this.$scope.user2Score=this.gameInfo.user1Score),this.$timeout(function(){function removeFromArrayIf(arr,callback){for(var i=0;i<arr.length;){if(callback(arr[i],i))return void arr.splice(i,1);++i}}if(_this.$scope.isCurrentUserMove=!isCurrentUserMove,_this.$scope.currentWordIndex++,isCurrentUserMove){var passedWord=new Models.PassedWordInfo;passedWord.word=_this.$scope.currentWord.word,passedWord.answer=_this.$scope.currentWord.translateVariants.filter(function(i){return i.isTrue}).shift().variant,passedWord.wasPassed=moveRes.isSuccessful,_this.$scope.passedWords.push(passedWord)}_this.$scope.currentWord=_this.gameInfo.words[_this.$scope.currentWordIndex],_this.setVarinatsOrder(),removeFromArrayIf(_this.$scope.leftWords,function(w){return w.word===_this.$scope.currentWord.word}),moveRes.isLastMove?(_this.stateHandler.handleGameFinished(_this.$scope.currentUserScore.successfulMoves>_this.$scope.user2Score.successfulMoves,_this.$scope.currentUserScore.successfulMoves==_this.$scope.user2Score.successfulMoves),_this.unsetGameInfo(),_this.connectionHubService.stopHubConnection()):_this.startTimer()},1e3,!0)},GameController.prototype.setVarinatsOrder=function(){this.$scope.currentWord&&this.$scope.currentWord.translateVariants.forEach(function(value,index){return value.order=index+1})},GameController.$inject=["Services.ConnectToGameService","$scope","Services.StateHandlerService","$interval","$timeout"],GameController}();controllers.GameController=GameController,angular.module(Common.GetConstants().appName).controller("controllers.GameController",GameController)}(controllers||(controllers={})),$(function(){$("#word, .word-left-item-caption").attr("unselectable","on").css({"-moz-user-select":"-moz-none","-o-user-select":"none","-khtml-user-select":"none","-webkit-user-select":"none","-ms-user-select":"none","user-select":"none"}).bind("selectstart",function(){return!1})}),$(function(){$(document).keypress(function(e){if(13===e.which)$(".btn-submit:visible").first().click();else if(e.which>=48&&e.which<=57){var numPressed_1=e.which-48;$(".translateVariant:visible").filter(function(index,elem){return $(elem).data("order")===numPressed_1}).first().click()}})}),$(function(){$("#user2variants").bind("DOMNodeInserted",function(){return $(".translateVariant.nohover").tooltip()})});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy90c2NyaXB0cy9hbmltYXRpb25zL3dvcmRzTGVmdEFuaW1hdGlvbi50cyIsInNyYy90c2NyaXB0cy9jb21tb24udHMiLCJzcmMvdHNjcmlwdHMvbWl4aW5zL25nU2NoZWR1bGVyLnRzIiwic3JjL3RzY3JpcHRzL2FwcC50cyIsInNyYy90c2NyaXB0cy9tb2RlbHMvVXNlci50cyIsInNyYy90c2NyaXB0cy9tb2RlbHMvZ3JvdXAudHMiLCJzcmMvdHNjcmlwdHMvbW9kZWxzL3Njb3JlLnRzIiwic3JjL3RzY3JpcHRzL21vZGVscy90cmFuc2xhdGVWYXJpYW50LnRzIiwic3JjL3RzY3JpcHRzL21vZGVscy93b3JkLnRzIiwic3JjL3RzY3JpcHRzL21vZGVscy9nYW1lLnRzIiwic3JjL3RzY3JpcHRzL21vZGVscy9nYW1lUmVzdWx0LnRzIiwic3JjL3RzY3JpcHRzL21vZGVscy9tb3ZlUmVzdWx0LnRzIiwic3JjL3RzY3JpcHRzL21vZGVscy9wYXNzZWRXb3JkSW5mby50cyIsInNyYy90c2NyaXB0cy9tb2RlbHMvbGV2ZWwudHMiLCJzcmMvdHNjcmlwdHMvc2VydmljZXMvY29ubmVjdFRvR2FtZVNlcnZpY2UudHMiLCJzcmMvdHNjcmlwdHMvc2VydmljZXMvQ29va2llU2VydmljZS50cyIsInNyYy90c2NyaXB0cy9zZXJ2aWNlcy9odWJDb25uZWN0aW9uU2VydmljZS50cyIsInNyYy90c2NyaXB0cy9zZXJ2aWNlcy9zdGF0ZUhhbmRsZXJTZXJ2aWNlLnRzIiwic3JjL3RzY3JpcHRzL2NvbnRyb2xsZXJzL2Nvbm5lY3Rpb25Db250cm9sbGVyLnRzIiwic3JjL3RzY3JpcHRzL2NvbnRyb2xsZXJzL2dhbWVDb250cm9sbGVyLnRzIiwic3JjL3RzY3JpcHRzL2RvbS9kaXNhYmxlU2VsZWN0aW9uLnRzIiwic3JjL3RzY3JpcHRzL2RvbS9rZXlib2FyZEJpbmRpbmdzLnRzIiwic3JjL3RzY3JpcHRzL2RvbS90b29sdGlwLnRzIl0sIm5hbWVzIjpbImdldFdvcmRDb250YWluZXJQb3N0aW9uIiwiJGVsZW1lbnQiLCIkIiwieCIsIm9mZnNldCIsImxlZnQiLCJ5IiwidG9wIiwiQ29tbW9uIiwiR2V0Q29uc3RhbnRzIiwiQ29uc3RhbnRzIiwidGhpcyIsImFwcE5hbWUiLCJodWJDb25uZWN0VG9Hcm91cE1ldGhvZE5hbWUiLCJjb25uZWN0ZWRUb0dyb3VwIiwibGVmdEdyb3VwIiwiZ3JvdXBGdWxsZWQiLCJjb21wZXRpdGlvbkh1YiIsImdhbWVTdGFydGVkIiwiZGlkTW92ZSIsImdhbWVGaW5pc2hlZCIsImRvTW92ZSIsInBhc3NNb3ZlIiwiTWl4aW5zIiwiYWN0aW9uV3JhcHBlciIsIiRzY29wZSIsImFjdGlvbiIsInNjaGVkdWxlciIsInN0YXRlIiwiJCRwaGFzZSIsInZhbHVlXzEiLCIkYXBwbHkiLCJOZ1NjaGVkdWxlciIsImltbWVkaWF0ZVNjaGVkdWxlciIsIlJ4IiwiU2NoZWR1bGVyIiwiaW1tZWRpYXRlIiwicHJvdG90eXBlIiwibm93Iiwic2NoZWR1bGUiLCJzY2hlZHVsZUZ1dHVyZSIsImR1ZVRpbWUiLCJFcnJvciIsInNjaGVkdWxlUmVjdXJzaXZlIiwic2NoZWR1bGVSZWN1cnNpdmVGdXR1cmUiLCJzY2hlZHVsZVBlcmlvZGljIiwicGVyaW9kIiwiY2F0Y2giLCJoYW5kbGVyIiwiQXBwIiwiR2V0QXBwIiwiYXBwIiwiY29uc3RhbnRzIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsInVzU3Bpbm5lckNvbmZpZ1Byb3ZpZGVyIiwic2V0RGVmYXVsdHMiLCJjb2xvciIsIk1vZGVscyIsIlVzZXIiLCJHcm91cCIsIlNjb3JlIiwiVHJhbnNsYXRlVmFyaWFudCIsInZhcmlhbnQiLCJpc1RydWUiLCJpc1NlbGVjdGVkIiwiV29yZCIsIkdhbWUiLCJHYW1lUmVzdWx0IiwiTW92ZVJlc3VsdCIsIlBhc3NlZFdvcmRJbmZvIiwiTGV2ZWwiLCJTZXJ2aWNlcyIsIkNvbm5lY3RUb0dhbWVTZXJ2aWNlIiwiaHViQ29ubmVjdGlvblNlcnZpY2UiLCJjb25uZWN0aW9uIiwiZ2V0Q29ubmVjdGlvbiIsImh1YiIsImNyZWF0ZUh1YlByb3h5IiwiY29ubmVjdFRvSHViIiwic3RhcnQiLCJvbkNvbm5lY3RUb0h1YiIsImNhbGxCYWNrIiwib25Db25uZWN0ZWRUb0h1YkNhbGxiYWNrIiwibW92ZU9yZGVyIiwid29yZCIsImludm9rZSIsImNvbm5lY3RUb05ld0dyb3VwSW1wbCIsImRpc3BsYXlOYW1lIiwibGV2ZWwiLCJjb25uZWN0VG9OZXdHcm91cCIsIl90aGlzIiwidGhlbiIsInZhbHVlcyIsImlkIiwib25Db25uZWN0ZWRUb0dyb3VwIiwib24iLCJtc2ciLCJvbkdyb3VwRnVsbGVkIiwib25Vc2VyTGVmdCIsIm9uRGlzY29ubmVjdGVkRnJvbUh1YiIsImRpc2Nvbm5lY3RlZCIsInN0b3BIdWJDb25uZWN0aW9uIiwic3RvcCIsIiRpbmplY3QiLCJzZXJ2aWNlIiwiQ29va2llU2VydmljZSIsInNldENvb2tpZSIsImNuYW1lIiwiY3ZhbHVlIiwiZXhkYXlzIiwiZCIsIkRhdGUiLCJzZXRUaW1lIiwiZ2V0VGltZSIsImV4cGlyZXMiLCJ0b1VUQ1N0cmluZyIsImRvY3VtZW50IiwiY29va2llIiwiZ2V0Q29va2llIiwibmFtZSIsImNhIiwic3BsaXQiLCJpIiwibGVuZ3RoIiwiYyIsImNoYXJBdCIsInN1YnN0cmluZyIsImluZGV4T2YiLCJIdWJDb25uZWN0aW9uU2VydmljZSIsImh1YkNvbm5lY3Rpb24iLCJ1c2VEZWZhdWx0UGF0aCIsImxvZ2dpbmciLCJTdGF0ZUhhbmRsZXJTZXJ2aWNlIiwiJHJvb3RTY29wZSIsIiRtb2RhbCIsInVzU3Bpbm5lclNlcnZpY2UiLCJpc1N0YXJ0R2FtZVBhZ2UiLCJ1c2VySWQiLCJncm91cEZ1bGxlZE9ic2VydmFibGUiLCJTdWJqZWN0IiwiYWRkZWRUb0dyb3VwT2JzZXJ2YWJsZSIsInVzZXJMZWZ0R3JvdXBPYnNlcnZhYmxlIiwiZ2FtZVN0YXJ0ZWRPYnNlcnZhYmxlIiwic2V0VXBHYW1lU2NvcGUiLCIkZ2FtZVNjb3BlIiwiY2FsbEluRGlnZXN0TG9vcCIsInNob3dTdGFydEdhbWVNb2RhbCIsIm9wdCIsInNjb3BlIiwiY29ubmVjdFRvR2FtZVNjb3BlIiwidGVtcGxhdGVVcmwiLCJ3aW5kb3dUZW1wbGF0ZVVybCIsImJhY2tkcm9wIiwia2V5Ym9hcmQiLCJhbmltYXRpb24iLCJzaXplIiwic3RhcnRHYW1lTW9kYWxJbnN0YW5jZSIsIm9wZW4iLCJzaG93R2FtZUZpbmlzaGVkTW9kYWxXaW5kb3ciLCJpc1dpbiIsImlzRHJhdyIsInVuZGVmaW5lZCIsImNvbnRyb2xsZXIiLCJwbGF5QWdhaW4iLCJjb25uZWN0VG9Hcm91cCIsIm1lc3NhZ2UiLCJzdGFydFNwaW4iLCJzcGluS2V5Iiwib2JzZXJ2YWJsZSIsInNwaW4iLCJzdWJzY3JpYmUiLCJzZXRDb25uZWN0VG9HYW1lU2NvcGUiLCJoYW5kbGVDb25uZWN0aW9uVG9Hcm91cCIsInByb21pc2UiLCJhZGRlZFRvR3JvdXAiLCJ0YWtlIiwiY2xvc2UiLCJPYnNlcnZhYmxlIiwibWVyZ2UiLCJmcm9tUHJvbWlzZSIsImZhaWwiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJoYW5kbGVVc2VyQWRkZWRUb0dyb3VwIiwib25OZXh0Iiwic2hvd1N0YXJ0R2FtZVdpbmRvdyIsImhhbmRsZUdhbWVGaW5pc2hlZCIsImhhbmRsZUdyb3VwRnVsbGVkIiwiaGFuZGxlR2FtZVN0YXJ0ZWQiLCJnZXRVc2VySWQiLCJzZXRVc2VySWQiLCJoYW5kbGVVc2VyMkxlZnRHcm91cCIsImdldFVzZXJEaXNwbGF5TmFtZSIsImhhbmRsZURpc2Nvbm5lY3RlZEZyb21IdWIiLCJjb250cm9sbGVycyIsIkNvbm5lY3RUb0dhbWVDb250cm9sbGVyIiwiY29ubmVjdGlvbkh1YlNlcnZpY2UiLCJzdGF0ZUhhbmRsZXIiLCJjb29ja2llU2VydmljZSIsImRpc3BsYXlOYW1lQ29va2llS2V5IiwibGV2ZWxDb29raWVLZXkiLCJpbml0aWFsaXplVmlld01vZGVsIiwiZGF0YSIsImNhbGwiLCJhcHBseSIsInZhbHVlIiwibGV2ZWxzIiwiQmVnaW5lciIsIkludGVybWVkaWF0ZSIsIkFkdmFuY2VkIiwiY2hhbmdlTGV2ZWwiLCJkaXNwbGF5TmFtZUZyb21Db29raWVzIiwibGV2ZWxGcm9tQ29va2llcyIsImNvb2tpZVZhbHVlIiwicGFyc2VJbnQiLCJncm91cEluZm8iLCJHYW1lQ29udHJvbGxlciIsIiRpbnRlcnZhbCIsIiR0aW1lb3V0Iiwic2Vjb25kc0Zvck1vdmUiLCJxdWF0ZXMiLCJzdGFydEdhbWUiLCJ1c2VyMmRpZE1vdmUiLCJ1bnNldEdhbWVJbmZvIiwicmFuZG9tUXVhdGVJbmRleCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInJhbmRvbVF1YXRlIiwiZ3JvdXAiLCJpc1VzZXIxIiwidXNlcnNMaXN0IiwidXNlcjJEaXNwbGF5TmFtZSIsInN0b3BUaW1lciIsImdhbWVJbmZvIiwiY3VycmVudFdvcmQiLCJzZWNvbmRzRm9yTW92ZUxlZnQiLCJwZXJjZW50YWdlc0xlZnQiLCJpc0N1cnJlbnRVc2VyTW92ZSIsImN1cnJlbnRVc2VyU2NvcmUiLCJ1c2VyMlNjb3JlIiwicGFzc2VkV29yZHMiLCJsZWZ0V29yZHMiLCJnYW1lIiwid29yZHMiLCJ1c2VyMSIsInVzZXJOdW0iLCJzaHVmZmxlIiwiYXJyIiwidCIsImFycmF5Iiwic2xpY2UiLCJtIiwidXNlcjFTY29yZSIsImN1cnJlbnRXb3JkSW5kZXgiLCJzZXRWYXJpbmF0c09yZGVyIiwiY3VycmVudE1vdmUiLCJzdGFydFRpbWVyIiwidGltZXJQcm9taXNlIiwiY2FuY2VsIiwibW92ZVJlcyIsImhhbmRsZU1vdmUiLCJkb25lIiwibW92ZVJlc3VsdCIsInRyYW5zbGF0ZVZhcmlhbnRzIiwiZmlsdGVyIiwidiIsInNlbGVjdGVkVmFyIiwiaXNTa2lwcGVkIiwic2NvcmUiLCJpc0NvcnJlY3QiLCJpc1N1Y2Nlc3NmdWwiLCJzdWNjZXNzZnVsTW92ZXMiLCJ3cm9uZ01vdmVzIiwiZXJyb3JNZXNzYWdlIiwic2VsZWN0ZWRWYXJpYW50SW5kZXgiLCJyZW1vdmVGcm9tQXJyYXlJZiIsImNhbGxiYWNrIiwic3BsaWNlIiwicGFzc2VkV29yZCIsImFuc3dlciIsInNoaWZ0Iiwid2FzUGFzc2VkIiwicHVzaCIsInciLCJpc0xhc3RNb3ZlIiwiZm9yRWFjaCIsImluZGV4Iiwib3JkZXIiLCJhdHRyIiwiY3NzIiwiLW1vei11c2VyLXNlbGVjdCIsIi1vLXVzZXItc2VsZWN0IiwiLWtodG1sLXVzZXItc2VsZWN0IiwiLXdlYmtpdC11c2VyLXNlbGVjdCIsIi1tcy11c2VyLXNlbGVjdCIsInVzZXItc2VsZWN0IiwiYmluZCIsImtleXByZXNzIiwiZSIsIndoaWNoIiwiZmlyc3QiLCJjbGljayIsIm51bVByZXNzZWRfMSIsImVsZW0iLCJ0b29sdGlwIl0sIm1hcHBpbmdzIjoiQUE2QkEsUUFBQUEsMkJBQ0ksR0FBSUMsVUFBV0MsRUFBRSxnQkFFakIsUUFDSUMsRUFBR0YsU0FBU0csU0FBU0MsS0FDckJDLEVBQUdMLFNBQVNHLFNBQVNHLEtDekI3QixHQUFPQyxTQUFQLFNBQU9BLFFBNkJILFFBQUFDLGdCQUNJLE1BQU8sSUFBSUMsV0E3QmYsR0FBQUEsV0FBQSxXQWFJLFFBQUFBLGFBQ0lDLEtBQUtDLFFBQVUsVUFDZkQsS0FBS0UsNEJBQThCLFVBQ25DRixLQUFLRyxpQkFBbUIsWUFDeEJILEtBQUtJLFVBQVksV0FDakJKLEtBQUtLLFlBQWMsY0FDbkJMLEtBQUtNLGVBQWlCLGlCQUN0Qk4sS0FBS08sWUFBYyxjQUNuQlAsS0FBS1EsUUFBVSxVQUNmUixLQUFLUyxhQUFlLGVBQ3BCVCxLQUFLVSxPQUFTLFNBQ2RWLEtBQUtXLFNBQVcsV0FFeEIsTUFBQVosYUExQmFGLFFBQUFFLFVBQVNBLFVBNEJMRixPQUFBQyxhQUFZQSxjQTdCMUJELFNBQUFBLFdDUlAsSUFBT2UsU0FBUCxTQUFPQSxRQUNILFFBQUFDLGVBQStCQyxPQUFtQkMsUUFFOUMsTUFBTyxVQUFDQyxVQUEwQkMsT0FDOUIsSUFBS0gsT0FBT0ksUUFBUyxDQUNqQixHQUFJQyxRQUlKLE9BSEFMLFFBQU9NLE9BQU8s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QyxhQ1JqQi9TLEVBQUUsV0FDRUEsRUFBRSxrQkFBa0IwUyxLQUFLLGtCQUFtQixXQUFNLE1BQUMxUyxHQUFFLDZCQUFxQ2tUIiwiZmlsZSI6ImN1c3RvbS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9jb21tb24udHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vYXBwLnRzXCIgLz5cclxuaW50ZXJmYWNlIFBvaW50IHtcclxuICAgIHg6IG51bWJlcjtcclxuICAgIHk6IG51bWJlcjtcclxufTtcclxuXHJcbi8vIEFwcC5HZXRBcHAoKS5hbmltYXRpb24oJy53b3Jkcy1sZWZ0LWl0ZW0nLCBmdW5jdGlvbigpOmFuZ3VsYXIuYW5pbWF0ZS5JQW5pbWF0ZUNhbGxiYWNrT2JqZWN0IHtcclxuLy8gICAgIHJldHVybiB7XHJcbi8vICAgICAgICAgbGVhdmU6IGZ1bmN0aW9uKGVsZW1lbnQ6IEpRdWVyeSwgZG9uZTogRnVuY3Rpb24pIHtcclxuLy8gICAgICAgICAgICAgbGV0ICRlbGVtZW50ID0gJChlbGVtZW50KTtcclxuLy8gICAgICAgICAgICAgdmFyIHRhcmdldFBvcyA9IGdldFdvcmRDb250YWluZXJQb3N0aW9uKCk7XHJcbi8vICAgICAgICAgICAgIC8vICRlbGVtZW50LmFuaW1hdGUoe1xyXG4vLyAgICAgICAgICAgICAvLyAgICAgb3Bhc2l0eTogMCxcclxuLy8gICAgICAgICAgICAgLy8gICAgIHRvcDogdGFyZ2V0UG9zLnksXHJcbi8vICAgICAgICAgICAgIC8vICAgICBsZWZ0OiB0YXJnZXRQb3MueFxyXG4vLyAgICAgICAgICAgICAvLyB9LCBkb25lKTtcclxuLy8gICAgICAgICAgICAgZG9uZSgpO1xyXG5cclxuLy8gICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGlzQ2FuY2VsbGVkOiBib29sZWFuKSB7XHJcbi8vICAgICAgICAgICAgICAgICBpZiAoaXNDYW5jZWxsZWQpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAkZWxlbWVudC5zdG9wKCk7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9O1xyXG4vLyB9KVxyXG5cclxuXHJcbmZ1bmN0aW9uIGdldFdvcmRDb250YWluZXJQb3N0aW9uKCk6IFBvaW50IHtcclxuICAgIGxldCAkZWxlbWVudCA9ICQoJyN3b3JkLWVsZW1lbnQnKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHg6ICRlbGVtZW50Lm9mZnNldCgpLmxlZnQsXHJcbiAgICAgICAgeTogJGVsZW1lbnQub2Zmc2V0KCkudG9wXHJcbiAgICB9XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vdHlwaW5ncy9nbG9iYWxzL2FuZ3VsYXIvaW5kZXguZC50c1wiIC8+XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi90eXBpbmdzL2dsb2JhbHMvanF1ZXJ5L2luZGV4LmQudHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vdHlwaW5ncy9nbG9iYWxzL3NpZ25hbHIvaW5kZXguZC50c1wiIC8+XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi90eXBpbmdzL2dsb2JhbHMvZXM2LXNoaW0vaW5kZXguZC50c1wiIC8+XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi90eXBpbmdzL2dsb2JhbHMvYW5ndWxhci11aS1ib290c3RyYXAvaW5kZXguZC50c1wiIC8+XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi9ub2RlX21vZHVsZXMvcngvdHMvcnguZC50c1wiIC8+XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi90eXBpbmdzL2dsb2JhbHMvcnguYW5ndWxhci9pbmRleC5kLnRzXCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL3R5cGluZ3MvZ2xvYmFscy9hbmd1bGFyLWFuaW1hdGUvaW5kZXguZC50c1wiIC8+XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi90eXBpbmdzL2dsb2JhbHMvYW5ndWxhci1zcGlubmVyL2luZGV4LmQudHNcIiAvPlxyXG5tb2R1bGUgQ29tbW9uIHtcclxuICAgIGV4cG9ydCBjbGFzcyBDb25zdGFudHMge1xyXG4gICAgICAgIHB1YmxpYyBhcHBOYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgcHVibGljIGh1YkNvbm5lY3RUb0dyb3VwTWV0aG9kTmFtZTogc3RyaW5nO1xyXG4gICAgICAgIHB1YmxpYyBjb25uZWN0ZWRUb0dyb3VwOiBzdHJpbmc7XHJcbiAgICAgICAgcHVibGljIGxlZnRHcm91cDogc3RyaW5nO1xyXG4gICAgICAgIHB1YmxpYyBncm91cEZ1bGxlZDogc3RyaW5nO1xyXG4gICAgICAgIHB1YmxpYyBjb21wZXRpdGlvbkh1Yjogc3RyaW5nO1xyXG4gICAgICAgIHB1YmxpYyBnYW1lU3RhcnRlZDogc3RyaW5nO1xyXG4gICAgICAgIHB1YmxpYyBkaWRNb3ZlOiBzdHJpbmc7XHJcbiAgICAgICAgcHVibGljIGdhbWVGaW5pc2hlZDogc3RyaW5nO1xyXG4gICAgICAgIHB1YmxpYyBkb01vdmU6IHN0cmluZztcclxuICAgICAgICBwdWJsaWMgcGFzc01vdmU6IHN0cmluZztcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXBwTmFtZSA9IFwiZ2FtZUFwcFwiXHJcbiAgICAgICAgICAgIHRoaXMuaHViQ29ubmVjdFRvR3JvdXBNZXRob2ROYW1lID0gXCJjb25uZWN0XCI7XHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGVkVG9Hcm91cCA9IFwidXNlckFkZGVkXCI7XHJcbiAgICAgICAgICAgIHRoaXMubGVmdEdyb3VwID0gXCJ1c2VyTGVmdFwiO1xyXG4gICAgICAgICAgICB0aGlzLmdyb3VwRnVsbGVkID0gXCJncm91cEZ1bGxlZFwiO1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBldGl0aW9uSHViID0gXCJjb21wZXRpdGlvbkh1YlwiO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVTdGFydGVkID0gXCJnYW1lU3RhcnRlZFwiO1xyXG4gICAgICAgICAgICB0aGlzLmRpZE1vdmUgPSBcImRpZE1vdmVcIjtcclxuICAgICAgICAgICAgdGhpcy5nYW1lRmluaXNoZWQgPSBcImdhbWVGaW5pc2hlZFwiO1xyXG4gICAgICAgICAgICB0aGlzLmRvTW92ZSA9IFwiZG9Nb3ZlXCI7XHJcbiAgICAgICAgICAgIHRoaXMucGFzc01vdmUgPSBcInBhc3NNb3ZlXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gIEdldENvbnN0YW50cygpOiBDb25zdGFudHMge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ29uc3RhbnRzKCk7XHJcbiAgICB9XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vY29tbW9uLnRzXCIgLz5cclxubW9kdWxlIE1peGlucyB7XHJcbiAgICBmdW5jdGlvbiBhY3Rpb25XcmFwcGVyPFRTdGF0ZT4oJHNjb3BlOiBuZy5JU2NvcGUsIGFjdGlvbjogKHNjaGVkdWxlcjogUnguSVNjaGVkdWxlciwgc3RhdGU6IFRTdGF0ZSkgPT4gUnguSURpc3Bvc2FibGUpOiBcclxuICAgIChzY2hlZHVsZXI6IFJ4LklTY2hlZHVsZXIsIHN0YXRlOiBUU3RhdGUpID0+IFJ4LklEaXNwb3NhYmxlICB7XHJcbiAgICAgICAgcmV0dXJuIChzY2hlZHVsZXI6IFJ4LklTY2hlZHVsZXIsIHN0YXRlOiBUU3RhdGUpOiBSeC5JRGlzcG9zYWJsZSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghJHNjb3BlLiQkcGhhc2UpIHtcclxuICAgICAgICAgICAgICAgIGxldCB2YWx1ZTogUnguSURpc3Bvc2FibGU7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJGFwcGx5KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGFjdGlvbihzY2hlZHVsZXIsIHN0YXRlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBhY3Rpb24oc2NoZWR1bGVyLCBzdGF0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBOZ1NjaGVkdWxlciBpbXBsZW1lbnRzIFJ4LklTY2hlZHVsZXIge1xyXG4gICAgICAgIHByaXZhdGUgaW1tZWRpYXRlU2NoZWR1bGVyOiBSeC5JU2NoZWR1bGVyO1xyXG4gICAgICAgIHByaXZhdGUgJHNjb3BlOiBuZy5JU2NvcGU7XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKCRzY29wZTogbmcuSVNjb3BlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW1tZWRpYXRlU2NoZWR1bGVyID0gUnguU2NoZWR1bGVyLmltbWVkaWF0ZTtcclxuICAgICAgICAgICAgdGhpcy4kc2NvcGUgPSAkc2NvcGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBub3coKTogbnVtYmVyIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW1tZWRpYXRlU2NoZWR1bGVyLm5vdygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICAqIFNjaGVkdWxlcyBhbiBhY3Rpb24gdG8gYmUgZXhlY3V0ZWQuXHJcbiAgICAgICAgICAqIEBwYXJhbSBzdGF0ZSBTdGF0ZSBwYXNzZWQgdG8gdGhlIGFjdGlvbiB0byBiZSBleGVjdXRlZC5cclxuICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYWN0aW9uIEFjdGlvbiB0byBiZSBleGVjdXRlZC5cclxuICAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFRoZSBkaXNwb3NhYmxlIG9iamVjdCB1c2VkIHRvIGNhbmNlbCB0aGUgc2NoZWR1bGVkIGFjdGlvbiAoYmVzdCBlZmZvcnQpLlxyXG4gICAgICAgICAgKi9cclxuICAgICAgICBzY2hlZHVsZTxUU3RhdGU+KHN0YXRlOiBUU3RhdGUsIGFjdGlvbjogKHNjaGVkdWxlcjogUnguSVNjaGVkdWxlciwgc3RhdGU6IFRTdGF0ZSkgPT4gUnguSURpc3Bvc2FibGUpOiBSeC5JRGlzcG9zYWJsZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmltbWVkaWF0ZVNjaGVkdWxlci5zY2hlZHVsZShzdGF0ZSwgYWN0aW9uV3JhcHBlcih0aGlzLiRzY29wZSwgYWN0aW9uKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTY2hlZHVsZXMgYW4gYWN0aW9uIHRvIGJlIGV4ZWN1dGVkIGFmdGVyIGR1ZVRpbWUuXHJcbiAgICAgICAgICogQHBhcmFtIHN0YXRlIFN0YXRlIHBhc3NlZCB0byB0aGUgYWN0aW9uIHRvIGJlIGV4ZWN1dGVkLlxyXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFjdGlvbiBBY3Rpb24gdG8gYmUgZXhlY3V0ZWQuXHJcbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IGR1ZVRpbWUgUmVsYXRpdmUgdGltZSBhZnRlciB3aGljaCB0byBleGVjdXRlIHRoZSBhY3Rpb24uXHJcbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFRoZSBkaXNwb3NhYmxlIG9iamVjdCB1c2VkIHRvIGNhbmNlbCB0aGUgc2NoZWR1bGVkIGFjdGlvbiAoYmVzdCBlZmZvcnQpLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHNjaGVkdWxlRnV0dXJlPFRTdGF0ZT4oc3RhdGU6IFRTdGF0ZSwgZHVlVGltZTogbnVtYmVyIHwgRGF0ZSwgYWN0aW9uOiAoc2NoZWR1bGVyOiBSeC5JU2NoZWR1bGVyLCBzdGF0ZTogVFN0YXRlKSA9PiBSeC5JRGlzcG9zYWJsZSk6IFJ4LklEaXNwb3NhYmxlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IHN1cHBvcnRlZFwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNjaGVkdWxlcyBhbiBhY3Rpb24gdG8gYmUgZXhlY3V0ZWQgcmVjdXJzaXZlbHkuXHJcbiAgICAgICAgICogQHBhcmFtIHtNaXhlZH0gc3RhdGUgU3RhdGUgcGFzc2VkIHRvIHRoZSBhY3Rpb24gdG8gYmUgZXhlY3V0ZWQuXHJcbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYWN0aW9uIEFjdGlvbiB0byBleGVjdXRlIHJlY3Vyc2l2ZWx5LiBUaGUgbGFzdCBwYXJhbWV0ZXIgcGFzc2VkIHRvIHRoZSBhY3Rpb24gaXMgdXNlZCB0byB0cmlnZ2VyIHJlY3Vyc2l2ZSBzY2hlZHVsaW5nIG9mIHRoZSBhY3Rpb24sIHBhc3NpbmcgaW4gcmVjdXJzaXZlIGludm9jYXRpb24gc3RhdGUuXHJcbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFRoZSBkaXNwb3NhYmxlIG9iamVjdCB1c2VkIHRvIGNhbmNlbCB0aGUgc2NoZWR1bGVkIGFjdGlvbiAoYmVzdCBlZmZvcnQpLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHNjaGVkdWxlUmVjdXJzaXZlPFRTdGF0ZT4oc3RhdGU6IFRTdGF0ZSwgYWN0aW9uOiAoc3RhdGU6IFRTdGF0ZSwgYWN0aW9uOiAoc3RhdGU6IFRTdGF0ZSkgPT4gdm9pZCkgPT4gdm9pZCk6IFJ4LklEaXNwb3NhYmxlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IHN1cHBvcnRlZFwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNjaGVkdWxlcyBhbiBhY3Rpb24gdG8gYmUgZXhlY3V0ZWQgcmVjdXJzaXZlbHkgYWZ0ZXIgYSBzcGVjaWZpZWQgcmVsYXRpdmUgZHVlIHRpbWUuXHJcbiAgICAgICAgICogQHBhcmFtIHtNaXhlZH0gc3RhdGUgU3RhdGUgcGFzc2VkIHRvIHRoZSBhY3Rpb24gdG8gYmUgZXhlY3V0ZWQuXHJcbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYWN0aW9uIEFjdGlvbiB0byBleGVjdXRlIHJlY3Vyc2l2ZWx5LiBUaGUgbGFzdCBwYXJhbWV0ZXIgcGFzc2VkIHRvIHRoZSBhY3Rpb24gaXMgdXNlZCB0byB0cmlnZ2VyIHJlY3Vyc2l2ZSBzY2hlZHVsaW5nIG9mIHRoZSBhY3Rpb24sIHBhc3NpbmcgaW4gdGhlIHJlY3Vyc2l2ZSBkdWUgdGltZSBhbmQgaW52b2NhdGlvbiBzdGF0ZS5cclxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn1kdWVUaW1lIFJlbGF0aXZlIHRpbWUgYWZ0ZXIgd2hpY2ggdG8gZXhlY3V0ZSB0aGUgYWN0aW9uIGZvciB0aGUgZmlyc3QgdGltZS5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gVGhlIGRpc3Bvc2FibGUgb2JqZWN0IHVzZWQgdG8gY2FuY2VsIHRoZSBzY2hlZHVsZWQgYWN0aW9uIChiZXN0IGVmZm9ydCkuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgc2NoZWR1bGVSZWN1cnNpdmVGdXR1cmU8VFN0YXRlLCBUVGltZSBleHRlbmRzIG51bWJlciB8IERhdGU+KHN0YXRlOiBUU3RhdGUsIGR1ZVRpbWU6IFRUaW1lLCBhY3Rpb246IChzdGF0ZTogVFN0YXRlLCBhY3Rpb246IChzdGF0ZTogVFN0YXRlLCBkdWVUaW1lOiBUVGltZSkgPT4gdm9pZCkgPT4gdm9pZCk6IFJ4LklEaXNwb3NhYmxlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IHN1cHBvcnRlZFwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNjaGVkdWxlcyBhIHBlcmlvZGljIHBpZWNlIG9mIHdvcmsgYnkgZHluYW1pY2FsbHkgZGlzY292ZXJpbmcgdGhlIHNjaGVkdWxlcidzIGNhcGFiaWxpdGllcy4gVGhlIHBlcmlvZGljIHRhc2sgd2lsbCBiZSBzY2hlZHVsZWQgdXNpbmcgd2luZG93LnNldEludGVydmFsIGZvciB0aGUgYmFzZSBpbXBsZW1lbnRhdGlvbi5cclxuICAgICAgICAgKiBAcGFyYW0ge01peGVkfSBzdGF0ZSBJbml0aWFsIHN0YXRlIHBhc3NlZCB0byB0aGUgYWN0aW9uIHVwb24gdGhlIGZpcnN0IGl0ZXJhdGlvbi5cclxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gcGVyaW9kIFBlcmlvZCBmb3IgcnVubmluZyB0aGUgd29yayBwZXJpb2RpY2FsbHkuXHJcbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYWN0aW9uIEFjdGlvbiB0byBiZSBleGVjdXRlZCwgcG90ZW50aWFsbHkgdXBkYXRpbmcgdGhlIHN0YXRlLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBUaGUgZGlzcG9zYWJsZSBvYmplY3QgdXNlZCB0byBjYW5jZWwgdGhlIHNjaGVkdWxlZCByZWN1cnJpbmcgYWN0aW9uIChiZXN0IGVmZm9ydCkuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgc2NoZWR1bGVQZXJpb2RpYzxUU3RhdGU+KHN0YXRlOiBUU3RhdGUsIHBlcmlvZDogbnVtYmVyLCBhY3Rpb246IChzdGF0ZTogVFN0YXRlKSA9PiBUU3RhdGUpOiBSeC5JRGlzcG9zYWJsZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBzdXBwb3J0ZWRcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjYXRjaChoYW5kbGVyOiBGdW5jdGlvbik6IFJ4LklTY2hlZHVsZXIge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbW1lZGlhdGVTY2hlZHVsZXIuY2F0Y2goaGFuZGxlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cImNvbW1vbi50c1wiIC8+XHJcbm1vZHVsZSBBcHAge1xyXG4gICAgdmFyIGNvbnN0YW50cyA9IENvbW1vbi5HZXRDb25zdGFudHMoKTtcclxuICAgIHZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZShjb25zdGFudHMuYXBwTmFtZSwgWyd1aS5ib290c3RyYXAubW9kYWwnLCAnbmdBbmltYXRlJywgJ2FuZ3VsYXJTcGlubmVyJ10pO1xyXG4gICAgYXBwLmNvbmZpZyhbJ3VzU3Bpbm5lckNvbmZpZ1Byb3ZpZGVyJywgZnVuY3Rpb24gKHVzU3Bpbm5lckNvbmZpZ1Byb3ZpZGVyKSB7XHJcbiAgICAgICAgdXNTcGlubmVyQ29uZmlnUHJvdmlkZXIuc2V0RGVmYXVsdHMoe2NvbG9yOiAnIzVCOTFERSd9KTtcclxuICAgIH1dKTtcclxuICAgIGV4cG9ydCBmdW5jdGlvbiBHZXRBcHAoKTogbmcuSU1vZHVsZSB7XHJcbiAgICAgICAgcmV0dXJuIGFwcDtcclxuICAgIH1cclxufSIsIm1vZHVsZSBNb2RlbHMge1xyXG4gICAgZXhwb3J0IGNsYXNzIFVzZXIge1xyXG4gICAgICAgIHB1YmxpYyB1c2VySWQ6IHN0cmluZztcclxuICAgICAgICBwdWJsaWMgZGlzcGxheU5hbWU6IHN0cmluZztcclxuICAgIH1cclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuL1VzZXIudHNcIiAvPlxyXG5tb2R1bGUgTW9kZWxzIHtcclxuICAgIGV4cG9ydCBjbGFzcyBHcm91cCB7XHJcbiAgICAgICAgcHVibGljIGdyb3VwSWQ6IHN0cmluZztcclxuXHJcbiAgICAgICAgcHVibGljIHVzZXJzTGlzdDogQXJyYXk8TW9kZWxzLlVzZXI+XHJcbiAgICB9XHJcbn0iLCJtb2R1bGUgTW9kZWxzIHtcclxuICAgIGV4cG9ydCBjbGFzcyBTY29yZSB7XHJcbiAgICAgICAgcHVibGljIHN1Y2Nlc3NmdWxNb3ZlczogbnVtYmVyO1xyXG5cclxuICAgICAgICBwdWJsaWMgd3JvbmdNb3ZlczogbnVtYmVyO1xyXG4gICAgfVxyXG59IiwibW9kdWxlIE1vZGVscyB7XHJcbiAgICBleHBvcnQgY2xhc3MgVHJhbnNsYXRlVmFyaWFudCB7XHJcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgICAgIHRoaXMudmFyaWFudCA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuaXNUcnVlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuaXNTZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHZhcmlhbnQ6IHN0cmluZztcclxuXHJcbiAgICAgICAgcHVibGljIGlzVHJ1ZTogYm9vbGVhbjtcclxuXHJcbiAgICAgICAgcHVibGljIGlzU2VsZWN0ZWQ6IGJvb2xlYW47XHJcblxyXG4gICAgICAgIHB1YmxpYyBvcmRlcjogbnVtYmVyO1xyXG4gICAgfVxyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vdHJhbnNsYXRlVmFyaWFudC50c1wiIC8+XHJcbm1vZHVsZSBNb2RlbHMge1xyXG4gICAgZXhwb3J0IGNsYXNzIFdvcmQge1xyXG4gICAgICAgIHB1YmxpYyB3b3JkOiBzdHJpbmc7XHJcblxyXG4gICAgICAgIHB1YmxpYyB0cmFuc2xhdGVWYXJpYW50czogQXJyYXk8VHJhbnNsYXRlVmFyaWFudD5cclxuXHJcbiAgICAgICAgcHVibGljIGV4cGxhbmF0aW9uUXVvdGVzOiBBcnJheTxzdHJpbmc+XHJcblxyXG4gICAgICAgIHB1YmxpYyBkZWZpbml0aW9uOiBzdHJpbmc7XHJcblxyXG4gICAgICAgIHB1YmxpYyBzaG9ydFdvcmRSZXByZXNlbnRhdGlvbjogc3RyaW5nO1xyXG4gICAgfVxyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vc2NvcmUudHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi93b3JkLnRzXCIgLz5cclxubW9kdWxlIE1vZGVscyB7XHJcbiAgICBleHBvcnQgY2xhc3MgR2FtZSB7XHJcbiAgICAgICAgcHVibGljIHVzZXIxOiBVc2VyO1xyXG5cclxuICAgICAgICBwdWJsaWMgdXNlcjI6IFVzZXI7XHJcblxyXG4gICAgICAgIHB1YmxpYyBjdXJyZW50TW92ZTogbnVtYmVyO1xyXG5cclxuICAgICAgICBwdWJsaWMgd29yZHM6IEFycmF5PFdvcmQ+XHJcblxyXG4gICAgICAgIHB1YmxpYyB1c2VyMVNjb3JlOiBTY29yZTtcclxuXHJcbiAgICAgICAgcHVibGljIHVzZXIyU2NvcmU6IFNjb3JlO1xyXG4gICAgfVxyXG59IiwibW9kdWxlIE1vZGVscyB7XHJcbiAgICBleHBvcnQgY2xhc3MgR2FtZVJlc3VsdCB7XHJcbiAgICAgICAgcHVibGljIHdpbm5lcjogbnVtYmVyO1xyXG5cclxuICAgICAgICBwdWJsaWMgaXNEcmF3OiBib29sZWFuO1xyXG4gICAgfVxyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vZ2FtZVJlc3VsdC50c1wiIC8+XHJcbm1vZHVsZSBNb2RlbHMge1xyXG4gICAgZXhwb3J0IGNsYXNzIE1vdmVSZXN1bHQge1xyXG4gICAgICAgIHB1YmxpYyBpc1N1Y2Nlc3NmdWw6IGJvb2xlYW47XHJcblxyXG4gICAgICAgIHB1YmxpYyBpc0NvcnJlY3Q6IGJvb2xlYW47XHJcblxyXG4gICAgICAgIHB1YmxpYyBlcnJvck1lc3NhZ2U6IHN0cmluZztcclxuXHJcbiAgICAgICAgcHVibGljIGlzTGFzdE1vdmU6IGJvb2xlYW47XHJcblxyXG4gICAgICAgIHB1YmxpYyBnYW1lUmVzdWx0OiBNb2RlbHMuR2FtZVJlc3VsdDtcclxuXHJcbiAgICAgICAgcHVibGljIHNlbGVjdGVkVmFyaWFudEluZGV4OiBudW1iZXI7XHJcblxyXG4gICAgICAgIHB1YmxpYyBpc1NraXBwZWQ6IGJvb2xlYW47XHJcbiAgICB9XHJcbn0iLCJtb2R1bGUgTW9kZWxzIHtcclxuICAgIGV4cG9ydCBjbGFzcyBQYXNzZWRXb3JkSW5mbyB7XHJcbiAgICAgICAgcHVibGljIHdvcmQ6IHN0cmluZztcclxuICAgICAgICBwdWJsaWMgYW5zd2VyOiBzdHJpbmc7XHJcblxyXG4gICAgICAgIHB1YmxpYyB3YXNQYXNzZWQ6IGJvb2xlYW47XHJcbiAgICB9XHJcbn0iLCJtb2R1bGUgTW9kZWxzIHtcclxuICAgIGV4cG9ydCBlbnVtIExldmVsIHtcclxuICAgICAgICBCZWdpbmVyID0gMSxcclxuXHJcbiAgICAgICAgSW50ZXJtZWRpYXRlID0gMixcclxuXHJcbiAgICAgICAgQWR2YW5jZWQgPSAzXHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGludGVyZmFjZSBJTGV2ZWxOYW1lUGFpciB7XHJcbiAgICAgICAgbmFtZTogc3RyaW5nO1xyXG4gICAgICAgIGxldmVsOiBNb2RlbHMuTGV2ZWw7XHJcbiAgICB9XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vaW50ZXJmYWNlcy50c1wiIC8+XHJcbm1vZHVsZSBTZXJ2aWNlcyB7XHJcbiAgICBleHBvcnQgY2xhc3MgQ29ubmVjdFRvR2FtZVNlcnZpY2UgaW1wbGVtZW50cyBJbnRlcmZhY2VzLklDb25uZWN0VG9HYW1lIHtcclxuICAgICAgICBwcml2YXRlIGh1YjogU2lnbmFsUi5IdWIuUHJveHk7XHJcbiAgICAgICAgcHJpdmF0ZSBjb25uZWN0aW9uOiBTaWduYWxSLkh1Yi5Db25uZWN0aW9uO1xyXG4gICAgICAgIHByaXZhdGUgY29uc3RhbnRzOiBDb21tb24uQ29uc3RhbnRzO1xyXG4gICAgICAgIHByaXZhdGUgb25Db25uZWN0ZWRUb0h1YkNhbGxiYWNrOih1c2VySWQ6IHN0cmluZykgPT4gdm9pZFxyXG5cclxuICAgICAgICBzdGF0aWMgJGluamVjdCA9IFtcIlNlcnZpY2VzLkh1YkNvbm5lY3Rpb25TZXJ2aWNlXCJdO1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKGh1YkNvbm5lY3Rpb25TZXJ2aWNlOiBJbnRlcmZhY2VzLklIdWJDb25uZWN0aW9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29uc3RhbnRzID0gQ29tbW9uLkdldENvbnN0YW50cygpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb24gPSBodWJDb25uZWN0aW9uU2VydmljZS5nZXRDb25uZWN0aW9uKCk7XHJcbiAgICAgICAgICAgIHRoaXMuaHViID0gdGhpcy5jb25uZWN0aW9uLmNyZWF0ZUh1YlByb3h5KHRoaXMuY29uc3RhbnRzLmNvbXBldGl0aW9uSHViKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgY29ubmVjdFRvSHViKCk6IEpRdWVyeVByb21pc2U8YW55PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmh1Yi5jb25uZWN0aW9uLnN0YXJ0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgb25Db25uZWN0VG9IdWIoY2FsbEJhY2s6KHVzZXJJZDogc3RyaW5nKSA9PiB2b2lkKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMub25Db25uZWN0ZWRUb0h1YkNhbGxiYWNrID0gY2FsbEJhY2s7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgZG9Nb3ZlKG1vdmVPcmRlcjogbnVtYmVyLCB3b3JkOiBzdHJpbmcsIHZhcmlhbnQ6c3RyaW5nKTogSlF1ZXJ5UHJvbWlzZTxNb2RlbHMuTW92ZVJlc3VsdD4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5odWIuaW52b2tlKHRoaXMuY29uc3RhbnRzLmRvTW92ZSwgbW92ZU9yZGVyLCB3b3JkLCB2YXJpYW50KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBwYXNzTW92ZShtb3ZlT3JkZXI6IG51bWJlcik6IEpRdWVyeVByb21pc2U8TW9kZWxzLk1vdmVSZXN1bHQ+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaHViLmludm9rZSh0aGlzLmNvbnN0YW50cy5wYXNzTW92ZSwgbW92ZU9yZGVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgY29ubmVjdFRvTmV3R3JvdXBJbXBsKGRpc3BsYXlOYW1lOiBzdHJpbmcsIGxldmVsOiBNb2RlbHMuTGV2ZWwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaHViLmludm9rZSh0aGlzLmNvbnN0YW50cy5odWJDb25uZWN0VG9Hcm91cE1ldGhvZE5hbWUsIGRpc3BsYXlOYW1lLCBsZXZlbCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgY29ubmVjdFRvTmV3R3JvdXAoZGlzcGxheU5hbWU6IHN0cmluZywgbGV2ZWw6IE1vZGVscy5MZXZlbCk6IEpRdWVyeVByb21pc2U8YW55PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb24uc3RhdGUgPT09IDQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbm5lY3RUb0h1YigpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHZhbHVlcyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQ29ubmVjdGVkVG9IdWJDYWxsYmFjayh2YWx1ZXMuaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaHViLmludm9rZSh0aGlzLmNvbnN0YW50cy5odWJDb25uZWN0VG9Hcm91cE1ldGhvZE5hbWUsIGRpc3BsYXlOYW1lLCBsZXZlbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmh1Yi5pbnZva2UodGhpcy5jb25zdGFudHMuaHViQ29ubmVjdFRvR3JvdXBNZXRob2ROYW1lLCBkaXNwbGF5TmFtZSwgbGV2ZWwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIG9uQ29ubmVjdGVkVG9Hcm91cChjYWxsQmFjazoodXNlcklkOiBzdHJpbmcpID0+IHZvaWQpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5odWIub24odGhpcy5jb25zdGFudHMuY29ubmVjdGVkVG9Hcm91cCwgKG1zZykgPT4gY2FsbEJhY2sobXNnKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgb25Hcm91cEZ1bGxlZChjYWxsQmFjazooZ3JvdXA6IE1vZGVscy5Hcm91cCkgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLmh1Yi5vbih0aGlzLmNvbnN0YW50cy5ncm91cEZ1bGxlZCwgKG1zZykgPT4gY2FsbEJhY2sobXNnKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgb25Vc2VyTGVmdChjYWxsQmFjazooZ3JvdXA6IE1vZGVscy5Hcm91cCkgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLmh1Yi5vbih0aGlzLmNvbnN0YW50cy5sZWZ0R3JvdXAsIChtc2cpID0+IGNhbGxCYWNrKG1zZ1swXSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGdhbWVTdGFydGVkKGNhbGxCYWNrOihncm91cDogTW9kZWxzLkdhbWUpID0+IHZvaWQpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5odWIub24odGhpcy5jb25zdGFudHMuZ2FtZVN0YXJ0ZWQsIChtc2cpID0+IHtcclxuICAgICAgICAgICAgICAgIGNhbGxCYWNrKG1zZyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGRpZE1vdmUoY2FsbEJhY2s6KG1vdmVSZXM6IE1vZGVscy5Nb3ZlUmVzdWx0KSA9PiB2b2lkKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuaHViLm9uKHRoaXMuY29uc3RhbnRzLmRpZE1vdmUsIChtc2cpID0+IGNhbGxCYWNrKG1zZykpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGdhbWVGaW5pc2hlZChjYWxsQmFjazooZ3JvdXA6IE1vZGVscy5HYW1lKSA9PiB2b2lkKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuaHViLm9uKHRoaXMuY29uc3RhbnRzLmdhbWVGaW5pc2hlZCwgKG1zZykgPT4gY2FsbEJhY2sobXNnWzBdKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgb25EaXNjb25uZWN0ZWRGcm9tSHViKGNhbGxCYWNrOigpID0+IHZvaWQpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uLmRpc2Nvbm5lY3RlZChjYWxsQmFjayk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RvcEh1YkNvbm5lY3Rpb24oKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb24uc3RhdGUgIT09IDQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbi5zdG9wKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoQ29tbW9uLkdldENvbnN0YW50cygpLmFwcE5hbWUpLnNlcnZpY2UoXCJTZXJ2aWNlcy5Db25uZWN0VG9HYW1lU2VydmljZVwiLCBDb25uZWN0VG9HYW1lU2VydmljZSk7XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vaW50ZXJmYWNlcy50c1wiIC8+XHJcbm1vZHVsZSBTZXJ2aWNlcyB7XHJcbiAgICBleHBvcnQgY2xhc3MgQ29va2llU2VydmljZSBpbXBsZW1lbnRzIEludGVyZmFjZXMuSUNvb2tpZVNlcnZpY2Uge1xyXG4gICAgICAgIHNldENvb2tpZShjbmFtZTogc3RyaW5nLCBjdmFsdWU6IGFueSwgZXhkYXlzPzogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGlmICghZXhkYXlzKSB7XHJcbiAgICAgICAgICAgICAgICBleGRheXMgPSAxMCAqIDM2NzsgLy8gMTAgeWVhcnMgY29va2llc1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgZCA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgIGQuc2V0VGltZShkLmdldFRpbWUoKSArIChleGRheXMqMjQqNjAqNjAqMTAwMCkpO1xyXG4gICAgICAgICAgICBsZXQgZXhwaXJlcyA9IFwiZXhwaXJlcz1cIisgZC50b1VUQ1N0cmluZygpO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5jb29raWUgPSBjbmFtZSArIFwiPVwiICsgY3ZhbHVlICsgXCI7XCIgKyBleHBpcmVzICsgXCI7cGF0aD0vXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBnZXRDb29raWUoY25hbWU6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgICAgIGxldCBuYW1lID0gY25hbWUgKyBcIj1cIjtcclxuICAgICAgICAgICAgbGV0IGNhID0gZG9jdW1lbnQuY29va2llLnNwbGl0KCc7Jyk7XHJcbiAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBjYS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGMgPSBjYVtpXTtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChjLmNoYXJBdCgwKSA9PSAnICcpIHtcclxuICAgICAgICAgICAgICAgICAgICBjID0gYy5zdWJzdHJpbmcoMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYy5pbmRleE9mKG5hbWUpID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYy5zdWJzdHJpbmcobmFtZS5sZW5ndGgsIGMubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBhbmd1bGFyLm1vZHVsZShDb21tb24uR2V0Q29uc3RhbnRzKCkuYXBwTmFtZSkuc2VydmljZShcIlNlcnZpY2VzLkNvb2tpZVNlcnZpY2VcIiwgQ29va2llU2VydmljZSk7XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vaW50ZXJmYWNlcy50c1wiIC8+XHJcbm1vZHVsZSBTZXJ2aWNlcyB7XHJcbiAgICBleHBvcnQgY2xhc3MgSHViQ29ubmVjdGlvblNlcnZpY2UgaW1wbGVtZW50cyBJbnRlcmZhY2VzLklIdWJDb25uZWN0aW9uIHtcclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBjb25uZWN0aW9uOiBTaWduYWxSLkh1Yi5Db25uZWN0aW9uO1xyXG5cclxuICAgICAgICBwdWJsaWMgZ2V0Q29ubmVjdGlvbigpOiBTaWduYWxSLkh1Yi5Db25uZWN0aW9uIHtcclxuICAgICAgICAgICAgaWYgKCFIdWJDb25uZWN0aW9uU2VydmljZS5jb25uZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBIdWJDb25uZWN0aW9uU2VydmljZS5jb25uZWN0aW9uID0gJC5odWJDb25uZWN0aW9uKFwiL3NpZ25hbHJcIiwgeyB1c2VEZWZhdWx0UGF0aDogZmFsc2UgfSk7XHJcbiAgICAgICAgICAgICAgICBIdWJDb25uZWN0aW9uU2VydmljZS5jb25uZWN0aW9uLmxvZ2dpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBIdWJDb25uZWN0aW9uU2VydmljZS5jb25uZWN0aW9uO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGFuZ3VsYXIubW9kdWxlKENvbW1vbi5HZXRDb25zdGFudHMoKS5hcHBOYW1lKS5zZXJ2aWNlKFwiU2VydmljZXMuSHViQ29ubmVjdGlvblNlcnZpY2VcIiwgSHViQ29ubmVjdGlvblNlcnZpY2UpO1xyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2ludGVyZmFjZXMudHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vbWl4aW5zL25nU2NoZWR1bGVyLnRzXCIgLz5cclxubW9kdWxlIFNlcnZpY2VzIHtcclxuICAgIGZ1bmN0aW9uIHRvUHJvbWlzZUN1c3RvbTxUPihvYnNlcnZhYmxlOiBSeC5JT2JzZXJ2YWJsZTxUPiwgJHNjb3BlOiBuZy5JU2NvcGUsIGlkPzogc3RyaW5nKTogSlF1ZXJ5UHJvbWlzZSA8YW55PiB7XHJcbiAgICAgICAgbGV0IGRlZmZlcmVkID0gJC5EZWZlcnJlZCgpO1xyXG4gICAgICAgIG9ic2VydmFibGUuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghJHNjb3BlLiQkcGhhc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaWQgPT09IFwidGVzdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnZ2VyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGFwcGx5KCgpID0+IGRlZmZlcmVkLnJlc29sdmUoKSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpZCA9PT0gXCJ0ZXN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVidWdnZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGRlZmZlcmVkLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBkZWZmZXJlZDtcclxuICAgIH1cclxuXHJcbiAgICBpbnRlcmZhY2UgSU1vZGFsU2V0dGluZ3MgZXh0ZW5kcyBuZy51aS5ib290c3RyYXAuSU1vZGFsU2V0dGluZ3Mge1xyXG5cclxuICAgICAgICAvKiogU2V0cyB0aGUgYXJpYS1kZXNjcmliZWRieSBwcm9wZXJ0eSBvbiB0aGUgbW9kYWwuIFxyXG4gICAgICAgICAqIFRoZSB2YWx1ZSBzaG91bGQgYmUgYW4gaWQgKHdpdGhvdXQgdGhlIGxlYWRpbmcgIykgcG9pbnRpbmcgdG8gdGhlIGVsZW1lbnQgdGhhdCBkZXNjcmliZXMgeW91ciBtb2RhbC4gXHJcbiAgICAgICAgICogVHlwaWNhbGx5LCB0aGlzIHdpbGwgYmUgdGhlIHRleHQgb24geW91ciBtb2RhbCxcclxuICAgICAgICAgKiAgYnV0IGRvZXMgbm90IGluY2x1ZGUgc29tZXRoaW5nIHRoZSB1c2VyIHdvdWxkIGludGVyYWN0IHdpdGgsIFxyXG4gICAgICAgICAqIGxpa2UgYnV0dG9ucyBvciBhIGZvcm0uIFxyXG4gICAgICAgICAqIE9taXR0aW5nIHRoaXMgb3B0aW9uIHdpbGwgbm90IGltcGFjdCBzaWdodGVkIHVzZXJzIGJ1dCB3aWxsIHdlYWtlbiB5b3VyIGFjY2Vzc2liaWxpdHkgc3VwcG9ydC4gKi9cclxuICAgICAgICBhcmlhRGVzY3JpYmVkQnk6IHN0cmluZztcclxuXHJcbiAgICAgICAgLyoqIFNldHMgdGhlIGFyaWEtbGFiZWxsZWRieSBwcm9wZXJ0eSBvbiB0aGUgbW9kYWwuIFxyXG4gICAgICAgICAqIFRoZSB2YWx1ZSBzaG91bGQgYmUgYW4gaWQgKHdpdGhvdXQgdGhlIGxlYWRpbmcgIykgcG9pbnRpbmcgdG8gdGhlIGVsZW1lbnQgdGhhdCBsYWJlbHMgeW91ciBtb2RhbC4gXHJcbiAgICAgICAgICogVHlwaWNhbGx5LCB0aGlzIHdpbGwgYmUgYSBoZWFkZXIgZWxlbWVudC4gXHJcbiAgICAgICAgICogT21pdHRpbmcgdGhpcyBvcHRpb24gd2lsbCBub3QgaW1wYWN0IHNpZ2h0ZWQgdXNlcnMgYnV0IHdpbGwgd2Vha2VuIHlvdXIgYWNjZXNzaWJpbGl0eSBzdXBwb3J0LiAqL1xyXG4gICAgICAgIGFyaWFMYWJlbGxlZEJ5OiBzdHJpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIFN0YXRlSGFuZGxlclNlcnZpY2UgaW1wbGVtZW50cyBJbnRlcmZhY2VzLklTdGF0ZUhhbmRsZXIge1xyXG4gICAgICAgIHByaXZhdGUgY29uc3RhbnRzOiBDb21tb24uQ29uc3RhbnRzO1xyXG4gICAgICAgIHByaXZhdGUgJHJvb3RTY29wZTogSW50ZXJmYWNlcy5JUm9vdFNjb3BlO1xyXG4gICAgICAgIHByaXZhdGUgJG1vZGFsOiBhbmd1bGFyLnVpLmJvb3RzdHJhcC5JTW9kYWxTZXJ2aWNlO1xyXG4gICAgICAgIHByaXZhdGUgdXNTcGlubmVyU2VydmljZTogSVNwaW5uZXJTZXJ2aWNlO1xyXG4gICAgICAgIHByaXZhdGUgY29ubmVjdFRvR2FtZVNjb3BlOiBJbnRlcmZhY2VzLklDb25uZWN0VG9HYW1lU2NvcGU7XHJcbiAgICAgICAgcHJpdmF0ZSAkZ2FtZVNjb3BlOiBJbnRlcmZhY2VzLklHYW1lU2NvcGU7XHJcbiAgICAgICAgcHJpdmF0ZSBncm91cEZ1bGxlZE9ic2VydmFibGU6IFJ4LlN1YmplY3Q8YW55PjtcclxuICAgICAgICBwcml2YXRlIGFkZGVkVG9Hcm91cE9ic2VydmFibGU6IFJ4LlN1YmplY3Q8YW55PjtcclxuICAgICAgICBwcml2YXRlIHVzZXJMZWZ0R3JvdXBPYnNlcnZhYmxlOiBSeC5TdWJqZWN0PGFueT47XHJcbiAgICAgICAgcHJpdmF0ZSBnYW1lU3RhcnRlZE9ic2VydmFibGU6IFJ4LlN1YmplY3Q8YW55PjtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdGFydEdhbWVNb2RhbEluc3RhbmNlOiBhbmd1bGFyLnVpLmJvb3RzdHJhcC5JTW9kYWxTZXJ2aWNlSW5zdGFuY2U7XHJcblxyXG4gICAgICAgIHN0YXRpYyAkaW5qZWN0ID0gW1wiJHJvb3RTY29wZVwiLCBcIiR1aWJNb2RhbFwiLCBcInVzU3Bpbm5lclNlcnZpY2VcIl07XHJcbiAgICAgICAgY29uc3RydWN0b3IoJHJvb3RTY29wZTogSW50ZXJmYWNlcy5JUm9vdFNjb3BlLCBcclxuICAgICAgICAgICAgICAgICAgICAkbW9kYWw6IGFuZ3VsYXIudWkuYm9vdHN0cmFwLklNb2RhbFNlcnZpY2UsXHJcbiAgICAgICAgICAgICAgICAgICAgdXNTcGlubmVyU2VydmljZTogSVNwaW5uZXJTZXJ2aWNlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29uc3RhbnRzID0gQ29tbW9uLkdldENvbnN0YW50cygpO1xyXG4gICAgICAgICAgICB0aGlzLiRtb2RhbCA9ICRtb2RhbDtcclxuICAgICAgICAgICAgdGhpcy51c1NwaW5uZXJTZXJ2aWNlID0gdXNTcGlubmVyU2VydmljZTtcclxuICAgICAgICAgICAgdGhpcy4kcm9vdFNjb3BlID0gJHJvb3RTY29wZTtcclxuICAgICAgICAgICAgdGhpcy4kcm9vdFNjb3BlLmlzU3RhcnRHYW1lUGFnZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLiRyb290U2NvcGUudXNlcklkID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5ncm91cEZ1bGxlZE9ic2VydmFibGUgPSBuZXcgUnguU3ViamVjdDxhbnk+KCk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkZWRUb0dyb3VwT2JzZXJ2YWJsZSA9IG5ldyBSeC5TdWJqZWN0PGFueT4oKTtcclxuICAgICAgICAgICAgdGhpcy51c2VyTGVmdEdyb3VwT2JzZXJ2YWJsZSA9IG5ldyBSeC5TdWJqZWN0PGFueT4oKTtcclxuICAgICAgICAgICAgdGhpcy5nYW1lU3RhcnRlZE9ic2VydmFibGUgPSBuZXcgUnguU3ViamVjdDxhbnk+KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc2V0VXBHYW1lU2NvcGUoJGdhbWVTY29wZTogSW50ZXJmYWNlcy5JR2FtZVNjb3BlKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuJGdhbWVTY29wZSA9ICRnYW1lU2NvcGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGNhbGxJbkRpZ2VzdExvb3AoYWN0aW9uOigpID0+IHZvaWQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuJHJvb3RTY29wZS4kJHBoYXNlKSB7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb24oKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHJvb3RTY29wZS4kYXBwbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzaG93U3RhcnRHYW1lTW9kYWwoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGxldCBvcHQgPSB7fSBhcyBuZy51aS5ib290c3RyYXAuSU1vZGFsU2V0dGluZ3M7XHJcbiAgICAgICAgICAgICAgICBvcHQuc2NvcGUgPSB0aGlzLmNvbm5lY3RUb0dhbWVTY29wZTtcclxuICAgICAgICAgICAgICAgIG9wdC50ZW1wbGF0ZVVybCA9IFwiY29ubmVjdFRvR3JvdXAuaHRtbFwiO1xyXG4gICAgICAgICAgICAgICAgb3B0LndpbmRvd1RlbXBsYXRlVXJsID0gXCJ3aW5kb3dUZW1wbGF0ZS5odG1sXCI7XHJcbiAgICAgICAgICAgICAgICBvcHQuYmFja2Ryb3AgPSBcInN0YXRpY1wiO1xyXG4gICAgICAgICAgICAgICAgb3B0LmtleWJvYXJkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBvcHQuYW5pbWF0aW9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIG9wdC5zaXplID0gXCJsZ1wiO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydEdhbWVNb2RhbEluc3RhbmNlID0gdGhpcy4kbW9kYWwub3BlbihvcHQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzaG93R2FtZUZpbmlzaGVkTW9kYWxXaW5kb3coaXNXaW4/OiBib29sZWFuLCBpc0RyYXc/OiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGlmIChpc1dpbiA9PT0gdW5kZWZpbmVkICYmIGlzRHJhdyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBcIk9uZSBvZiBib29sZWFuIGZsYWdzIHNob3VsZCBiZSBzcGVjaWZpZWRcIjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGNvbm5lY3RUb0dhbWVTY29wZSA9IHRoaXMuY29ubmVjdFRvR2FtZVNjb3BlO1xyXG4gICAgICAgICAgICBsZXQgb3B0ID0ge30gYXMgbmcudWkuYm9vdHN0cmFwLklNb2RhbFNldHRpbmdzO1xyXG4gICAgICAgICAgICAgICAgb3B0LmNvbnRyb2xsZXIgPSBmdW5jdGlvbigkc2NvcGU6IEludGVyZmFjZXMuSUdhbWVGaW5pc2hlZE1vZGFsV2luZG93U2NvcGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGxheUFnYWluID0gY29ubmVjdFRvR2FtZVNjb3BlLmNvbm5lY3RUb0dyb3VwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNEcmF3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tZXNzYWdlID0gXCLQndC40YfRjNGPLiDQntGC0LvQuNGH0L3QsNGPINC40LPRgNCwIDpEIVxcbtCl0L7RgtC40YLQtSDRgdGL0LPRgNCw0YLRjCDQtdGJ0ZEg0YDQsNC3P1wiO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNXaW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1lc3NhZ2UgPSBcItCf0L7Qt9C00YDQsNCy0LvQtdC90LjRjyEg0JLRiyDQstGL0LjQs9GA0LDQu9C4IVxcbtCl0L7RgtC40YLQtSDRgdGL0LPRgNCw0YLRjCDQtdGJ0ZEg0YDQsNC3P1wiO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tZXNzYWdlID0gXCLQlNCw0LbQtSDQtdGB0LvQuCDQv9GA0L7QuNCz0YDQsNC7LCDQv9GA0LXQvtCx0YDQtdGC0LXQvdC90YvQuSDQvtC/0YvRgiDQvtGB0YLQsNC90LXRgtGB0Y8g0L3QsNCy0YHQtdCz0LTQsCDRgSDRgtC+0LHQvtC5INC4INGB0YLQsNC90LXRgiDRgtCy0L7QtdC5INC90LDQs9GA0LDQtNC+0LkgOilcXG7QpdC+0YLQuNGC0LUg0YHRi9Cz0YDQsNGC0Ywg0LXRidGRINGA0LDQtz9cIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBvcHQudGVtcGxhdGVVcmwgPSBcImdhbWVGaW5pc2hlZC5odG1sXCI7XHJcbiAgICAgICAgICAgICAgICBvcHQud2luZG93VGVtcGxhdGVVcmwgPSBcIndpbmRvd1RlbXBsYXRlLmh0bWxcIjtcclxuICAgICAgICAgICAgICAgIG9wdC5iYWNrZHJvcCA9IFwic3RhdGljXCI7XHJcbiAgICAgICAgICAgICAgICBvcHQua2V5Ym9hcmQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIG9wdC5hbmltYXRpb24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgb3B0LnNpemUgPSBcImxnXCI7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0R2FtZU1vZGFsSW5zdGFuY2UgPSB0aGlzLiRtb2RhbC5vcGVuKG9wdCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHN0YXJ0U3BpbjxUPihzcGluS2V5OiBzdHJpbmcsIG9ic2VydmFibGU6IFJ4LklPYnNlcnZhYmxlPFQ+KTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMudXNTcGlubmVyU2VydmljZS5zcGluKHNwaW5LZXkpO1xyXG5cclxuICAgICAgICAgICAgb2JzZXJ2YWJsZS5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51c1NwaW5uZXJTZXJ2aWNlLnN0b3Aoc3BpbktleSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHNldENvbm5lY3RUb0dhbWVTY29wZShjb25uZWN0VG9HYW1lU2NvcGU6IEludGVyZmFjZXMuSUNvbm5lY3RUb0dhbWVTY29wZSk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3RUb0dhbWVTY29wZSA9IGNvbm5lY3RUb0dhbWVTY29wZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBoYW5kbGVDb25uZWN0aW9uVG9Hcm91cChwcm9taXNlOiBKUXVlcnlQcm9taXNlPGFueT4pOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5jYWxsSW5EaWdlc3RMb29wKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFkZGVkVG9Hcm91cCA9IHRoaXMuYWRkZWRUb0dyb3VwT2JzZXJ2YWJsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50YWtlKDEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkZWRUb0dyb3VwLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGFydEdhbWVNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydEdhbWVNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydEdhbWVNb2RhbEluc3RhbmNlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb290U2NvcGUuaXNTdGFydEdhbWVQYWdlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZ3JvdXBGdWxsZWQgPSB0aGlzLmdyb3VwRnVsbGVkT2JzZXJ2YWJsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRha2UoMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0U3BpbignZ3JvdXAtZnVsbGVkJywgZ3JvdXBGdWxsZWQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBGdWxsZWQuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0U3BpbignbG9hZGluZy1nYW1lJywgUnguT2JzZXJ2YWJsZS5tZXJnZSh0aGlzLnVzZXJMZWZ0R3JvdXBPYnNlcnZhYmxlLnRha2UoMSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZVN0YXJ0ZWRPYnNlcnZhYmxlLnRha2UoMSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRha2UoMSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0U3BpbignY29ubmVjdC10by1ncm91cCcsIFJ4Lk9ic2VydmFibGUuZnJvbVByb21pc2UocHJvbWlzZSkpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHByb21pc2UuZmFpbCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic210aCBiYWQgaGFwcGVuZWQ6IFwiICsgZXJyb3IpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGhhbmRsZVVzZXJBZGRlZFRvR3JvdXAoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkZWRUb0dyb3VwT2JzZXJ2YWJsZS5vbk5leHQoe30pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHNob3dTdGFydEdhbWVXaW5kb3coKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsbEluRGlnZXN0TG9vcCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd1N0YXJ0R2FtZU1vZGFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgaGFuZGxlR2FtZUZpbmlzaGVkKGlzV2luPzogYm9vbGVhbiwgaXNEcmF3PzogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLmNhbGxJbkRpZ2VzdExvb3AoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kcm9vdFNjb3BlLmlzU3RhcnRHYW1lUGFnZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93R2FtZUZpbmlzaGVkTW9kYWxXaW5kb3coaXNXaW4sIGlzRHJhdyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGhhbmRsZUdyb3VwRnVsbGVkKCk6IHZvaWQge1xyXG4gICAgICAgICAgICAvLyBUT0RPOiBCZXR0ZXIgdG8gaW1wbGVtZW50IHNjaGVkdWxlciB0byBzdWJzY3JpYmUgd2l0aGluIG5nIHNjb3BlXHJcbiAgICAgICAgICAgIHRoaXMuY2FsbEluRGlnZXN0TG9vcCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkZWJ1Z2dlcjtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ3JvdXBGdWxsZWRPYnNlcnZhYmxlLm9uTmV4dCh7fSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgaGFuZGxlR2FtZVN0YXJ0ZWQoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsbEluRGlnZXN0TG9vcCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRyb290U2NvcGUuaXNTdGFydEdhbWVQYWdlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGFydEdhbWVNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydEdhbWVNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydEdhbWVNb2RhbEluc3RhbmNlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmdhbWVTdGFydGVkT2JzZXJ2YWJsZS5vbk5leHQoe30pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGdldFVzZXJJZCgpOiBzdHJpbmcge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kcm9vdFNjb3BlLnVzZXJJZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzZXRVc2VySWQodXNlcklkOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy4kcm9vdFNjb3BlLnVzZXJJZCA9IHVzZXJJZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBoYW5kbGVVc2VyMkxlZnRHcm91cCgpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5jYWxsSW5EaWdlc3RMb29wKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXNlckxlZnRHcm91cE9ic2VydmFibGUub25OZXh0KHt9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHJvb3RTY29wZS5pc1N0YXJ0R2FtZVBhZ2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd1N0YXJ0R2FtZU1vZGFsKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGdldFVzZXJEaXNwbGF5TmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kcm9vdFNjb3BlLmRpc3BsYXlOYW1lO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGhhbmRsZURpc2Nvbm5lY3RlZEZyb21IdWIoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLiRyb290U2NvcGUuaXNTdGFydEdhbWVQYWdlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxJbkRpZ2VzdExvb3AoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IFNob3cgc29tZWhvdyB0aGF0IHNvbWV0aGluZyB3YXMgd3Jvbmcgd2l0aCBjb25uZWN0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm9vdFNjb3BlLmlzU3RhcnRHYW1lUGFnZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd1N0YXJ0R2FtZU1vZGFsKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZShDb21tb24uR2V0Q29uc3RhbnRzKCkuYXBwTmFtZSkuc2VydmljZShcIlNlcnZpY2VzLlN0YXRlSGFuZGxlclNlcnZpY2VcIiwgU3RhdGVIYW5kbGVyU2VydmljZSk7XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vY29tbW9uLnRzXCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2ludGVyZmFjZXMudHNcIiAvPlxyXG5tb2R1bGUgY29udHJvbGxlcnMge1xyXG4gICAgZXhwb3J0IGNsYXNzIENvbm5lY3RUb0dhbWVDb250cm9sbGVyIHtcclxuICAgICAgICBwcml2YXRlIGNvbm5lY3Rpb25IdWJTZXJ2aWNlOiBJbnRlcmZhY2VzLklDb25uZWN0VG9HYW1lO1xyXG4gICAgICAgIHByaXZhdGUgJHNjb3BlOiBJbnRlcmZhY2VzLklDb25uZWN0VG9HYW1lU2NvcGU7XHJcbiAgICAgICAgcHJpdmF0ZSBncm91cEluZm86IE1vZGVscy5Hcm91cDtcclxuICAgICAgICBwcml2YXRlIHN0YXRlSGFuZGxlcjogSW50ZXJmYWNlcy5JU3RhdGVIYW5kbGVyO1xyXG4gICAgICAgIHByaXZhdGUgJHJvb3RTY29wZTogSW50ZXJmYWNlcy5JUm9vdFNjb3BlO1xyXG4gICAgICAgIHByaXZhdGUgY29vY2tpZVNlcnZpY2U6IEludGVyZmFjZXMuSUNvb2tpZVNlcnZpY2U7XHJcbiAgICAgICAgcHJpdmF0ZSBkaXNwbGF5TmFtZUNvb2tpZUtleTogc3RyaW5nO1xyXG4gICAgICAgIHByaXZhdGUgbGV2ZWxDb29raWVLZXk6IHN0cmluZztcclxuXHJcbiAgICAgICAgc3RhdGljICRpbmplY3QgPSBbXCJTZXJ2aWNlcy5Db25uZWN0VG9HYW1lU2VydmljZVwiLCBcIiRzY29wZVwiLCBcIlNlcnZpY2VzLlN0YXRlSGFuZGxlclNlcnZpY2VcIiwgXCIkcm9vdFNjb3BlXCIsIFwiU2VydmljZXMuQ29va2llU2VydmljZVwiXTtcclxuICAgICAgICBjb25zdHJ1Y3Rvcihjb25uZWN0aW9uSHViU2VydmljZTogSW50ZXJmYWNlcy5JQ29ubmVjdFRvR2FtZSwgXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlOiBJbnRlcmZhY2VzLklDb25uZWN0VG9HYW1lU2NvcGUsIFxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlSGFuZGxlcjogSW50ZXJmYWNlcy5JU3RhdGVIYW5kbGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGU6IEludGVyZmFjZXMuSVJvb3RTY29wZSxcclxuICAgICAgICAgICAgICAgICAgICBjb29ja2llU2VydmljZTogSW50ZXJmYWNlcy5JQ29va2llU2VydmljZSkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25IdWJTZXJ2aWNlID0gY29ubmVjdGlvbkh1YlNlcnZpY2U7XHJcbiAgICAgICAgICAgIHRoaXMuJHNjb3BlID0gJHNjb3BlO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlSGFuZGxlciA9IHN0YXRlSGFuZGxlcjtcclxuICAgICAgICAgICAgdGhpcy4kcm9vdFNjb3BlID0gJHJvb3RTY29wZTtcclxuICAgICAgICAgICAgdGhpcy5jb29ja2llU2VydmljZSA9IGNvb2NraWVTZXJ2aWNlO1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlOYW1lQ29va2llS2V5ID0gXCJkaXNwbGF5TmFtZVwiO1xyXG4gICAgICAgICAgICB0aGlzLmxldmVsQ29va2llS2V5ID0gXCJsZXZlbE5hbWVcIjtcclxuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplVmlld01vZGVsKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGluaXRpYWxpemVWaWV3TW9kZWwoKTp2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZUhhbmRsZXIuc2V0Q29ubmVjdFRvR2FtZVNjb3BlKHRoaXMuJHNjb3BlKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbkh1YlNlcnZpY2Uub25Vc2VyTGVmdChkYXRhID0+IHRoaXMub25Vc2VyTGVmdC5jYWxsKHRoaXMsIGRhdGEpKTtcclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uSHViU2VydmljZS5vbkdyb3VwRnVsbGVkKGRhdGEgPT4gdGhpcy5vbkdyb3VwRnVsbGVkLmNhbGwodGhpcywgZGF0YSkpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25IdWJTZXJ2aWNlLm9uQ29ubmVjdGVkVG9Hcm91cChkYXRhID0+IHRoaXMub25Db25uZWN0ZWRUb0dyb3VwLmNhbGwodGhpcywgZGF0YSkpO1xyXG4gICAgICAgICAgICB0aGlzLiRzY29wZS5jb25uZWN0VG9Hcm91cCA9ICgpID0+IHRoaXMuY29ubmVjdFRvR3JvdXAuYXBwbHkodGhpcyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25IdWJTZXJ2aWNlLm9uQ29ubmVjdFRvSHViKHZhbHVlID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVIYW5kbGVyLnNldFVzZXJJZCh2YWx1ZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25IdWJTZXJ2aWNlLm9uRGlzY29ubmVjdGVkRnJvbUh1YigoKSA9PiB0aGlzLnN0YXRlSGFuZGxlci5oYW5kbGVEaXNjb25uZWN0ZWRGcm9tSHViKCkpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy4kc2NvcGUubGV2ZWxzID0gW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2xldmVsOiBNb2RlbHMuTGV2ZWwuQmVnaW5lciwgbmFtZTogXCLQndC+0LLQsNGH0L7QulwifSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtsZXZlbDogTW9kZWxzLkxldmVsLkludGVybWVkaWF0ZSwgbmFtZTogXCLQodGA0LXQtNC90LjQuVwifSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtsZXZlbDogTW9kZWxzLkxldmVsLkFkdmFuY2VkLCBuYW1lOiBcItCS0YvRgdC+0LrQuNC5XCJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIHRoaXMuJHNjb3BlLmNoYW5nZUxldmVsID0gKGxldmVsOiBNb2RlbHMuSUxldmVsTmFtZVBhaXIpID0+IHRoaXMuJHJvb3RTY29wZS5sZXZlbCA9IGxldmVsO1xyXG5cclxuICAgICAgICAgICAgbGV0IGRpc3BsYXlOYW1lRnJvbUNvb2tpZXMgPSBcItCh0LvRg9GH0LDQudC90YvQuSDQuNCz0YDQvtC6XCI7XHJcbiAgICAgICAgICAgIGxldCBsZXZlbEZyb21Db29raWVzID0gMjsgLy8gSW50ZXJtZWRpYXRlIGJ5IGRlZmF1bHRcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGxldCBjb29raWVWYWx1ZSA9IHRoaXMuY29vY2tpZVNlcnZpY2UuZ2V0Q29va2llKHRoaXMuZGlzcGxheU5hbWVDb29raWVLZXkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvb2tpZVZhbHVlICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWVGcm9tQ29va2llcyA9IGNvb2tpZVZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGNvb2tpZVZhbHVlID0gdGhpcy5jb29ja2llU2VydmljZS5nZXRDb29raWUodGhpcy5sZXZlbENvb2tpZUtleSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29va2llVmFsdWUgIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXZlbEZyb21Db29raWVzID0gcGFyc2VJbnQoY29va2llVmFsdWUpIHx8IGxldmVsRnJvbUNvb2tpZXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuJHJvb3RTY29wZS5kaXNwbGF5TmFtZSA9IGRpc3BsYXlOYW1lRnJvbUNvb2tpZXM7XHJcbiAgICAgICAgICAgIHRoaXMuJHJvb3RTY29wZS5sZXZlbCA9IHRoaXMuJHNjb3BlLmxldmVsc1tsZXZlbEZyb21Db29raWVzIC0gMV07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0YXRlSGFuZGxlci5zaG93U3RhcnRHYW1lV2luZG93KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIG9uR3JvdXBGdWxsZWQoZ3JvdXBJbmZvOiBNb2RlbHMuR3JvdXApOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5ncm91cEluZm8gPSBncm91cEluZm87XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGVIYW5kbGVyLmhhbmRsZUdyb3VwRnVsbGVkKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIG9uVXNlckxlZnQoZ3JvdXBJbmZvOiBNb2RlbHMuR3JvdXApOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5ncm91cEluZm8gPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlSGFuZGxlci5oYW5kbGVVc2VyMkxlZnRHcm91cCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBjb25uZWN0VG9Hcm91cCgpOiB2b2lkIHtcclxuICAgICAgICAgICAgbGV0IGRpc3BsYXlOYW1lID0gdGhpcy5zdGF0ZUhhbmRsZXIuZ2V0VXNlckRpc3BsYXlOYW1lKCk7XHJcbiAgICAgICAgICAgIGxldCBsZXZlbCA9IHRoaXMuJHJvb3RTY29wZS5sZXZlbC5sZXZlbDtcclxuXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvb2NraWVTZXJ2aWNlLnNldENvb2tpZSh0aGlzLmRpc3BsYXlOYW1lQ29va2llS2V5LCBkaXNwbGF5TmFtZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvb2NraWVTZXJ2aWNlLnNldENvb2tpZSh0aGlzLmxldmVsQ29va2llS2V5LCBsZXZlbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5jb25uZWN0aW9uSHViU2VydmljZS5jb25uZWN0VG9OZXdHcm91cChkaXNwbGF5TmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldmVsKTtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZUhhbmRsZXIuaGFuZGxlQ29ubmVjdGlvblRvR3JvdXAocHJvbWlzZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIG9uQ29ubmVjdGVkVG9Hcm91cCh1c2VySWQ6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlSGFuZGxlci5zZXRVc2VySWQodXNlcklkKTtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZUhhbmRsZXIuaGFuZGxlVXNlckFkZGVkVG9Hcm91cCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZShDb21tb24uR2V0Q29uc3RhbnRzKCkuYXBwTmFtZSkuY29udHJvbGxlcihcImNvbnRyb2xsZXJzLkNvbm5lY3RUb0dhbWVDb250cm9sbGVyXCIsIENvbm5lY3RUb0dhbWVDb250cm9sbGVyKTtcclxufSAiLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vY29tbW9uLnRzXCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2ludGVyZmFjZXMudHNcIiAvPlxyXG5tb2R1bGUgY29udHJvbGxlcnMge1xyXG4gICAgZXhwb3J0IGNsYXNzIEdhbWVDb250cm9sbGVyIHtcclxuICAgICAgICBwcml2YXRlIGNvbm5lY3Rpb25IdWJTZXJ2aWNlOiBJbnRlcmZhY2VzLklDb25uZWN0VG9HYW1lO1xyXG4gICAgICAgIHByaXZhdGUgJHNjb3BlOiBJbnRlcmZhY2VzLklHYW1lU2NvcGU7XHJcbiAgICAgICAgcHJpdmF0ZSBnYW1lSW5mbzogTW9kZWxzLkdhbWU7XHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0ZUhhbmRsZXI6IEludGVyZmFjZXMuSVN0YXRlSGFuZGxlcjtcclxuICAgICAgICBwcml2YXRlIHdvcmRzOiBBcnJheTxNb2RlbHMuV29yZD5cclxuICAgICAgICBwcml2YXRlIHVzZXJOdW06IG51bWJlcjtcclxuICAgICAgICBwcml2YXRlICRpbnRlcnZhbDogbmcuSUludGVydmFsU2VydmljZTtcclxuICAgICAgICBwcml2YXRlIHNlY29uZHNGb3JNb3ZlOiBudW1iZXI7XHJcbiAgICAgICAgcHJpdmF0ZSB0aW1lclByb21pc2U6IG5nLklQcm9taXNlPGFueT47XHJcbiAgICAgICAgcHJpdmF0ZSAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlO1xyXG5cclxuICAgICAgICBwcml2YXRlIHF1YXRlczogQXJyYXk8c3RyaW5nPjtcclxuXHJcbiAgICAgICAgc3RhdGljICRpbmplY3QgPSBbXCJTZXJ2aWNlcy5Db25uZWN0VG9HYW1lU2VydmljZVwiLCBcIiRzY29wZVwiLCBcIlNlcnZpY2VzLlN0YXRlSGFuZGxlclNlcnZpY2VcIiwgXCIkaW50ZXJ2YWxcIiwgJyR0aW1lb3V0J107XHJcbiAgICAgICAgY29uc3RydWN0b3IoY29ubmVjdGlvbkh1YlNlcnZpY2U6IEludGVyZmFjZXMuSUNvbm5lY3RUb0dhbWUsICRzY29wZTogSW50ZXJmYWNlcy5JR2FtZVNjb3BlLCBcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZUhhbmRsZXI6IEludGVyZmFjZXMuSVN0YXRlSGFuZGxlcixcclxuICAgICAgICAgICAgICAgICAgICAkaW50ZXJ2YWw6IG5nLklJbnRlcnZhbFNlcnZpY2UsXHJcbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25IdWJTZXJ2aWNlID0gY29ubmVjdGlvbkh1YlNlcnZpY2U7XHJcbiAgICAgICAgICAgIHRoaXMuJHNjb3BlID0gJHNjb3BlO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlSGFuZGxlciA9IHN0YXRlSGFuZGxlcjtcclxuICAgICAgICAgICAgdGhpcy4kaW50ZXJ2YWwgPSAkaW50ZXJ2YWw7XHJcbiAgICAgICAgICAgIHRoaXMuc2Vjb25kc0Zvck1vdmUgPSAxMDtcclxuICAgICAgICAgICAgdGhpcy4kdGltZW91dCA9ICR0aW1lb3V0O1xyXG4gICAgICAgICAgICB0aGlzLnF1YXRlcyA9IFtcIkhvdyBtYW55IGxhbmd1YWdlcyB5b3Uga25vdyDigJQgdGhhdCBtYW55IHRpbWVzIHlvdSBhcmUgYSBwZXJzb25cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJJZiB5b3UgdGFsayB0byBhIG1hbiBpbiBhIGxhbmd1YWdlIGhlIHVuZGVyc3RhbmRzLCB0aGF0IGdvZXMgdG8gaGlzIGhlYWQuIElmIHlvdSB0YWxrIHRvIGhpbSBpbiBoaXMgbGFuZ3VhZ2UsIHRoYXQgZ29lcyB0byBoaXMgaGVhcnRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJCeSB3b3JkcyB0aGUgbWluZCBpcyB3aW5nZWRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJMYW5ndWFnZSBpcyB0aGUgbWVhbnMgb2YgZ2V0dGluZyBhbiBpZGVhIGZyb20gbXkgYnJhaW4gaW50byB5b3VycyB3aXRob3V0IHN1cmdlcnlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJBIGRpZmZlcmVudCBsYW5ndWFnZSBpcyBhIGRpZmZlcmVudCB2aXNpb24gb2YgbGlmZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBcIlRvIGhhdmUgYW5vdGhlciBsYW5ndWFnZSBpcyB0byBwb3NzZXNzIGEgc2Vjb25kIHNvdWxcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJJZiB3ZSBzcG9rZSBhIGRpZmZlcmVudCBsYW5ndWFnZSwgd2Ugd291bGQgcGVyY2VpdmUgYSBzb21ld2hhdCBkaWZmZXJlbnQgd29ybGRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJMYW5ndWFnZSBleGVydHMgaGlkZGVuIHBvd2VyLCBsaWtlIHRoZSBtb29uIG9uIHRoZSB0aWRlc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBcIkxhbmd1YWdlIGlzIHRoZSByb2FkIG1hcCBvZiBhIGN1bHR1cmUuIEl0IHRlbGxzIHlvdSB3aGVyZSBpdHMgcGVvcGxlIGNvbWUgZnJvbSBhbmQgd2hlcmUgdGhleSBhcmUgZ29pbmdcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJIZSB3aG8gZG9lcyBub3Qga25vdyBmb3JlaWduIGxhbmd1YWdlcyBkb2VzIG5vdCBrbm93IGFueXRoaW5nIGFib3V0IGhpcyBvd25cIl07XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZVZpZXdNb2RlbCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBpbml0aWFsaXplVmlld01vZGVsKCk6dm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbkh1YlNlcnZpY2UuZ2FtZVN0YXJ0ZWQoZGF0YSA9PiB0aGlzLnN0YXJ0R2FtZS5jYWxsKHRoaXMsIGRhdGEpKTtcclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uSHViU2VydmljZS5kaWRNb3ZlKGRhdGEgPT4gdGhpcy51c2VyMmRpZE1vdmUuY2FsbCh0aGlzLCBkYXRhKSk7XHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbkh1YlNlcnZpY2Uub25Hcm91cEZ1bGxlZChkYXRhID0+IHRoaXMuaGFuZGxlR3JvdXBGdWxsZWQuY2FsbCh0aGlzLCBkYXRhKSk7XHJcbiAgICAgICAgICAgIHRoaXMuJHNjb3BlLmRvTW92ZSA9ICh2YXJpYW50OiBzdHJpbmcpID0+IHRoaXMuZG9Nb3ZlLmNhbGwodGhpcywgdmFyaWFudCk7XHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbkh1YlNlcnZpY2Uub25Vc2VyTGVmdCgoKSA9PiB0aGlzLm9uVXNlckxlZnQuY2FsbCh0aGlzKSk7XHJcbiAgICAgICAgICAgIHRoaXMudW5zZXRHYW1lSW5mbygpO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlSGFuZGxlci5zZXRVcEdhbWVTY29wZSh0aGlzLiRzY29wZSk7XHJcbiAgICAgICAgICAgIGxldCByYW5kb21RdWF0ZUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5xdWF0ZXMubGVuZ3RoKTtcclxuICAgICAgICAgICAgdGhpcy4kc2NvcGUucmFuZG9tUXVhdGUgPSB0aGlzLnF1YXRlc1tyYW5kb21RdWF0ZUluZGV4XTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgaGFuZGxlR3JvdXBGdWxsZWQoZ3JvdXA6IE1vZGVscy5Hcm91cCk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLmNhbGxJbkRpZ2VzdExvb3AoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaXNVc2VyMSA9IGdyb3VwLnVzZXJzTGlzdFswXS51c2VySWQgPT09IHRoaXMuc3RhdGVIYW5kbGVyLmdldFVzZXJJZCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUudXNlcjJEaXNwbGF5TmFtZSA9IGlzVXNlcjEgPyBncm91cC51c2Vyc0xpc3RbMF0uZGlzcGxheU5hbWUgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGdyb3VwLnVzZXJzTGlzdFsxXS5kaXNwbGF5TmFtZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIG9uVXNlckxlZnQoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcFRpbWVyKCk7XHJcbiAgICAgICAgICAgIHRoaXMudW5zZXRHYW1lSW5mbygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSB1bnNldEdhbWVJbmZvKCk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVJbmZvID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2FsbEluRGlnZXN0TG9vcCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS5jdXJyZW50V29yZCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS5zZWNvbmRzRm9yTW92ZUxlZnQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUucGVyY2VudGFnZXNMZWZ0ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLmlzQ3VycmVudFVzZXJNb3ZlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLmN1cnJlbnRVc2VyU2NvcmUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUudXNlcjJTY29yZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS5wYXNzZWRXb3JkcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUubGVmdFdvcmRzID0gW107XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdGFydEdhbWUoZ2FtZTogTW9kZWxzLkdhbWUpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5nYW1lSW5mbyA9IGdhbWU7XHJcbiAgICAgICAgICAgIHRoaXMud29yZHMgPSBnYW1lLndvcmRzO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgaXNVc2VyMSA9IGdhbWUudXNlcjEudXNlcklkID09PSB0aGlzLnN0YXRlSGFuZGxlci5nZXRVc2VySWQoKTtcclxuICAgICAgICAgICAgdGhpcy51c2VyTnVtID0gaXNVc2VyMSA/IDEgOiAyO1xyXG4gICAgICAgICAgICB0aGlzLiRzY29wZS4kYXBwbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUuY3VycmVudFVzZXJTY29yZSA9IGlzVXNlcjEgPyBnYW1lLnVzZXIxU2NvcmUgOiBnYW1lLnVzZXIyU2NvcmU7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS51c2VyMlNjb3JlID0gIWlzVXNlcjEgPyBnYW1lLnVzZXIxU2NvcmUgOiBnYW1lLnVzZXIyU2NvcmU7XHJcbiAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLmN1cnJlbnRXb3JkSW5kZXggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUuY3VycmVudFdvcmQgPSB0aGlzLndvcmRzWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRWYXJpbmF0c09yZGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS5pc0N1cnJlbnRVc2VyTW92ZSA9IChpc1VzZXIxICYmIHRoaXMuZ2FtZUluZm8uY3VycmVudE1vdmUgPT09IDEpIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoIWlzVXNlcjEgJiYgdGhpcy5nYW1lSW5mby5jdXJyZW50TW92ZSA9PT0gMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNodWZmbGUoYXJyOiBBcnJheTxNb2RlbHMuV29yZD4pOiBBcnJheTxNb2RlbHMuV29yZD4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFycmF5ID0gYXJyLnNsaWNlKDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG0gPSBhcnJheS5sZW5ndGgsIHQsIGk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2hpbGUgdGhlcmUgcmVtYWluIGVsZW1lbnRzIHRvIHNodWZmbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUGljayBhIHJlbWFpbmluZyBlbGVtZW504oCmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG0tLSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFuZCBzd2FwIGl0IHdpdGggdGhlIGN1cnJlbnQgZWxlbWVudC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ID0gYXJyYXlbbV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXlbbV0gPSBhcnJheVtpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJheVtpXSA9IHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUubGVmdFdvcmRzID0gc2h1ZmZsZSh0aGlzLndvcmRzLnNsaWNlKDEpKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0YXRlSGFuZGxlci5oYW5kbGVHYW1lU3RhcnRlZCgpO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0VGltZXIoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgY2FsbEluRGlnZXN0TG9vcChhY3Rpb246KCkgPT4gdm9pZCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy4kc2NvcGUuJCRwaGFzZSkge1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS4kYXBwbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdGFydFRpbWVyKCk6IHZvaWQge1xyXG4gICAgICAgICAgICBpZiAodGhpcy50aW1lclByb21pc2UpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IFwiUHJldmlvdXMgdGltZXIgc2hvdWxkIGJlIHN0b3BwZWRcIjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5jYWxsSW5EaWdlc3RMb29wKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLnNlY29uZHNGb3JNb3ZlTGVmdCA9IHRoaXMuc2Vjb25kc0Zvck1vdmU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS5wZXJjZW50YWdlc0xlZnQgPSAxMDA7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy50aW1lclByb21pc2UgPSB0aGlzLiRpbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS5zZWNvbmRzRm9yTW92ZUxlZnQtLTtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLnBlcmNlbnRhZ2VzTGVmdCA9IHRoaXMuJHNjb3BlLnNlY29uZHNGb3JNb3ZlTGVmdCAvIDEwICogMTAwO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLiRzY29wZS5zZWNvbmRzRm9yTW92ZUxlZnQgPT09IDBcclxuICAgICAgICAgICAgICAgICAgICAmJiB0aGlzLiRzY29wZS5pc0N1cnJlbnRVc2VyTW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFzc01vdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgMTAwMCwgMTApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdG9wVGltZXIoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy50aW1lclByb21pc2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy4kaW50ZXJ2YWwuY2FuY2VsKHRoaXMudGltZXJQcm9taXNlKTtcclxuICAgICAgICAgICAgdGhpcy50aW1lclByb21pc2UgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSB1c2VyMmRpZE1vdmUobW92ZVJlczogTW9kZWxzLk1vdmVSZXN1bHQpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy4kc2NvcGUuJGFwcGx5KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlTW92ZShtb3ZlUmVzLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBwYXNzTW92ZSgpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uSHViU2VydmljZS5wYXNzTW92ZSh0aGlzLnVzZXJOdW0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZG9uZSgobW92ZVJlc3VsdDpNb2RlbHMuTW92ZVJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLiRhcHBseSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlTW92ZShtb3ZlUmVzdWx0LCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBkb01vdmUodmFyaWFudDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgICAgIC8vIGEgd2F5IHRvIGhhbmRsZSBtdWx0aXBsZSBjbGlja1xyXG4gICAgICAgICAgICBpZiAodGhpcy4kc2NvcGUuY3VycmVudFdvcmQudHJhbnNsYXRlVmFyaWFudHMuZmlsdGVyKHYgPT4gdi5pc1NlbGVjdGVkKVxyXG4gICAgICAgICAgICAgICAgICAgIC5sZW5ndGggIT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0b3BUaW1lcigpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy4kc2NvcGUuc2Vjb25kc0Zvck1vdmVMZWZ0ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBzaG91bGQgYmUgaGFuZGxlZCBieSB0aW1lciBjYWxsYmFja1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgc2VsZWN0ZWRWYXIgPSB0aGlzLiRzY29wZS5jdXJyZW50V29yZC50cmFuc2xhdGVWYXJpYW50cy5maWx0ZXIodiA9PiB2LnZhcmlhbnQgPT09IHZhcmlhbnQpWzBdO1xyXG4gICAgICAgICAgICBpZiAoIXNlbGVjdGVkVmFyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnSW5jb3JyZWN0IHZhciBzZWxlY3RlZCcpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRWYXIuaXNTZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbkh1YlNlcnZpY2UuZG9Nb3ZlKHRoaXMudXNlck51bSwgdGhpcy4kc2NvcGUuY3VycmVudFdvcmQud29yZCwgdmFyaWFudClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5kb25lKChtb3ZlUmVzdWx0Ok1vZGVscy5Nb3ZlUmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUuJGFwcGx5KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVNb3ZlKG1vdmVSZXN1bHQsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGhhbmRsZU1vdmUobW92ZVJlczogTW9kZWxzLk1vdmVSZXN1bHQsIGlzQ3VycmVudFVzZXJNb3ZlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcFRpbWVyKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBpZiBpdCBpcyBza2lwcGVkLCB0aGVuIHNldCB0aW1lciBtYW51YWxseSB0byAwXHJcbiAgICAgICAgICAgIC8vIGJlY2F1c2UgdGltZXIgb24gYm90aCBzaWRlIG1heSBzaG93IGRpZmZlcmVudCB0aW1lIGJ5IHRoYXQgdGltZVxyXG4gICAgICAgICAgICAvLyBlLmcuIG9uZSBjb3VsZCBoYXZlIDAgYW5kIG90aGVyIHBsYXllciBjb3VsZCBoYXZlIDFcclxuICAgICAgICAgICAgaWYgKG1vdmVSZXMuaXNTa2lwcGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS5zZWNvbmRzRm9yTW92ZUxlZnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUucGVyY2VudGFnZXNMZWZ0ID0gMDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRVc2VyU2NvcmUgPSB0aGlzLnVzZXJOdW0gPT09IDEgPyB0aGlzLmdhbWVJbmZvLnVzZXIxU2NvcmUgOiB0aGlzLmdhbWVJbmZvLnVzZXIyU2NvcmU7XHJcbiAgICAgICAgICAgIHZhciB1c2VyMlNjb3JlID0gdGhpcy51c2VyTnVtID09PSAxID8gdGhpcy5nYW1lSW5mby51c2VyMlNjb3JlIDogdGhpcy5nYW1lSW5mby51c2VyMVNjb3JlO1xyXG5cclxuICAgICAgICAgICAgbGV0IHNjb3JlID0gaXNDdXJyZW50VXNlck1vdmUgPyBjdXJyZW50VXNlclNjb3JlIDogdXNlcjJTY29yZTtcclxuXHJcbiAgICAgICAgICAgIGlmICghbW92ZVJlcy5pc0NvcnJlY3QpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobW92ZVJlcy5lcnJvck1lc3NhZ2UpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1vdmVSZXMuaXNTdWNjZXNzZnVsKSB7XHJcbiAgICAgICAgICAgICAgICBzY29yZS5zdWNjZXNzZnVsTW92ZXMrKztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNjb3JlLndyb25nTW92ZXMrKztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKG1vdmVSZXMuc2VsZWN0ZWRWYXJpYW50SW5kZXggIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS5jdXJyZW50V29yZC50cmFuc2xhdGVWYXJpYW50c1ttb3ZlUmVzLnNlbGVjdGVkVmFyaWFudEluZGV4XS5pc1NlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMudXNlck51bSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUuY3VycmVudFVzZXJTY29yZSA9IHRoaXMuZ2FtZUluZm8udXNlcjFTY29yZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLnVzZXIyU2NvcmUgPSB0aGlzLmdhbWVJbmZvLnVzZXIyU2NvcmU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS5jdXJyZW50VXNlclNjb3JlID0gdGhpcy5nYW1lSW5mby51c2VyMlNjb3JlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUudXNlcjJTY29yZSA9IHRoaXMuZ2FtZUluZm8udXNlcjFTY29yZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy4kdGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS5pc0N1cnJlbnRVc2VyTW92ZSA9ICFpc0N1cnJlbnRVc2VyTW92ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLmN1cnJlbnRXb3JkSW5kZXgrKztcclxuICAgICAgICAgICAgICAgIGlmIChpc0N1cnJlbnRVc2VyTW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXNzZWRXb3JkID0gbmV3IE1vZGVscy5QYXNzZWRXb3JkSW5mbygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhc3NlZFdvcmQud29yZCA9IHRoaXMuJHNjb3BlLmN1cnJlbnRXb3JkLndvcmQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFzc2VkV29yZC5hbnN3ZXIgPSB0aGlzLiRzY29wZS5jdXJyZW50V29yZC50cmFuc2xhdGVWYXJpYW50c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGkgPT4gaS5pc1RydWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zaGlmdCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC52YXJpYW50O1xyXG4gICAgICAgICAgICAgICAgICAgIHBhc3NlZFdvcmQud2FzUGFzc2VkID0gbW92ZVJlcy5pc1N1Y2Nlc3NmdWw7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUucGFzc2VkV29yZHMucHVzaChwYXNzZWRXb3JkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gcmVtb3ZlRnJvbUFycmF5SWYoYXJyOiBBcnJheTxNb2RlbHMuV29yZD4sIGNhbGxiYWNrOiAoYXJnOiBNb2RlbHMuV29yZCwgaW5kZXg6IG51bWJlcikgPT4gYm9vbGVhbik6IHZvaWQge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaSA8IGFyci5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKGFycltpXSwgaSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyci5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArK2k7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUuY3VycmVudFdvcmQgPSB0aGlzLmdhbWVJbmZvLndvcmRzW3RoaXMuJHNjb3BlLmN1cnJlbnRXb3JkSW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWYXJpbmF0c09yZGVyKCk7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVGcm9tQXJyYXlJZih0aGlzLiRzY29wZS5sZWZ0V29yZHMsIHcgPT4gdy53b3JkID09PSB0aGlzLiRzY29wZS5jdXJyZW50V29yZC53b3JkKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobW92ZVJlcy5pc0xhc3RNb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZUhhbmRsZXIuaGFuZGxlR2FtZUZpbmlzaGVkKHRoaXMuJHNjb3BlLmN1cnJlbnRVc2VyU2NvcmUuc3VjY2Vzc2Z1bE1vdmVzID4gdGhpcy4kc2NvcGUudXNlcjJTY29yZS5zdWNjZXNzZnVsTW92ZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLmN1cnJlbnRVc2VyU2NvcmUuc3VjY2Vzc2Z1bE1vdmVzID09IHRoaXMuJHNjb3BlLnVzZXIyU2NvcmUuc3VjY2Vzc2Z1bE1vdmVzKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc2V0R2FtZUluZm8oKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25IdWJTZXJ2aWNlLnN0b3BIdWJDb25uZWN0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRUaW1lcigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCAxMDAwLCB0cnVlKTsgLy8gZGVsYXkgdG8gbGV0IHVzZXIgc2VlIHRoZSByZXN1bHQgb2YgbW92ZVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIHNldFZhcmluYXRzT3JkZXIoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy4kc2NvcGUuY3VycmVudFdvcmQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy4kc2NvcGUuY3VycmVudFdvcmQudHJhbnNsYXRlVmFyaWFudHMuZm9yRWFjaCgodmFsdWUsIGluZGV4KSA9PiB2YWx1ZS5vcmRlciA9IGluZGV4ICsgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKENvbW1vbi5HZXRDb25zdGFudHMoKS5hcHBOYW1lKS5jb250cm9sbGVyKFwiY29udHJvbGxlcnMuR2FtZUNvbnRyb2xsZXJcIiwgR2FtZUNvbnRyb2xsZXIpO1xyXG59ICIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9jb21tb24udHNcIiAvPlxyXG4kKCgpID0+IHtcclxuICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjcwMDAwMC9ob3ctdG8tZGlzYWJsZS10ZXh0LXNlbGVjdGlvbi11c2luZy1qcXVlcnlcclxuICAgICQoJyN3b3JkLCAud29yZC1sZWZ0LWl0ZW0tY2FwdGlvbicpLmF0dHIoJ3Vuc2VsZWN0YWJsZScsJ29uJylcclxuICAgICAuY3NzKHsnLW1vei11c2VyLXNlbGVjdCc6Jy1tb3otbm9uZScsXHJcbiAgICAgICAgICAgJy1vLXVzZXItc2VsZWN0Jzonbm9uZScsXHJcbiAgICAgICAgICAgJy1raHRtbC11c2VyLXNlbGVjdCc6J25vbmUnLCAvKiB5b3UgY291bGQgYWxzbyBwdXQgdGhpcyBpbiBhIGNsYXNzICovXHJcbiAgICAgICAgICAgJy13ZWJraXQtdXNlci1zZWxlY3QnOidub25lJywvKiBhbmQgYWRkIHRoZSBDU1MgY2xhc3MgaGVyZSBpbnN0ZWFkICovXHJcbiAgICAgICAgICAgJy1tcy11c2VyLXNlbGVjdCc6J25vbmUnLFxyXG4gICAgICAgICAgICd1c2VyLXNlbGVjdCc6J25vbmUnXHJcbiAgICAgfSkuYmluZCgnc2VsZWN0c3RhcnQnLCBmdW5jdGlvbigpeyByZXR1cm4gZmFsc2U7IH0pO1xyXG59KSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9jb21tb24udHNcIiAvPlxyXG4kKCgpID0+IHtcclxuICAgICQoZG9jdW1lbnQpLmtleXByZXNzKGUgPT4ge1xyXG4gICAgICAgIGlmIChlLndoaWNoID09PSAxMykge1xyXG4gICAgICAgICAgICAkKFwiLmJ0bi1zdWJtaXQ6dmlzaWJsZVwiKS5maXJzdCgpLmNsaWNrKCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlLndoaWNoID49IDQ4ICYmIGUud2hpY2ggPD0gNTcpIHtcclxuICAgICAgICAgICAgbGV0IG51bVByZXNzZWQgPSBlLndoaWNoIC0gNDg7XHJcbiAgICAgICAgICAgICQoJy50cmFuc2xhdGVWYXJpYW50OnZpc2libGUnKS5maWx0ZXIoKGluZGV4LCBlbGVtKSA9PiAkKGVsZW0pLmRhdGEoJ29yZGVyJykgPT09IG51bVByZXNzZWQpXHJcbiAgICAgICAgICAgICAgICAuZmlyc3QoKVxyXG4gICAgICAgICAgICAgICAgLmNsaWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn0pOyIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9jb21tb24udHNcIiAvPlxyXG4kKCgpID0+IHtcclxuICAgICQoJyN1c2VyMnZhcmlhbnRzJykuYmluZCgnRE9NTm9kZUluc2VydGVkJywgKCkgPT4gKCQoJy50cmFuc2xhdGVWYXJpYW50Lm5vaG92ZXInKSBhcyBhbnkpLnRvb2x0aXAoKSk7XHJcbn0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
