function getWordContainerPostion(){var $element=$("#word-element");return{x:$element.offset().left,y:$element.offset().top}}var Common;!function(Common){function GetConstants(){return new Constants}var Constants=function(){function Constants(){this.appName="gameApp",this.hubConnectToGroupMethodName="connect",this.connectedToGroup="userAdded",this.leftGroup="userLeft",this.groupFulled="groupFulled",this.competitionHub="competitionHub",this.gameStarted="gameStarted",this.didMove="didMove",this.gameFinished="gameFinished",this.doMove="doMove",this.passMove="passMove"}return Constants}();Common.Constants=Constants,Common.GetConstants=GetConstants}(Common||(Common={}));var Mixins;!function(Mixins){function actionWrapper($scope,action){return function(scheduler,state){if(!$scope.$$phase){var value_1;return $scope.$apply(function(){value_1=action(scheduler,state)}),value_1}return action(scheduler,state)}}var NgScheduler=function(){function NgScheduler($scope){this.immediateScheduler=Rx.Scheduler.immediate,this.$scope=$scope}return NgScheduler.prototype.now=function(){return this.immediateScheduler.now()},NgScheduler.prototype.schedule=function(state,action){return this.immediateScheduler.schedule(state,actionWrapper(this.$scope,action))},NgScheduler.prototype.scheduleFuture=function(state,dueTime,action){throw new Error("Not supported")},NgScheduler.prototype.scheduleRecursive=function(state,action){throw new Error("Not supported")},NgScheduler.prototype.scheduleRecursiveFuture=function(state,dueTime,action){throw new Error("Not supported")},NgScheduler.prototype.schedulePeriodic=function(state,period,action){throw new Error("Not supported")},NgScheduler.prototype.catch=function(handler){return this.immediateScheduler.catch(handler)},NgScheduler}();Mixins.NgScheduler=NgScheduler}(Mixins||(Mixins={}));var App;!function(App){function GetApp(){return app}var constants=Common.GetConstants(),app=angular.module(constants.appName,["ui.bootstrap.modal","cgBusy","ngAnimate"]);App.GetApp=GetApp}(App||(App={}));var Models;!function(Models){var User=function(){function User(){}return User}();Models.User=User}(Models||(Models={}));var Models;!function(Models){var Group=function(){function Group(){}return Group}();Models.Group=Group}(Models||(Models={}));var Models;!function(Models){var Score=function(){function Score(){}return Score}();Models.Score=Score}(Models||(Models={}));var Models;!function(Models){var TranslateVariant=function(){function TranslateVariant(){this.variant=null,this.isTrue=!1,this.isSelected=!1}return TranslateVariant}();Models.TranslateVariant=TranslateVariant}(Models||(Models={}));var Models;!function(Models){var Word=function(){function Word(){}return Word}();Models.Word=Word}(Models||(Models={}));var Models;!function(Models){var Game=function(){function Game(){}return Game}();Models.Game=Game}(Models||(Models={}));var Models;!function(Models){var GameResult=function(){function GameResult(){}return GameResult}();Models.GameResult=GameResult}(Models||(Models={}));var Models;!function(Models){var MoveResult=function(){function MoveResult(){}return MoveResult}();Models.MoveResult=MoveResult}(Models||(Models={}));var Models;!function(Models){var PassedWordInfo=function(){function PassedWordInfo(){}return PassedWordInfo}();Models.PassedWordInfo=PassedWordInfo}(Models||(Models={}));var Models;!function(Models){!function(Level){Level[Level.Beginer=1]="Beginer",Level[Level.Intermediate=2]="Intermediate",Level[Level.Advanced=3]="Advanced"}(Models.Level||(Models.Level={}));Models.Level}(Models||(Models={}));var Services;!function(Services){var ConnectToGameService=function(){function ConnectToGameService(hubConnectionService){this.constants=Common.GetConstants(),this.connection=hubConnectionService.getConnection(),this.hub=this.connection.createHubProxy(this.constants.competitionHub)}return ConnectToGameService.prototype.connectToHub=function(){return this.hub.connection.start()},ConnectToGameService.prototype.doMove=function(moveOrder,word,variant){return this.hub.invoke(this.constants.doMove,moveOrder,word,variant)},ConnectToGameService.prototype.passMove=function(moveOrder){return this.hub.invoke(this.constants.passMove,moveOrder)},ConnectToGameService.prototype.connectToNewGroup=function(displayName,level){return this.hub.invoke(this.constants.hubConnectToGroupMethodName,displayName,level)},ConnectToGameService.prototype.onConnectedToGroup=function(callBack){this.hub.on(this.constants.connectedToGroup,function(msg){return callBack(msg)})},ConnectToGameService.prototype.onGroupFulled=function(callBack){this.hub.on(this.constants.groupFulled,function(msg){return callBack(msg)})},ConnectToGameService.prototype.onUserLeft=function(callBack){this.hub.on(this.constants.leftGroup,function(msg){return callBack(msg[0])})},ConnectToGameService.prototype.gameStarted=function(callBack){this.hub.on(this.constants.gameStarted,function(msg){callBack(msg)})},ConnectToGameService.prototype.didMove=function(callBack){this.hub.on(this.constants.didMove,function(msg){return callBack(msg)})},ConnectToGameService.prototype.gameFinished=function(callBack){this.hub.on(this.constants.gameFinished,function(msg){return callBack(msg[0])})},ConnectToGameService.$inject=["Services.HubConnectionService"],ConnectToGameService}();Services.ConnectToGameService=ConnectToGameService,angular.module(Common.GetConstants().appName).service("Services.ConnectToGameService",ConnectToGameService)}(Services||(Services={}));var Services;!function(Services){var HubConnectionService=function(){function HubConnectionService(){}return HubConnectionService.prototype.getConnection=function(){return HubConnectionService.connection||(HubConnectionService.connection=$.hubConnection("/signalr",{useDefaultPath:!1}),HubConnectionService.connection.logging=!0),HubConnectionService.connection},HubConnectionService}();Services.HubConnectionService=HubConnectionService,angular.module(Common.GetConstants().appName).service("Services.HubConnectionService",HubConnectionService)}(Services||(Services={}));var Services;!function(Services){function toPromiseCustom(observable){var promise=new Promise(function(resolve){observable.subscribe(function(){resolve({})})});return promise}var StateHandlerService=function(){function StateHandlerService($rootScope,$modal){this.constants=Common.GetConstants(),this.$modal=$modal,this.$rootScope=$rootScope,this.$rootScope.isStartGamePage=!1,this.$rootScope.userId=null,this.groupFulledObservable=new Rx.Subject,this.addedToGroupObservable=new Rx.Subject,this.userLeftGroupObservable=new Rx.Subject,this.gameStartedObservable=new Rx.Subject}return StateHandlerService.prototype.callInDigestLoop=function(action){this.$rootScope.$$phase?action():this.$rootScope.$apply(function(){action()})},StateHandlerService.prototype.showStartGameModal=function(){var opt={};opt.scope=this.connectToGameScope,opt.templateUrl="connectToGroup.html",opt.windowTemplateUrl="windowTemplate.html",opt.backdrop="static",opt.keyboard=!1,opt.animation=!0,opt.size="lg",this.startGameModalInstance=this.$modal.open(opt)},StateHandlerService.prototype.showGameFinishedModalWindow=function(isWin,isDraw){if(void 0===isWin&&void 0===isDraw)throw"One of boolean flags should be specified";var connectToGameScope=this.connectToGameScope,opt={};opt.controller=function($scope){$scope.playAgain=connectToGameScope.connectToGroup,isDraw?$scope.message="Ничья. Отличная игра :D!\nХотите сыграть ещё раз?":isWin?$scope.message="Поздравления! Вы выиграли!\nХотите сыграть ещё раз?":$scope.message="Даже если проиграл, преобретенный опыт останется навсегда с тобой и станет твоей наградой :)\nХотите сыграть ещё раз?"},opt.templateUrl="gameFinished.html",opt.windowTemplateUrl="windowTemplate.html",opt.backdrop="static",opt.keyboard=!1,opt.animation=!0,opt.size="lg",this.startGameModalInstance=this.$modal.open(opt)},StateHandlerService.prototype.setConnectToGameScope=function(connectToGameScope){this.connectToGameScope=connectToGameScope},StateHandlerService.prototype.handleConnectionToGroup=function(promise){var _this=this;this.callInDigestLoop(function(){var addedToGroup=_this.addedToGroupObservable.take(1);_this.$rootScope.addedToGroupPromise=toPromiseCustom(addedToGroup),addedToGroup.subscribe(function(){_this.startGameModalInstance&&(_this.startGameModalInstance.close(),_this.startGameModalInstance=null)});var groupFulled=_this.groupFulledObservable.take(1);_this.$rootScope.user2ConnectedPromise=toPromiseCustom(groupFulled),groupFulled.subscribe(function(){_this.$rootScope.loadingGamePromise=toPromiseCustom(Rx.Observable.merge(_this.userLeftGroupObservable.take(1),_this.gameStartedObservable.take(1)).take(1))}),_this.$rootScope.isStartGamePage=!0,_this.connectToGameScope.connectToGroupPromise=promise}),promise.fail(function(error){console.log("smth bad happened: "+error)})},StateHandlerService.prototype.handleUserAddedToGroup=function(){this.addedToGroupObservable.onNext({})},StateHandlerService.prototype.handleConnectionToHub=function(promise){var _this=this;promise.fail(function(){console.log("smth bad happened")}),promise.done(function(){_this.callInDigestLoop(function(){_this.showStartGameModal()})}),this.callInDigestLoop(function(){_this.$rootScope.connectToHubPromise=promise})},StateHandlerService.prototype.handleGameFinished=function(isWin,isDraw){var _this=this;this.callInDigestLoop(function(){_this.$rootScope.isStartGamePage=!1,_this.showGameFinishedModalWindow(isWin,isDraw)})},StateHandlerService.prototype.handleGroupFulled=function(){var _this=this;this.callInDigestLoop(function(){_this.groupFulledObservable.onNext({})})},StateHandlerService.prototype.handleGameStarted=function(){var _this=this;this.callInDigestLoop(function(){_this.$rootScope.isStartGamePage=!0,_this.startGameModalInstance&&(_this.startGameModalInstance.close(),_this.startGameModalInstance=null)}),this.gameStartedObservable.onNext({})},StateHandlerService.prototype.getUserId=function(){return this.$rootScope.userId},StateHandlerService.prototype.setUserId=function(userId){this.$rootScope.userId=userId},StateHandlerService.prototype.handleUser2LeftGroup=function(){var _this=this;this.callInDigestLoop(function(){_this.userLeftGroupObservable.onNext({}),_this.$rootScope.isStartGamePage=!1,_this.showStartGameModal()})},StateHandlerService.prototype.getUserDisplayName=function(){return this.$rootScope.displayName},StateHandlerService.$inject=["$rootScope","$uibModal"],StateHandlerService}();Services.StateHandlerService=StateHandlerService,angular.module(Common.GetConstants().appName).service("Services.StateHandlerService",StateHandlerService)}(Services||(Services={}));var controllers;!function(controllers){var ConnectToGameController=function(){function ConnectToGameController(connectionHubService,$scope,stateHandler,$rootScope){this.connectionHubService=connectionHubService,this.$scope=$scope,this.stateHandler=stateHandler,this.$rootScope=$rootScope,this.initializeViewModel()}return ConnectToGameController.prototype.initializeViewModel=function(){var _this=this;this.stateHandler.setConnectToGameScope(this.$scope),this.connectionHubService.onUserLeft(function(data){return _this.onUserLeft.call(_this,data)}),this.connectionHubService.onGroupFulled(function(data){return _this.onGroupFulled.call(_this,data)}),this.connectionHubService.onConnectedToGroup(function(data){return _this.onConnectedToGroup.call(_this,data)}),this.$scope.connectToGroup=function(){return _this.connectToGroup.apply(_this)};var promise=this.connectionHubService.connectToHub().done(function(value){_this.stateHandler.setUserId(value)});this.stateHandler.handleConnectionToHub(promise),this.$scope.levels=[{level:Models.Level.Beginer,name:"Новачок"},{level:Models.Level.Intermediate,name:"Средний"},{level:Models.Level.Advanced,name:"Высокий"}],this.$rootScope.level=this.$scope.levels[1],this.$scope.changeLevel=function(level){return _this.$rootScope.level=level},this.$rootScope.displayName="Случайный игрок"},ConnectToGameController.prototype.onGroupFulled=function(groupInfo){this.groupInfo=groupInfo,this.stateHandler.handleGroupFulled()},ConnectToGameController.prototype.onUserLeft=function(groupInfo){this.groupInfo=null,this.stateHandler.handleUser2LeftGroup()},ConnectToGameController.prototype.connectToGroup=function(){var promise=this.connectionHubService.connectToNewGroup(this.stateHandler.getUserDisplayName(),this.$rootScope.level.level);this.stateHandler.handleConnectionToGroup(promise)},ConnectToGameController.prototype.onConnectedToGroup=function(userId){this.stateHandler.setUserId(userId),this.stateHandler.handleUserAddedToGroup()},ConnectToGameController.$inject=["Services.ConnectToGameService","$scope","Services.StateHandlerService","$rootScope"],ConnectToGameController}();controllers.ConnectToGameController=ConnectToGameController,angular.module(Common.GetConstants().appName).controller("controllers.ConnectToGameController",ConnectToGameController)}(controllers||(controllers={}));var controllers;!function(controllers){var GameController=function(){function GameController(connectionHubService,$scope,stateHandler,$interval,$timeout){this.connectionHubService=connectionHubService,this.$scope=$scope,this.stateHandler=stateHandler,this.$interval=$interval,this.secondsForMove=10,this.$timeout=$timeout,this.initializeViewModel()}return GameController.prototype.initializeViewModel=function(){var _this=this;this.connectionHubService.gameStarted(function(data){return _this.startGame.call(_this,data)}),this.connectionHubService.didMove(function(data){return _this.user2didMove.call(_this,data)}),this.$scope.doMove=function(variant){return _this.doMove.call(_this,variant)},this.connectionHubService.onUserLeft(function(){return _this.onUserLeft.call(_this)}),this.unsetGameInfo()},GameController.prototype.onUserLeft=function(){this.stopTimer(),this.unsetGameInfo()},GameController.prototype.unsetGameInfo=function(){var _this=this;this.gameInfo=null,this.callInDigestLoop(function(){_this.$scope.currentWord=null,_this.$scope.secondsForMoveLeft=null,_this.$scope.percentagesLeft=null,_this.$scope.isCurrentUserMove=null,_this.$scope.currentUserScore=null,_this.$scope.user2Score=null,_this.$scope.passedWords=[],_this.$scope.leftWords=[]})},GameController.prototype.startGame=function(game){var _this=this;this.gameInfo=game,this.words=game.words;var isUser1=game.user1.userId===this.stateHandler.getUserId();this.userNum=isUser1?1:2,this.$scope.$apply(function(){function shuffle(arr){for(var t,i,array=arr.slice(0),m=array.length;m;)i=Math.floor(Math.random()*m--),t=array[m],array[m]=array[i],array[i]=t;return array}_this.$scope.currentUserScore=isUser1?game.user1Score:game.user2Score,_this.$scope.user2Score=isUser1?game.user2Score:game.user1Score,_this.$scope.user2DisplayName=isUser1?game.user2.displayName:game.user1.displayName,_this.$scope.currentWordIndex=0,_this.$scope.currentWord=_this.words[0],_this.setVarinatsOrder(),_this.$scope.isCurrentUserMove=isUser1&&1===_this.gameInfo.currentMove||!isUser1&&2===_this.gameInfo.currentMove,_this.$scope.leftWords=shuffle(_this.words.slice(1))}),this.stateHandler.handleGameStarted(),this.startTimer()},GameController.prototype.callInDigestLoop=function(action){this.$scope.$$phase?action():this.$scope.$apply(function(){action()})},GameController.prototype.startTimer=function(){var _this=this;if(this.timerPromise)throw"Previous timer should be stopped";this.callInDigestLoop(function(){_this.$scope.secondsForMoveLeft=_this.secondsForMove,_this.$scope.percentagesLeft=100}),this.timerPromise=this.$interval(function(){_this.$scope.secondsForMoveLeft--,_this.$scope.percentagesLeft=_this.$scope.secondsForMoveLeft/10*100,0===_this.$scope.secondsForMoveLeft&&_this.$scope.isCurrentUserMove&&_this.passMove()},1e3,10)},GameController.prototype.stopTimer=function(){this.timerPromise&&(this.$interval.cancel(this.timerPromise),this.timerPromise=null)},GameController.prototype.user2didMove=function(moveRes){var _this=this;this.$scope.$apply(function(){_this.handleMove(moveRes,!1)})},GameController.prototype.passMove=function(){var _this=this;this.connectionHubService.passMove(this.userNum).done(function(moveResult){_this.$scope.$apply(function(){_this.handleMove(moveResult,!0)})})},GameController.prototype.doMove=function(variant){var _this=this;if(0===this.$scope.currentWord.translateVariants.filter(function(v){return v.isSelected}).length&&(this.stopTimer(),0!==this.$scope.secondsForMoveLeft)){var selectedVar=this.$scope.currentWord.translateVariants.filter(function(v){return v.variant===variant})[0];selectedVar?selectedVar.isSelected=!0:console.log("Incorrect var selected"),this.connectionHubService.doMove(this.userNum,this.$scope.currentWord.word,variant).done(function(moveResult){_this.$scope.$apply(function(){_this.handleMove(moveResult,!0)})})}},GameController.prototype.handleMove=function(moveRes,isCurrentUserMove){var _this=this;this.stopTimer();var currentUserScore=1===this.userNum?this.gameInfo.user1Score:this.gameInfo.user2Score,user2Score=1===this.userNum?this.gameInfo.user2Score:this.gameInfo.user1Score,score=isCurrentUserMove?currentUserScore:user2Score;moveRes.isCorrect?moveRes.isSuccessful?score.successfulMoves++:score.wrongMoves++:console.error(moveRes.errorMessage),moveRes.selectedVariantIndex!==-1&&(this.$scope.currentWord.translateVariants[moveRes.selectedVariantIndex].isSelected=!0),1===this.userNum?(this.$scope.currentUserScore=this.gameInfo.user1Score,this.$scope.user2Score=this.gameInfo.user2Score):(this.$scope.currentUserScore=this.gameInfo.user2Score,this.$scope.user2Score=this.gameInfo.user1Score),this.$timeout(function(){function removeFromArrayIf(arr,callback){for(var i=0;i<arr.length;){if(callback(arr[i],i))return void arr.splice(i,1);++i}}if(_this.$scope.isCurrentUserMove=!isCurrentUserMove,_this.$scope.currentWordIndex++,isCurrentUserMove){var passedWord=new Models.PassedWordInfo;passedWord.word=_this.$scope.currentWord.word,passedWord.answer=_this.$scope.currentWord.translateVariants.filter(function(i){return i.isTrue}).shift().variant,passedWord.wasPassed=moveRes.isSuccessful,_this.$scope.passedWords.push(passedWord)}_this.$scope.currentWord=_this.gameInfo.words[_this.$scope.currentWordIndex],_this.setVarinatsOrder(),removeFromArrayIf(_this.$scope.leftWords,function(w){return w.word===_this.$scope.currentWord.word}),moveRes.isLastMove?(_this.stateHandler.handleGameFinished(_this.$scope.currentUserScore.successfulMoves>_this.$scope.user2Score.successfulMoves,_this.$scope.currentUserScore.successfulMoves==_this.$scope.user2Score.successfulMoves),_this.unsetGameInfo()):_this.startTimer()},1e3,!0)},GameController.prototype.setVarinatsOrder=function(){this.$scope.currentWord&&this.$scope.currentWord.translateVariants.forEach(function(value,index){return value.order=index+1})},GameController.$inject=["Services.ConnectToGameService","$scope","Services.StateHandlerService","$interval","$timeout"],GameController}();controllers.GameController=GameController,angular.module(Common.GetConstants().appName).controller("controllers.GameController",GameController)}(controllers||(controllers={})),$(function(){$("#word, .word-left-item-caption").attr("unselectable","on").css({"-moz-user-select":"-moz-none","-o-user-select":"none","-khtml-user-select":"none","-webkit-user-select":"none","-ms-user-select":"none","user-select":"none"}).bind("selectstart",function(){return!1})}),$(function(){$(document).keypress(function(e){if(13===e.which)$(".btn-submit:visible").first().click();else if(e.which>=48&&e.which<=57){var numPressed_1=e.which-48;$(".translateVariant:visible").filter(function(index,elem){return $(elem).data("order")===numPressed_1}).first().click()}})}),$(function(){$("#user2variants").bind("DOMNodeInserted",function(){return $(".translateVariant.nohover").tooltip()})});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy90c2NyaXB0cy9hbmltYXRpb25zL3dvcmRzTGVmdEFuaW1hdGlvbi50cyIsInNyYy90c2NyaXB0cy9jb21tb24udHMiLCJzcmMvdHNjcmlwdHMvbWl4aW5zL25nU2NoZWR1bGVyLnRzIiwic3JjL3RzY3JpcHRzL2FwcC50cyIsInNyYy90c2NyaXB0cy9tb2RlbHMvVXNlci50cyIsInNyYy90c2NyaXB0cy9tb2RlbHMvZ3JvdXAudHMiLCJzcmMvdHNjcmlwdHMvbW9kZWxzL3Njb3JlLnRzIiwic3JjL3RzY3JpcHRzL21vZGVscy90cmFuc2xhdGVWYXJpYW50LnRzIiwic3JjL3RzY3JpcHRzL21vZGVscy93b3JkLnRzIiwic3JjL3RzY3JpcHRzL21vZGVscy9nYW1lLnRzIiwic3JjL3RzY3JpcHRzL21vZGVscy9nYW1lUmVzdWx0LnRzIiwic3JjL3RzY3JpcHRzL21vZGVscy9tb3ZlUmVzdWx0LnRzIiwic3JjL3RzY3JpcHRzL21vZGVscy9wYXNzZWRXb3JkSW5mby50cyIsInNyYy90c2NyaXB0cy9tb2RlbHMvbGV2ZWwudHMiLCJzcmMvdHNjcmlwdHMvc2VydmljZXMvY29ubmVjdFRvR2FtZVNlcnZpY2UudHMiLCJzcmMvdHNjcmlwdHMvc2VydmljZXMvaHViQ29ubmVjdGlvblNlcnZpY2UudHMiLCJzcmMvdHNjcmlwdHMvc2VydmljZXMvc3RhdGVIYW5kbGVyU2VydmljZS50cyIsInNyYy90c2NyaXB0cy9jb250cm9sbGVycy9jb25uZWN0aW9uQ29udHJvbGxlci50cyIsInNyYy90c2NyaXB0cy9jb250cm9sbGVycy9nYW1lQ29udHJvbGxlci50cyIsInNyYy90c2NyaXB0cy9kb20vZGlzYWJsZVNlbGVjdGlvbi50cyIsInNyYy90c2NyaXB0cy9kb20va2V5Ym9hcmRCaW5kaW5ncy50cyIsInNyYy90c2NyaXB0cy9kb20vdG9vbHRpcC50cyJdLCJuYW1lcyI6WyJnZXRXb3JkQ29udGFpbmVyUG9zdGlvbiIsIiRlbGVtZW50IiwiJCIsIngiLCJvZmZzZXQiLCJsZWZ0IiwieSIsInRvcCIsIkNvbW1vbiIsIkdldENvbnN0YW50cyIsIkNvbnN0YW50cyIsInRoaXMiLCJhcHBOYW1lIiwiaHViQ29ubmVjdFRvR3JvdXBNZXRob2ROYW1lIiwiY29ubmVjdGVkVG9Hcm91cCIsImxlZnRHcm91cCIsImdyb3VwRnVsbGVkIiwiY29tcGV0aXRpb25IdWIiLCJnYW1lU3RhcnRlZCIsImRpZE1vdmUiLCJnYW1lRmluaXNoZWQiLCJkb01vdmUiLCJwYXNzTW92ZSIsIk1peGlucyIsImFjdGlvbldyYXBwZXIiLCIkc2NvcGUiLCJhY3Rpb24iLCJzY2hlZHVsZXIiLCJzdGF0ZSIsIiQkcGhhc2UiLCJ2YWx1ZV8xIiwiJGFwcGx5IiwiTmdTY2hlZHVsZXIiLCJpbW1lZGlhdGVTY2hlZHVsZXIiLCJSeCIsIlNjaGVkdWxlciIsImltbWVkaWF0ZSIsInByb3RvdHlwZSIsIm5vdyIsInNjaGVkdWxlIiwic2NoZWR1bGVGdXR1cmUiLCJkdWVUaW1lIiwiRXJyb3IiLCJzY2hlZHVsZVJlY3Vyc2l2ZSIsInNjaGVkdWxlUmVjdXJzaXZlRnV0dXJlIiwic2NoZWR1bGVQZXJpb2RpYyIsInBlcmlvZCIsImNhdGNoIiwiaGFuZGxlciIsIkFwcCIsIkdldEFwcCIsImFwcCIsImNvbnN0YW50cyIsImFuZ3VsYXIiLCJtb2R1bGUiLCJNb2RlbHMiLCJVc2VyIiwiR3JvdXAiLCJTY29yZSIsIlRyYW5zbGF0ZVZhcmlhbnQiLCJ2YXJpYW50IiwiaXNUcnVlIiwiaXNTZWxlY3RlZCIsIldvcmQiLCJHYW1lIiwiR2FtZVJlc3VsdCIsIk1vdmVSZXN1bHQiLCJQYXNzZWRXb3JkSW5mbyIsIkxldmVsIiwiU2VydmljZXMiLCJDb25uZWN0VG9HYW1lU2VydmljZSIsImh1YkNvbm5lY3Rpb25TZXJ2aWNlIiwiY29ubmVjdGlvbiIsImdldENvbm5lY3Rpb24iLCJodWIiLCJjcmVhdGVIdWJQcm94eSIsImNvbm5lY3RUb0h1YiIsInN0YXJ0IiwibW92ZU9yZGVyIiwid29yZCIsImludm9rZSIsImNvbm5lY3RUb05ld0dyb3VwIiwiZGlzcGxheU5hbWUiLCJsZXZlbCIsIm9uQ29ubmVjdGVkVG9Hcm91cCIsImNhbGxCYWNrIiwib24iLCJtc2ciLCJvbkdyb3VwRnVsbGVkIiwib25Vc2VyTGVmdCIsIiRpbmplY3QiLCJzZXJ2aWNlIiwiSHViQ29ubmVjdGlvblNlcnZpY2UiLCJodWJDb25uZWN0aW9uIiwidXNlRGVmYXVsdFBhdGgiLCJsb2dnaW5nIiwidG9Qcm9taXNlQ3VzdG9tIiwib2JzZXJ2YWJsZSIsInByb21pc2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsInN1YnNjcmliZSIsIlN0YXRlSGFuZGxlclNlcnZpY2UiLCIkcm9vdFNjb3BlIiwiJG1vZGFsIiwiaXNTdGFydEdhbWVQYWdlIiwidXNlcklkIiwiZ3JvdXBGdWxsZWRPYnNlcnZhYmxlIiwiU3ViamVjdCIsImFkZGVkVG9Hcm91cE9ic2VydmFibGUiLCJ1c2VyTGVmdEdyb3VwT2JzZXJ2YWJsZSIsImdhbWVTdGFydGVkT2JzZXJ2YWJsZSIsImNhbGxJbkRpZ2VzdExvb3AiLCJzaG93U3RhcnRHYW1lTW9kYWwiLCJvcHQiLCJzY29wZSIsImNvbm5lY3RUb0dhbWVTY29wZSIsInRlbXBsYXRlVXJsIiwid2luZG93VGVtcGxhdGVVcmwiLCJiYWNrZHJvcCIsImtleWJvYXJkIiwiYW5pbWF0aW9uIiwic2l6ZSIsInN0YXJ0R2FtZU1vZGFsSW5zdGFuY2UiLCJvcGVuIiwic2hvd0dhbWVGaW5pc2hlZE1vZGFsV2luZG93IiwiaXNXaW4iLCJpc0RyYXciLCJ1bmRlZmluZWQiLCJjb250cm9sbGVyIiwicGxheUFnYWluIiwiY29ubmVjdFRvR3JvdXAiLCJtZXNzYWdlIiwic2V0Q29ubmVjdFRvR2FtZVNjb3BlIiwiaGFuZGxlQ29ubmVjdGlvblRvR3JvdXAiLCJfdGhpcyIsImFkZGVkVG9Hcm91cCIsInRha2UiLCJhZGRlZFRvR3JvdXBQcm9taXNlIiwiY2xvc2UiLCJ1c2VyMkNvbm5lY3RlZFByb21pc2UiLCJsb2FkaW5nR2FtZVByb21pc2UiLCJPYnNlcnZhYmxlIiwibWVyZ2UiLCJjb25uZWN0VG9Hcm91cFByb21pc2UiLCJmYWlsIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwiaGFuZGxlVXNlckFkZGVkVG9Hcm91cCIsIm9uTmV4dCIsImhhbmRsZUNvbm5lY3Rpb25Ub0h1YiIsImRvbmUiLCJjb25uZWN0VG9IdWJQcm9taXNlIiwiaGFuZGxlR2FtZUZpbmlzaGVkIiwiaGFuZGxlR3JvdXBGdWxsZWQiLCJoYW5kbGVHYW1lU3RhcnRlZCIsImdldFVzZXJJZCIsInNldFVzZXJJZCIsImhhbmRsZVVzZXIyTGVmdEdyb3VwIiwiZ2V0VXNlckRpc3BsYXlOYW1lIiwiY29udHJvbGxlcnMiLCJDb25uZWN0VG9HYW1lQ29udHJvbGxlciIsImNvbm5lY3Rpb25IdWJTZXJ2aWNlIiwic3RhdGVIYW5kbGVyIiwiaW5pdGlhbGl6ZVZpZXdNb2RlbCIsImRhdGEiLCJjYWxsIiwiYXBwbHkiLCJ2YWx1ZSIsImxldmVscyIsIkJlZ2luZXIiLCJuYW1lIiwiSW50ZXJtZWRpYXRlIiwiQWR2YW5jZWQiLCJjaGFuZ2VMZXZlbCIsImdyb3VwSW5mbyIsIkdhbWVDb250cm9sbGVyIiwiJGludGVydmFsIiwiJHRpbWVvdXQiLCJzZWNvbmRzRm9yTW92ZSIsInN0YXJ0R2FtZSIsInVzZXIyZGlkTW92ZSIsInVuc2V0R2FtZUluZm8iLCJzdG9wVGltZXIiLCJnYW1lSW5mbyIsImN1cnJlbnRXb3JkIiwic2Vjb25kc0Zvck1vdmVMZWZ0IiwicGVyY2VudGFnZXNMZWZ0IiwiaXNDdXJyZW50VXNlck1vdmUiLCJjdXJyZW50VXNlclNjb3JlIiwidXNlcjJTY29yZSIsInBhc3NlZFdvcmRzIiwibGVmdFdvcmRzIiwiZ2FtZSIsIndvcmRzIiwiaXNVc2VyMSIsInVzZXIxIiwidXNlck51bSIsInNodWZmbGUiLCJhcnIiLCJ0IiwiaSIsImFycmF5Iiwic2xpY2UiLCJtIiwibGVuZ3RoIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwidXNlcjFTY29yZSIsInVzZXIyRGlzcGxheU5hbWUiLCJ1c2VyMiIsImN1cnJlbnRXb3JkSW5kZXgiLCJzZXRWYXJpbmF0c09yZGVyIiwiY3VycmVudE1vdmUiLCJzdGFydFRpbWVyIiwidGltZXJQcm9taXNlIiwiY2FuY2VsIiwibW92ZVJlcyIsImhhbmRsZU1vdmUiLCJtb3ZlUmVzdWx0IiwidHJhbnNsYXRlVmFyaWFudHMiLCJmaWx0ZXIiLCJ2Iiwic2VsZWN0ZWRWYXIiLCJzY29yZSIsImlzQ29ycmVjdCIsImlzU3VjY2Vzc2Z1bCIsInN1Y2Nlc3NmdWxNb3ZlcyIsIndyb25nTW92ZXMiLCJlcnJvck1lc3NhZ2UiLCJzZWxlY3RlZFZhcmlhbnRJbmRleCIsInJlbW92ZUZyb21BcnJheUlmIiwiY2FsbGJhY2siLCJzcGxpY2UiLCJwYXNzZWRXb3JkIiwiYW5zd2VyIiwic2hpZnQiLCJ3YXNQYXNzZWQiLCJwdXNoIiwidyIsImlzTGFzdE1vdmUiLCJmb3JFYWNoIiwiaW5kZXgiLCJvcmRlciIsImF0dHIiLCJjc3MiLCItbW96LXVzZXItc2VsZWN0IiwiLW8tdXNlci1zZWxlY3QiLCIta2h0bWwtdXNlci1zZWxlY3QiLCItd2Via2l0LXVzZXItc2VsZWN0IiwiLW1zLXVzZXItc2VsZWN0IiwidXNlci1zZWxlY3QiLCJiaW5kIiwiZG9jdW1lbnQiLCJrZXlwcmVzcyIsImUiLCJ3aGljaCIsImZpcnN0IiwiY2xpY2siLCJudW1QcmVzc2VkXzEiLCJlbGVtIiwidG9vbHRpcCJdLCJtYXBwaW5ncyI6IkFBNkJBLFFBQUFBLDJCQUNJLEdBQUlDLFVBQVdDLEVBQUUsZ0JBRWpCLFFBQ0lDLEVBQUdGLFNBQVNHLFNBQVNDLEtBQ3JCQyxFQUFHTCxTQUFTRyxTQUFTRyxLQzFCN0IsR0FBT0MsU0FBUCxTQUFPQSxRQTZCSCxRQUFBQyxnQkFDSSxNQUFPLElBQUlDLFdBN0JmLEdBQUFBLFdBQUEsV0FhSSxRQUFBQSxhQUNJQyxLQUFLQyxRQUFVLFVBQ2ZELEtBQUtFLDRCQUE4QixVQUNuQ0YsS0FBS0csaUJBQW1CLFlBQ3hCSCxLQUFLSSxVQUFZLFdBQ2pCSixL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UzNNLEtBQUtjLE9BQU9pSyxhQUlqQi9LLEtBQUtjLE9BQU9pSyxZQUFZb0Msa0JBQWtCcUIsUUFBUSxTQUFDMUUsTUFBTzJFLE9BQVUsTUFBQTNFLE9BQU00RSxNQUFRRCxNQUFRLEtBL092Rm5FLGVBQUF2RixTQUFXLGdDQUFpQyxTQUFVLCtCQUFnQyxZQUFhLFlBaVA5R3VGLGlCQTdQYWhCLGFBQUFnQixlQUFjQSxlQStQM0I1SCxRQUFRQyxPQUFPOUMsT0FBT0MsZUFBZUcsU0FBU3FILFdBQVcsNkJBQThCZ0QsaUJBaFFwRmhCLGNBQUFBLGlCQ0RQL0osRUFBRSxXQUVFQSxFQUFFLGtDQUFrQ29QLEtBQUssZUFBZSxNQUN0REMsS0FBS0MsbUJBQW1CLFlBQ25CQyxpQkFBaUIsT0FDakJDLHFCQUFxQixPQUNyQkMsc0JBQXNCLE9BQ3RCQyxrQkFBa0IsT0FDbEJDLGNBQWMsU0FDakJDLEtBQUssY0FBZSxXQUFZLE9BQU8sTUNUL0M1UCxFQUFFLFdBQ0VBLEVBQUU2UCxVQUFVQyxTQUFTLFNBQUFDLEdBQ2pCLEdBQWdCLEtBQVpBLEVBQUVDLE1BQ0ZoUSxFQUFFLHVCQUF1QmlRLFFBQVFDLFlBQzlCLElBQUlILEVBQUVDLE9BQVMsSUFBTUQsRUFBRUMsT0FBUyxHQUFJLENBQ3ZDLEdBQUlHLGNBQWFKLEVBQUVDLE1BQVEsRUFDM0JoUSxHQUFFLDZCQUE2QjZOLE9BQU8sU0FBQ3FCLE1BQU9rQixNQUFTLE1BQUFwUSxHQUFFb1EsTUFBTWhHLEtBQUssV0FBYStGLGVBQzVFRixRQUNBQyxhQ1JqQmxRLEVBQUUsV0FDRUEsRUFBRSxrQkFBa0I0UCxLQUFLLGtCQUFtQixXQUFNLE1BQUM1UCxHQUFFLDZCQUFxQ3FRIiwiZmlsZSI6ImN1c3RvbS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9jb21tb24udHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vYXBwLnRzXCIgLz5cclxuaW50ZXJmYWNlIFBvaW50IHtcclxuICAgIHg6IG51bWJlcjtcclxuICAgIHk6IG51bWJlcjtcclxufTtcclxuXHJcbi8vIEFwcC5HZXRBcHAoKS5hbmltYXRpb24oJy53b3Jkcy1sZWZ0LWl0ZW0nLCBmdW5jdGlvbigpOmFuZ3VsYXIuYW5pbWF0ZS5JQW5pbWF0ZUNhbGxiYWNrT2JqZWN0IHtcclxuLy8gICAgIHJldHVybiB7XHJcbi8vICAgICAgICAgbGVhdmU6IGZ1bmN0aW9uKGVsZW1lbnQ6IEpRdWVyeSwgZG9uZTogRnVuY3Rpb24pIHtcclxuLy8gICAgICAgICAgICAgbGV0ICRlbGVtZW50ID0gJChlbGVtZW50KTtcclxuLy8gICAgICAgICAgICAgdmFyIHRhcmdldFBvcyA9IGdldFdvcmRDb250YWluZXJQb3N0aW9uKCk7XHJcbi8vICAgICAgICAgICAgIC8vICRlbGVtZW50LmFuaW1hdGUoe1xyXG4vLyAgICAgICAgICAgICAvLyAgICAgb3Bhc2l0eTogMCxcclxuLy8gICAgICAgICAgICAgLy8gICAgIHRvcDogdGFyZ2V0UG9zLnksXHJcbi8vICAgICAgICAgICAgIC8vICAgICBsZWZ0OiB0YXJnZXRQb3MueFxyXG4vLyAgICAgICAgICAgICAvLyB9LCBkb25lKTtcclxuLy8gICAgICAgICAgICAgZG9uZSgpO1xyXG5cclxuLy8gICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGlzQ2FuY2VsbGVkOiBib29sZWFuKSB7XHJcbi8vICAgICAgICAgICAgICAgICBpZiAoaXNDYW5jZWxsZWQpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAkZWxlbWVudC5zdG9wKCk7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9O1xyXG4vLyB9KVxyXG5cclxuXHJcbmZ1bmN0aW9uIGdldFdvcmRDb250YWluZXJQb3N0aW9uKCk6IFBvaW50IHtcclxuICAgIGxldCAkZWxlbWVudCA9ICQoJyN3b3JkLWVsZW1lbnQnKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHg6ICRlbGVtZW50Lm9mZnNldCgpLmxlZnQsXHJcbiAgICAgICAgeTogJGVsZW1lbnQub2Zmc2V0KCkudG9wXHJcbiAgICB9XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vdHlwaW5ncy9nbG9iYWxzL2FuZ3VsYXIvaW5kZXguZC50c1wiIC8+XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi90eXBpbmdzL2dsb2JhbHMvanF1ZXJ5L2luZGV4LmQudHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vdHlwaW5ncy9nbG9iYWxzL3NpZ25hbHIvaW5kZXguZC50c1wiIC8+XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi90eXBpbmdzL2dsb2JhbHMvZXM2LXNoaW0vaW5kZXguZC50c1wiIC8+XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi90eXBpbmdzL2dsb2JhbHMvYW5ndWxhci11aS1ib290c3RyYXAvaW5kZXguZC50c1wiIC8+XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi9ub2RlX21vZHVsZXMvcngvdHMvcnguZC50c1wiIC8+XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi90eXBpbmdzL2dsb2JhbHMvcnguYW5ndWxhci9pbmRleC5kLnRzXCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL3R5cGluZ3MvZ2xvYmFscy9hbmd1bGFyLWFuaW1hdGUvaW5kZXguZC50c1wiIC8+XHJcbm1vZHVsZSBDb21tb24ge1xyXG4gICAgZXhwb3J0IGNsYXNzIENvbnN0YW50cyB7XHJcbiAgICAgICAgcHVibGljIGFwcE5hbWU6IHN0cmluZztcclxuICAgICAgICBwdWJsaWMgaHViQ29ubmVjdFRvR3JvdXBNZXRob2ROYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgcHVibGljIGNvbm5lY3RlZFRvR3JvdXA6IHN0cmluZztcclxuICAgICAgICBwdWJsaWMgbGVmdEdyb3VwOiBzdHJpbmc7XHJcbiAgICAgICAgcHVibGljIGdyb3VwRnVsbGVkOiBzdHJpbmc7XHJcbiAgICAgICAgcHVibGljIGNvbXBldGl0aW9uSHViOiBzdHJpbmc7XHJcbiAgICAgICAgcHVibGljIGdhbWVTdGFydGVkOiBzdHJpbmc7XHJcbiAgICAgICAgcHVibGljIGRpZE1vdmU6IHN0cmluZztcclxuICAgICAgICBwdWJsaWMgZ2FtZUZpbmlzaGVkOiBzdHJpbmc7XHJcbiAgICAgICAgcHVibGljIGRvTW92ZTogc3RyaW5nO1xyXG4gICAgICAgIHB1YmxpYyBwYXNzTW92ZTogc3RyaW5nO1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICAgICAgdGhpcy5hcHBOYW1lID0gXCJnYW1lQXBwXCJcclxuICAgICAgICAgICAgdGhpcy5odWJDb25uZWN0VG9Hcm91cE1ldGhvZE5hbWUgPSBcImNvbm5lY3RcIjtcclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0ZWRUb0dyb3VwID0gXCJ1c2VyQWRkZWRcIjtcclxuICAgICAgICAgICAgdGhpcy5sZWZ0R3JvdXAgPSBcInVzZXJMZWZ0XCI7XHJcbiAgICAgICAgICAgIHRoaXMuZ3JvdXBGdWxsZWQgPSBcImdyb3VwRnVsbGVkXCI7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcGV0aXRpb25IdWIgPSBcImNvbXBldGl0aW9uSHViXCI7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZVN0YXJ0ZWQgPSBcImdhbWVTdGFydGVkXCI7XHJcbiAgICAgICAgICAgIHRoaXMuZGlkTW92ZSA9IFwiZGlkTW92ZVwiO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVGaW5pc2hlZCA9IFwiZ2FtZUZpbmlzaGVkXCI7XHJcbiAgICAgICAgICAgIHRoaXMuZG9Nb3ZlID0gXCJkb01vdmVcIjtcclxuICAgICAgICAgICAgdGhpcy5wYXNzTW92ZSA9IFwicGFzc01vdmVcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGV4cG9ydCBmdW5jdGlvbiAgR2V0Q29uc3RhbnRzKCk6IENvbnN0YW50cyB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDb25zdGFudHMoKTtcclxuICAgIH1cclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9jb21tb24udHNcIiAvPlxyXG5tb2R1bGUgTWl4aW5zIHtcclxuICAgIGZ1bmN0aW9uIGFjdGlvbldyYXBwZXI8VFN0YXRlPigkc2NvcGU6IG5nLklTY29wZSwgYWN0aW9uOiAoc2NoZWR1bGVyOiBSeC5JU2NoZWR1bGVyLCBzdGF0ZTogVFN0YXRlKSA9PiBSeC5JRGlzcG9zYWJsZSk6IFxyXG4gICAgKHNjaGVkdWxlcjogUnguSVNjaGVkdWxlciwgc3RhdGU6IFRTdGF0ZSkgPT4gUnguSURpc3Bvc2FibGUgIHtcclxuICAgICAgICByZXR1cm4gKHNjaGVkdWxlcjogUnguSVNjaGVkdWxlciwgc3RhdGU6IFRTdGF0ZSk6IFJ4LklEaXNwb3NhYmxlID0+IHtcclxuICAgICAgICAgICAgaWYgKCEkc2NvcGUuJCRwaGFzZSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlOiBSeC5JRGlzcG9zYWJsZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS4kYXBwbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gYWN0aW9uKHNjaGVkdWxlciwgc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGFjdGlvbihzY2hlZHVsZXIsIHN0YXRlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIE5nU2NoZWR1bGVyIGltcGxlbWVudHMgUnguSVNjaGVkdWxlciB7XHJcbiAgICAgICAgcHJpdmF0ZSBpbW1lZGlhdGVTY2hlZHVsZXI6IFJ4LklTY2hlZHVsZXI7XHJcbiAgICAgICAgcHJpdmF0ZSAkc2NvcGU6IG5nLklTY29wZTtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoJHNjb3BlOiBuZy5JU2NvcGUpIHtcclxuICAgICAgICAgICAgdGhpcy5pbW1lZGlhdGVTY2hlZHVsZXIgPSBSeC5TY2hlZHVsZXIuaW1tZWRpYXRlO1xyXG4gICAgICAgICAgICB0aGlzLiRzY29wZSA9ICRzY29wZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG5vdygpOiBudW1iZXIge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbW1lZGlhdGVTY2hlZHVsZXIubm93KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgICogU2NoZWR1bGVzIGFuIGFjdGlvbiB0byBiZSBleGVjdXRlZC5cclxuICAgICAgICAgICogQHBhcmFtIHN0YXRlIFN0YXRlIHBhc3NlZCB0byB0aGUgYWN0aW9uIHRvIGJlIGV4ZWN1dGVkLlxyXG4gICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhY3Rpb24gQWN0aW9uIHRvIGJlIGV4ZWN1dGVkLlxyXG4gICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gVGhlIGRpc3Bvc2FibGUgb2JqZWN0IHVzZWQgdG8gY2FuY2VsIHRoZSBzY2hlZHVsZWQgYWN0aW9uIChiZXN0IGVmZm9ydCkuXHJcbiAgICAgICAgICAqL1xyXG4gICAgICAgIHNjaGVkdWxlPFRTdGF0ZT4oc3RhdGU6IFRTdGF0ZSwgYWN0aW9uOiAoc2NoZWR1bGVyOiBSeC5JU2NoZWR1bGVyLCBzdGF0ZTogVFN0YXRlKSA9PiBSeC5JRGlzcG9zYWJsZSk6IFJ4LklEaXNwb3NhYmxlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW1tZWRpYXRlU2NoZWR1bGVyLnNjaGVkdWxlKHN0YXRlLCBhY3Rpb25XcmFwcGVyKHRoaXMuJHNjb3BlLCBhY3Rpb24pKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNjaGVkdWxlcyBhbiBhY3Rpb24gdG8gYmUgZXhlY3V0ZWQgYWZ0ZXIgZHVlVGltZS5cclxuICAgICAgICAgKiBAcGFyYW0gc3RhdGUgU3RhdGUgcGFzc2VkIHRvIHRoZSBhY3Rpb24gdG8gYmUgZXhlY3V0ZWQuXHJcbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYWN0aW9uIEFjdGlvbiB0byBiZSBleGVjdXRlZC5cclxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gZHVlVGltZSBSZWxhdGl2ZSB0aW1lIGFmdGVyIHdoaWNoIHRvIGV4ZWN1dGUgdGhlIGFjdGlvbi5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gVGhlIGRpc3Bvc2FibGUgb2JqZWN0IHVzZWQgdG8gY2FuY2VsIHRoZSBzY2hlZHVsZWQgYWN0aW9uIChiZXN0IGVmZm9ydCkuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgc2NoZWR1bGVGdXR1cmU8VFN0YXRlPihzdGF0ZTogVFN0YXRlLCBkdWVUaW1lOiBudW1iZXIgfCBEYXRlLCBhY3Rpb246IChzY2hlZHVsZXI6IFJ4LklTY2hlZHVsZXIsIHN0YXRlOiBUU3RhdGUpID0+IFJ4LklEaXNwb3NhYmxlKTogUnguSURpc3Bvc2FibGUge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3Qgc3VwcG9ydGVkXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU2NoZWR1bGVzIGFuIGFjdGlvbiB0byBiZSBleGVjdXRlZCByZWN1cnNpdmVseS5cclxuICAgICAgICAgKiBAcGFyYW0ge01peGVkfSBzdGF0ZSBTdGF0ZSBwYXNzZWQgdG8gdGhlIGFjdGlvbiB0byBiZSBleGVjdXRlZC5cclxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhY3Rpb24gQWN0aW9uIHRvIGV4ZWN1dGUgcmVjdXJzaXZlbHkuIFRoZSBsYXN0IHBhcmFtZXRlciBwYXNzZWQgdG8gdGhlIGFjdGlvbiBpcyB1c2VkIHRvIHRyaWdnZXIgcmVjdXJzaXZlIHNjaGVkdWxpbmcgb2YgdGhlIGFjdGlvbiwgcGFzc2luZyBpbiByZWN1cnNpdmUgaW52b2NhdGlvbiBzdGF0ZS5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gVGhlIGRpc3Bvc2FibGUgb2JqZWN0IHVzZWQgdG8gY2FuY2VsIHRoZSBzY2hlZHVsZWQgYWN0aW9uIChiZXN0IGVmZm9ydCkuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgc2NoZWR1bGVSZWN1cnNpdmU8VFN0YXRlPihzdGF0ZTogVFN0YXRlLCBhY3Rpb246IChzdGF0ZTogVFN0YXRlLCBhY3Rpb246IChzdGF0ZTogVFN0YXRlKSA9PiB2b2lkKSA9PiB2b2lkKTogUnguSURpc3Bvc2FibGUge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3Qgc3VwcG9ydGVkXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU2NoZWR1bGVzIGFuIGFjdGlvbiB0byBiZSBleGVjdXRlZCByZWN1cnNpdmVseSBhZnRlciBhIHNwZWNpZmllZCByZWxhdGl2ZSBkdWUgdGltZS5cclxuICAgICAgICAgKiBAcGFyYW0ge01peGVkfSBzdGF0ZSBTdGF0ZSBwYXNzZWQgdG8gdGhlIGFjdGlvbiB0byBiZSBleGVjdXRlZC5cclxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhY3Rpb24gQWN0aW9uIHRvIGV4ZWN1dGUgcmVjdXJzaXZlbHkuIFRoZSBsYXN0IHBhcmFtZXRlciBwYXNzZWQgdG8gdGhlIGFjdGlvbiBpcyB1c2VkIHRvIHRyaWdnZXIgcmVjdXJzaXZlIHNjaGVkdWxpbmcgb2YgdGhlIGFjdGlvbiwgcGFzc2luZyBpbiB0aGUgcmVjdXJzaXZlIGR1ZSB0aW1lIGFuZCBpbnZvY2F0aW9uIHN0YXRlLlxyXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfWR1ZVRpbWUgUmVsYXRpdmUgdGltZSBhZnRlciB3aGljaCB0byBleGVjdXRlIHRoZSBhY3Rpb24gZm9yIHRoZSBmaXJzdCB0aW1lLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBUaGUgZGlzcG9zYWJsZSBvYmplY3QgdXNlZCB0byBjYW5jZWwgdGhlIHNjaGVkdWxlZCBhY3Rpb24gKGJlc3QgZWZmb3J0KS5cclxuICAgICAgICAgKi9cclxuICAgICAgICBzY2hlZHVsZVJlY3Vyc2l2ZUZ1dHVyZTxUU3RhdGUsIFRUaW1lIGV4dGVuZHMgbnVtYmVyIHwgRGF0ZT4oc3RhdGU6IFRTdGF0ZSwgZHVlVGltZTogVFRpbWUsIGFjdGlvbjogKHN0YXRlOiBUU3RhdGUsIGFjdGlvbjogKHN0YXRlOiBUU3RhdGUsIGR1ZVRpbWU6IFRUaW1lKSA9PiB2b2lkKSA9PiB2b2lkKTogUnguSURpc3Bvc2FibGUge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3Qgc3VwcG9ydGVkXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU2NoZWR1bGVzIGEgcGVyaW9kaWMgcGllY2Ugb2Ygd29yayBieSBkeW5hbWljYWxseSBkaXNjb3ZlcmluZyB0aGUgc2NoZWR1bGVyJ3MgY2FwYWJpbGl0aWVzLiBUaGUgcGVyaW9kaWMgdGFzayB3aWxsIGJlIHNjaGVkdWxlZCB1c2luZyB3aW5kb3cuc2V0SW50ZXJ2YWwgZm9yIHRoZSBiYXNlIGltcGxlbWVudGF0aW9uLlxyXG4gICAgICAgICAqIEBwYXJhbSB7TWl4ZWR9IHN0YXRlIEluaXRpYWwgc3RhdGUgcGFzc2VkIHRvIHRoZSBhY3Rpb24gdXBvbiB0aGUgZmlyc3QgaXRlcmF0aW9uLlxyXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwZXJpb2QgUGVyaW9kIGZvciBydW5uaW5nIHRoZSB3b3JrIHBlcmlvZGljYWxseS5cclxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhY3Rpb24gQWN0aW9uIHRvIGJlIGV4ZWN1dGVkLCBwb3RlbnRpYWxseSB1cGRhdGluZyB0aGUgc3RhdGUuXHJcbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFRoZSBkaXNwb3NhYmxlIG9iamVjdCB1c2VkIHRvIGNhbmNlbCB0aGUgc2NoZWR1bGVkIHJlY3VycmluZyBhY3Rpb24gKGJlc3QgZWZmb3J0KS5cclxuICAgICAgICAgKi9cclxuICAgICAgICBzY2hlZHVsZVBlcmlvZGljPFRTdGF0ZT4oc3RhdGU6IFRTdGF0ZSwgcGVyaW9kOiBudW1iZXIsIGFjdGlvbjogKHN0YXRlOiBUU3RhdGUpID0+IFRTdGF0ZSk6IFJ4LklEaXNwb3NhYmxlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IHN1cHBvcnRlZFwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNhdGNoKGhhbmRsZXI6IEZ1bmN0aW9uKTogUnguSVNjaGVkdWxlciB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmltbWVkaWF0ZVNjaGVkdWxlci5jYXRjaChoYW5kbGVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiY29tbW9uLnRzXCIgLz5cclxubW9kdWxlIEFwcCB7XHJcbiAgICB2YXIgY29uc3RhbnRzID0gQ29tbW9uLkdldENvbnN0YW50cygpO1xyXG4gICAgdmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKGNvbnN0YW50cy5hcHBOYW1lLCBbJ3VpLmJvb3RzdHJhcC5tb2RhbCcsJ2NnQnVzeScsICduZ0FuaW1hdGUnXSk7XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIEdldEFwcCgpOiBuZy5JTW9kdWxlIHtcclxuICAgICAgICByZXR1cm4gYXBwO1xyXG4gICAgfVxyXG59IiwibW9kdWxlIE1vZGVscyB7XHJcbiAgICBleHBvcnQgY2xhc3MgVXNlciB7XHJcbiAgICAgICAgcHVibGljIHVzZXJJZDogc3RyaW5nO1xyXG4gICAgICAgIHB1YmxpYyBkaXNwbGF5TmFtZTogc3RyaW5nO1xyXG4gICAgfVxyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vVXNlci50c1wiIC8+XHJcbm1vZHVsZSBNb2RlbHMge1xyXG4gICAgZXhwb3J0IGNsYXNzIEdyb3VwIHtcclxuICAgICAgICBwdWJsaWMgZ3JvdXBJZDogc3RyaW5nO1xyXG5cclxuICAgICAgICBwdWJsaWMgdXNlcnNMaXN0OiBBcnJheTxNb2RlbHMuVXNlcj5cclxuICAgIH1cclxufSIsIm1vZHVsZSBNb2RlbHMge1xyXG4gICAgZXhwb3J0IGNsYXNzIFNjb3JlIHtcclxuICAgICAgICBwdWJsaWMgc3VjY2Vzc2Z1bE1vdmVzOiBudW1iZXI7XHJcblxyXG4gICAgICAgIHB1YmxpYyB3cm9uZ01vdmVzOiBudW1iZXI7XHJcbiAgICB9XHJcbn0iLCJtb2R1bGUgTW9kZWxzIHtcclxuICAgIGV4cG9ydCBjbGFzcyBUcmFuc2xhdGVWYXJpYW50IHtcclxuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICAgICAgdGhpcy52YXJpYW50ID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5pc1RydWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5pc1NlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgdmFyaWFudDogc3RyaW5nO1xyXG5cclxuICAgICAgICBwdWJsaWMgaXNUcnVlOiBib29sZWFuO1xyXG5cclxuICAgICAgICBwdWJsaWMgaXNTZWxlY3RlZDogYm9vbGVhbjtcclxuXHJcbiAgICAgICAgcHVibGljIG9yZGVyOiBudW1iZXI7XHJcbiAgICB9XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi90cmFuc2xhdGVWYXJpYW50LnRzXCIgLz5cclxubW9kdWxlIE1vZGVscyB7XHJcbiAgICBleHBvcnQgY2xhc3MgV29yZCB7XHJcbiAgICAgICAgcHVibGljIHdvcmQ6IHN0cmluZztcclxuXHJcbiAgICAgICAgcHVibGljIHRyYW5zbGF0ZVZhcmlhbnRzOiBBcnJheTxUcmFuc2xhdGVWYXJpYW50PlxyXG5cclxuICAgICAgICBwdWJsaWMgZXhwbGFuYXRpb25RdW90ZXM6IEFycmF5PHN0cmluZz5cclxuXHJcbiAgICAgICAgcHVibGljIGRlZmluaXRpb246IHN0cmluZztcclxuXHJcbiAgICAgICAgcHVibGljIHNob3J0V29yZFJlcHJlc2VudGF0aW9uOiBzdHJpbmc7XHJcbiAgICB9XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi9zY29yZS50c1wiIC8+XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuL3dvcmQudHNcIiAvPlxyXG5tb2R1bGUgTW9kZWxzIHtcclxuICAgIGV4cG9ydCBjbGFzcyBHYW1lIHtcclxuICAgICAgICBwdWJsaWMgdXNlcjE6IFVzZXI7XHJcblxyXG4gICAgICAgIHB1YmxpYyB1c2VyMjogVXNlcjtcclxuXHJcbiAgICAgICAgcHVibGljIGN1cnJlbnRNb3ZlOiBudW1iZXI7XHJcblxyXG4gICAgICAgIHB1YmxpYyB3b3JkczogQXJyYXk8V29yZD5cclxuXHJcbiAgICAgICAgcHVibGljIHVzZXIxU2NvcmU6IFNjb3JlO1xyXG5cclxuICAgICAgICBwdWJsaWMgdXNlcjJTY29yZTogU2NvcmU7XHJcbiAgICB9XHJcbn0iLCJtb2R1bGUgTW9kZWxzIHtcclxuICAgIGV4cG9ydCBjbGFzcyBHYW1lUmVzdWx0IHtcclxuICAgICAgICBwdWJsaWMgd2lubmVyOiBudW1iZXI7XHJcblxyXG4gICAgICAgIHB1YmxpYyBpc0RyYXc6IGJvb2xlYW47XHJcbiAgICB9XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi9nYW1lUmVzdWx0LnRzXCIgLz5cclxubW9kdWxlIE1vZGVscyB7XHJcbiAgICBleHBvcnQgY2xhc3MgTW92ZVJlc3VsdCB7XHJcbiAgICAgICAgcHVibGljIGlzU3VjY2Vzc2Z1bDogYm9vbGVhbjtcclxuXHJcbiAgICAgICAgcHVibGljIGlzQ29ycmVjdDogYm9vbGVhbjtcclxuXHJcbiAgICAgICAgcHVibGljIGVycm9yTWVzc2FnZTogc3RyaW5nO1xyXG5cclxuICAgICAgICBwdWJsaWMgaXNMYXN0TW92ZTogYm9vbGVhbjtcclxuXHJcbiAgICAgICAgcHVibGljIGdhbWVSZXN1bHQ6IE1vZGVscy5HYW1lUmVzdWx0O1xyXG5cclxuICAgICAgICBwdWJsaWMgc2VsZWN0ZWRWYXJpYW50SW5kZXg6IG51bWJlcjtcclxuICAgIH1cclxufSIsIm1vZHVsZSBNb2RlbHMge1xyXG4gICAgZXhwb3J0IGNsYXNzIFBhc3NlZFdvcmRJbmZvIHtcclxuICAgICAgICBwdWJsaWMgd29yZDogc3RyaW5nO1xyXG4gICAgICAgIHB1YmxpYyBhbnN3ZXI6IHN0cmluZztcclxuXHJcbiAgICAgICAgcHVibGljIHdhc1Bhc3NlZDogYm9vbGVhbjtcclxuICAgIH1cclxufSIsIm1vZHVsZSBNb2RlbHMge1xyXG4gICAgZXhwb3J0IGVudW0gTGV2ZWwge1xyXG4gICAgICAgIEJlZ2luZXIgPSAxLFxyXG5cclxuICAgICAgICBJbnRlcm1lZGlhdGUgPSAyLFxyXG5cclxuICAgICAgICBBZHZhbmNlZCA9IDNcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIElMZXZlbE5hbWVQYWlyIHtcclxuICAgICAgICBuYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgbGV2ZWw6IE1vZGVscy5MZXZlbDtcclxuICAgIH1cclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9pbnRlcmZhY2VzLnRzXCIgLz5cclxubW9kdWxlIFNlcnZpY2VzIHtcclxuICAgIGV4cG9ydCBjbGFzcyBDb25uZWN0VG9HYW1lU2VydmljZSBpbXBsZW1lbnRzIEludGVyZmFjZXMuSUNvbm5lY3RUb0dhbWUge1xyXG4gICAgICAgIHByaXZhdGUgaHViOiBTaWduYWxSLkh1Yi5Qcm94eTtcclxuICAgICAgICBwcml2YXRlIGNvbm5lY3Rpb246IFNpZ25hbFIuSHViLkNvbm5lY3Rpb247XHJcbiAgICAgICAgcHJpdmF0ZSBjb25zdGFudHM6IENvbW1vbi5Db25zdGFudHM7XHJcblxyXG4gICAgICAgIHN0YXRpYyAkaW5qZWN0ID0gW1wiU2VydmljZXMuSHViQ29ubmVjdGlvblNlcnZpY2VcIl07XHJcbiAgICAgICAgY29uc3RydWN0b3IoaHViQ29ubmVjdGlvblNlcnZpY2U6IEludGVyZmFjZXMuSUh1YkNvbm5lY3Rpb24pIHtcclxuICAgICAgICAgICAgdGhpcy5jb25zdGFudHMgPSBDb21tb24uR2V0Q29uc3RhbnRzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbiA9IGh1YkNvbm5lY3Rpb25TZXJ2aWNlLmdldENvbm5lY3Rpb24oKTtcclxuICAgICAgICAgICAgdGhpcy5odWIgPSB0aGlzLmNvbm5lY3Rpb24uY3JlYXRlSHViUHJveHkodGhpcy5jb25zdGFudHMuY29tcGV0aXRpb25IdWIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGNvbm5lY3RUb0h1YigpOiBKUXVlcnlQcm9taXNlPGFueT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5odWIuY29ubmVjdGlvbi5zdGFydCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGRvTW92ZShtb3ZlT3JkZXI6IG51bWJlciwgd29yZDogc3RyaW5nLCB2YXJpYW50OnN0cmluZyk6IEpRdWVyeVByb21pc2U8TW9kZWxzLk1vdmVSZXN1bHQ+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaHViLmludm9rZSh0aGlzLmNvbnN0YW50cy5kb01vdmUsIG1vdmVPcmRlciwgd29yZCwgdmFyaWFudCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgcGFzc01vdmUobW92ZU9yZGVyOiBudW1iZXIpOiBKUXVlcnlQcm9taXNlPE1vZGVscy5Nb3ZlUmVzdWx0PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmh1Yi5pbnZva2UodGhpcy5jb25zdGFudHMucGFzc01vdmUsIG1vdmVPcmRlcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgY29ubmVjdFRvTmV3R3JvdXAoZGlzcGxheU5hbWU6IHN0cmluZywgbGV2ZWw6IE1vZGVscy5MZXZlbCk6IEpRdWVyeVByb21pc2U8YW55PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmh1Yi5pbnZva2UodGhpcy5jb25zdGFudHMuaHViQ29ubmVjdFRvR3JvdXBNZXRob2ROYW1lLCBkaXNwbGF5TmFtZSwgbGV2ZWwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIG9uQ29ubmVjdGVkVG9Hcm91cChjYWxsQmFjazoodXNlcklkOiBzdHJpbmcpID0+IHZvaWQpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5odWIub24odGhpcy5jb25zdGFudHMuY29ubmVjdGVkVG9Hcm91cCwgKG1zZykgPT4gY2FsbEJhY2sobXNnKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgb25Hcm91cEZ1bGxlZChjYWxsQmFjazooZ3JvdXA6IE1vZGVscy5Hcm91cCkgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLmh1Yi5vbih0aGlzLmNvbnN0YW50cy5ncm91cEZ1bGxlZCwgKG1zZykgPT4gY2FsbEJhY2sobXNnKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgb25Vc2VyTGVmdChjYWxsQmFjazooZ3JvdXA6IE1vZGVscy5Hcm91cCkgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLmh1Yi5vbih0aGlzLmNvbnN0YW50cy5sZWZ0R3JvdXAsIChtc2cpID0+IGNhbGxCYWNrKG1zZ1swXSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGdhbWVTdGFydGVkKGNhbGxCYWNrOihncm91cDogTW9kZWxzLkdhbWUpID0+IHZvaWQpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5odWIub24odGhpcy5jb25zdGFudHMuZ2FtZVN0YXJ0ZWQsIChtc2cpID0+IHtcclxuICAgICAgICAgICAgICAgIGNhbGxCYWNrKG1zZyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGRpZE1vdmUoY2FsbEJhY2s6KG1vdmVSZXM6IE1vZGVscy5Nb3ZlUmVzdWx0KSA9PiB2b2lkKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuaHViLm9uKHRoaXMuY29uc3RhbnRzLmRpZE1vdmUsIChtc2cpID0+IGNhbGxCYWNrKG1zZykpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGdhbWVGaW5pc2hlZChjYWxsQmFjazooZ3JvdXA6IE1vZGVscy5HYW1lKSA9PiB2b2lkKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuaHViLm9uKHRoaXMuY29uc3RhbnRzLmdhbWVGaW5pc2hlZCwgKG1zZykgPT4gY2FsbEJhY2sobXNnWzBdKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKENvbW1vbi5HZXRDb25zdGFudHMoKS5hcHBOYW1lKS5zZXJ2aWNlKFwiU2VydmljZXMuQ29ubmVjdFRvR2FtZVNlcnZpY2VcIiwgQ29ubmVjdFRvR2FtZVNlcnZpY2UpO1xyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2ludGVyZmFjZXMudHNcIiAvPlxyXG5tb2R1bGUgU2VydmljZXMge1xyXG4gICAgZXhwb3J0IGNsYXNzIEh1YkNvbm5lY3Rpb25TZXJ2aWNlIGltcGxlbWVudHMgSW50ZXJmYWNlcy5JSHViQ29ubmVjdGlvbiB7XHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgY29ubmVjdGlvbjogU2lnbmFsUi5IdWIuQ29ubmVjdGlvbjtcclxuXHJcbiAgICAgICAgcHVibGljIGdldENvbm5lY3Rpb24oKTogU2lnbmFsUi5IdWIuQ29ubmVjdGlvbiB7XHJcbiAgICAgICAgICAgIGlmICghSHViQ29ubmVjdGlvblNlcnZpY2UuY29ubmVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgSHViQ29ubmVjdGlvblNlcnZpY2UuY29ubmVjdGlvbiA9ICQuaHViQ29ubmVjdGlvbihcIi9zaWduYWxyXCIsIHsgdXNlRGVmYXVsdFBhdGg6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgICAgICAgSHViQ29ubmVjdGlvblNlcnZpY2UuY29ubmVjdGlvbi5sb2dnaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gSHViQ29ubmVjdGlvblNlcnZpY2UuY29ubmVjdGlvbjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBhbmd1bGFyLm1vZHVsZShDb21tb24uR2V0Q29uc3RhbnRzKCkuYXBwTmFtZSkuc2VydmljZShcIlNlcnZpY2VzLkh1YkNvbm5lY3Rpb25TZXJ2aWNlXCIsIEh1YkNvbm5lY3Rpb25TZXJ2aWNlKTtcclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9pbnRlcmZhY2VzLnRzXCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL21peGlucy9uZ1NjaGVkdWxlci50c1wiIC8+XHJcbm1vZHVsZSBTZXJ2aWNlcyB7XHJcbiAgICBmdW5jdGlvbiB0b1Byb21pc2VDdXN0b208VD4ob2JzZXJ2YWJsZTogUnguSU9ic2VydmFibGU8VD4pOiBQcm9taXNlIDxhbnk+IHtcclxuICAgICAgICBsZXQgcHJvbWlzZSA9IG5ldyBQcm9taXNlPGFueT4ocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgIG9ic2VydmFibGUuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoe30pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICB9XHJcblxyXG4gICAgaW50ZXJmYWNlIElNb2RhbFNldHRpbmdzIGV4dGVuZHMgbmcudWkuYm9vdHN0cmFwLklNb2RhbFNldHRpbmdzIHtcclxuXHJcbiAgICAgICAgLyoqIFNldHMgdGhlIGFyaWEtZGVzY3JpYmVkYnkgcHJvcGVydHkgb24gdGhlIG1vZGFsLiBcclxuICAgICAgICAgKiBUaGUgdmFsdWUgc2hvdWxkIGJlIGFuIGlkICh3aXRob3V0IHRoZSBsZWFkaW5nICMpIHBvaW50aW5nIHRvIHRoZSBlbGVtZW50IHRoYXQgZGVzY3JpYmVzIHlvdXIgbW9kYWwuIFxyXG4gICAgICAgICAqIFR5cGljYWxseSwgdGhpcyB3aWxsIGJlIHRoZSB0ZXh0IG9uIHlvdXIgbW9kYWwsXHJcbiAgICAgICAgICogIGJ1dCBkb2VzIG5vdCBpbmNsdWRlIHNvbWV0aGluZyB0aGUgdXNlciB3b3VsZCBpbnRlcmFjdCB3aXRoLCBcclxuICAgICAgICAgKiBsaWtlIGJ1dHRvbnMgb3IgYSBmb3JtLiBcclxuICAgICAgICAgKiBPbWl0dGluZyB0aGlzIG9wdGlvbiB3aWxsIG5vdCBpbXBhY3Qgc2lnaHRlZCB1c2VycyBidXQgd2lsbCB3ZWFrZW4geW91ciBhY2Nlc3NpYmlsaXR5IHN1cHBvcnQuICovXHJcbiAgICAgICAgYXJpYURlc2NyaWJlZEJ5OiBzdHJpbmc7XHJcblxyXG4gICAgICAgIC8qKiBTZXRzIHRoZSBhcmlhLWxhYmVsbGVkYnkgcHJvcGVydHkgb24gdGhlIG1vZGFsLiBcclxuICAgICAgICAgKiBUaGUgdmFsdWUgc2hvdWxkIGJlIGFuIGlkICh3aXRob3V0IHRoZSBsZWFkaW5nICMpIHBvaW50aW5nIHRvIHRoZSBlbGVtZW50IHRoYXQgbGFiZWxzIHlvdXIgbW9kYWwuIFxyXG4gICAgICAgICAqIFR5cGljYWxseSwgdGhpcyB3aWxsIGJlIGEgaGVhZGVyIGVsZW1lbnQuIFxyXG4gICAgICAgICAqIE9taXR0aW5nIHRoaXMgb3B0aW9uIHdpbGwgbm90IGltcGFjdCBzaWdodGVkIHVzZXJzIGJ1dCB3aWxsIHdlYWtlbiB5b3VyIGFjY2Vzc2liaWxpdHkgc3VwcG9ydC4gKi9cclxuICAgICAgICBhcmlhTGFiZWxsZWRCeTogc3RyaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBTdGF0ZUhhbmRsZXJTZXJ2aWNlIGltcGxlbWVudHMgSW50ZXJmYWNlcy5JU3RhdGVIYW5kbGVyIHtcclxuICAgICAgICBwcml2YXRlIGNvbnN0YW50czogQ29tbW9uLkNvbnN0YW50cztcclxuICAgICAgICBwcml2YXRlICRyb290U2NvcGU6IEludGVyZmFjZXMuSVJvb3RTY29wZTtcclxuICAgICAgICBwcml2YXRlICRtb2RhbDogYW5ndWxhci51aS5ib290c3RyYXAuSU1vZGFsU2VydmljZTtcclxuICAgICAgICBwcml2YXRlIGNvbm5lY3RUb0dhbWVTY29wZTogSW50ZXJmYWNlcy5JQ29ubmVjdFRvR2FtZVNjb3BlO1xyXG4gICAgICAgIHByaXZhdGUgZ3JvdXBGdWxsZWRPYnNlcnZhYmxlOiBSeC5TdWJqZWN0PGFueT47XHJcbiAgICAgICAgcHJpdmF0ZSBhZGRlZFRvR3JvdXBPYnNlcnZhYmxlOiBSeC5TdWJqZWN0PGFueT47XHJcbiAgICAgICAgcHJpdmF0ZSB1c2VyTGVmdEdyb3VwT2JzZXJ2YWJsZTogUnguU3ViamVjdDxhbnk+O1xyXG4gICAgICAgIHByaXZhdGUgZ2FtZVN0YXJ0ZWRPYnNlcnZhYmxlOiBSeC5TdWJqZWN0PGFueT47XHJcblxyXG4gICAgICAgIHByaXZhdGUgc3RhcnRHYW1lTW9kYWxJbnN0YW5jZTogYW5ndWxhci51aS5ib290c3RyYXAuSU1vZGFsU2VydmljZUluc3RhbmNlO1xyXG5cclxuICAgICAgICBzdGF0aWMgJGluamVjdCA9IFtcIiRyb290U2NvcGVcIiwgXCIkdWliTW9kYWxcIl07XHJcbiAgICAgICAgY29uc3RydWN0b3IoJHJvb3RTY29wZTogSW50ZXJmYWNlcy5JUm9vdFNjb3BlLCAkbW9kYWw6IGFuZ3VsYXIudWkuYm9vdHN0cmFwLklNb2RhbFNlcnZpY2UpIHtcclxuICAgICAgICAgICAgdGhpcy5jb25zdGFudHMgPSBDb21tb24uR2V0Q29uc3RhbnRzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuJG1vZGFsID0gJG1vZGFsO1xyXG4gICAgICAgICAgICB0aGlzLiRyb290U2NvcGUgPSAkcm9vdFNjb3BlO1xyXG4gICAgICAgICAgICB0aGlzLiRyb290U2NvcGUuaXNTdGFydEdhbWVQYWdlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuJHJvb3RTY29wZS51c2VySWQgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLmdyb3VwRnVsbGVkT2JzZXJ2YWJsZSA9IG5ldyBSeC5TdWJqZWN0PGFueT4oKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRlZFRvR3JvdXBPYnNlcnZhYmxlID0gbmV3IFJ4LlN1YmplY3Q8YW55PigpO1xyXG4gICAgICAgICAgICB0aGlzLnVzZXJMZWZ0R3JvdXBPYnNlcnZhYmxlID0gbmV3IFJ4LlN1YmplY3Q8YW55PigpO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVTdGFydGVkT2JzZXJ2YWJsZSA9IG5ldyBSeC5TdWJqZWN0PGFueT4oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgY2FsbEluRGlnZXN0TG9vcChhY3Rpb246KCkgPT4gdm9pZCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy4kcm9vdFNjb3BlLiQkcGhhc2UpIHtcclxuICAgICAgICAgICAgICAgIGFjdGlvbigpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kcm9vdFNjb3BlLiRhcHBseSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHNob3dTdGFydEdhbWVNb2RhbCgpOiB2b2lkIHtcclxuICAgICAgICAgICAgbGV0IG9wdCA9IHt9IGFzIG5nLnVpLmJvb3RzdHJhcC5JTW9kYWxTZXR0aW5ncztcclxuICAgICAgICAgICAgICAgIG9wdC5zY29wZSA9IHRoaXMuY29ubmVjdFRvR2FtZVNjb3BlO1xyXG4gICAgICAgICAgICAgICAgb3B0LnRlbXBsYXRlVXJsID0gXCJjb25uZWN0VG9Hcm91cC5odG1sXCI7XHJcbiAgICAgICAgICAgICAgICBvcHQud2luZG93VGVtcGxhdGVVcmwgPSBcIndpbmRvd1RlbXBsYXRlLmh0bWxcIjtcclxuICAgICAgICAgICAgICAgIG9wdC5iYWNrZHJvcCA9IFwic3RhdGljXCI7XHJcbiAgICAgICAgICAgICAgICBvcHQua2V5Ym9hcmQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIG9wdC5hbmltYXRpb24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgb3B0LnNpemUgPSBcImxnXCI7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0R2FtZU1vZGFsSW5zdGFuY2UgPSB0aGlzLiRtb2RhbC5vcGVuKG9wdCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHNob3dHYW1lRmluaXNoZWRNb2RhbFdpbmRvdyhpc1dpbj86IGJvb2xlYW4sIGlzRHJhdz86IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgICAgICAgaWYgKGlzV2luID09PSB1bmRlZmluZWQgJiYgaXNEcmF3ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IFwiT25lIG9mIGJvb2xlYW4gZmxhZ3Mgc2hvdWxkIGJlIHNwZWNpZmllZFwiO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgY29ubmVjdFRvR2FtZVNjb3BlID0gdGhpcy5jb25uZWN0VG9HYW1lU2NvcGU7XHJcbiAgICAgICAgICAgIGxldCBvcHQgPSB7fSBhcyBuZy51aS5ib290c3RyYXAuSU1vZGFsU2V0dGluZ3M7XHJcbiAgICAgICAgICAgICAgICBvcHQuY29udHJvbGxlciA9IGZ1bmN0aW9uKCRzY29wZTogSW50ZXJmYWNlcy5JR2FtZUZpbmlzaGVkTW9kYWxXaW5kb3dTY29wZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5wbGF5QWdhaW4gPSBjb25uZWN0VG9HYW1lU2NvcGUuY29ubmVjdFRvR3JvdXA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0RyYXcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1lc3NhZ2UgPSBcItCd0LjRh9GM0Y8uINCe0YLQu9C40YfQvdCw0Y8g0LjQs9GA0LAgOkQhXFxu0KXQvtGC0LjRgtC1INGB0YvQs9GA0LDRgtGMINC10YnRkSDRgNCw0Lc/XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc1dpbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWVzc2FnZSA9IFwi0J/QvtC30LTRgNCw0LLQu9C10L3QuNGPISDQktGLINCy0YvQuNCz0YDQsNC70LghXFxu0KXQvtGC0LjRgtC1INGB0YvQs9GA0LDRgtGMINC10YnRkSDRgNCw0Lc/XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1lc3NhZ2UgPSBcItCU0LDQttC1INC10YHQu9C4INC/0YDQvtC40LPRgNCw0LssINC/0YDQtdC+0LHRgNC10YLQtdC90L3Ri9C5INC+0L/Ri9GCINC+0YHRgtCw0L3QtdGC0YHRjyDQvdCw0LLRgdC10LPQtNCwINGBINGC0L7QsdC+0Lkg0Lgg0YHRgtCw0L3QtdGCINGC0LLQvtC10Lkg0L3QsNCz0YDQsNC00L7QuSA6KVxcbtCl0L7RgtC40YLQtSDRgdGL0LPRgNCw0YLRjCDQtdGJ0ZEg0YDQsNC3P1wiO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG9wdC50ZW1wbGF0ZVVybCA9IFwiZ2FtZUZpbmlzaGVkLmh0bWxcIjtcclxuICAgICAgICAgICAgICAgIG9wdC53aW5kb3dUZW1wbGF0ZVVybCA9IFwid2luZG93VGVtcGxhdGUuaHRtbFwiO1xyXG4gICAgICAgICAgICAgICAgb3B0LmJhY2tkcm9wID0gXCJzdGF0aWNcIjtcclxuICAgICAgICAgICAgICAgIG9wdC5rZXlib2FyZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgb3B0LmFuaW1hdGlvbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBvcHQuc2l6ZSA9IFwibGdcIjtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRHYW1lTW9kYWxJbnN0YW5jZSA9IHRoaXMuJG1vZGFsLm9wZW4ob3B0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzZXRDb25uZWN0VG9HYW1lU2NvcGUoY29ubmVjdFRvR2FtZVNjb3BlOiBJbnRlcmZhY2VzLklDb25uZWN0VG9HYW1lU2NvcGUpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0VG9HYW1lU2NvcGUgPSBjb25uZWN0VG9HYW1lU2NvcGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgaGFuZGxlQ29ubmVjdGlvblRvR3JvdXAocHJvbWlzZTogSlF1ZXJ5UHJvbWlzZTxhbnk+KTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsbEluRGlnZXN0TG9vcCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhZGRlZFRvR3JvdXAgPSB0aGlzLmFkZGVkVG9Hcm91cE9ic2VydmFibGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGFrZSgxKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvb3RTY29wZS5hZGRlZFRvR3JvdXBQcm9taXNlID0gdG9Qcm9taXNlQ3VzdG9tKGFkZGVkVG9Hcm91cCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRlZFRvR3JvdXAuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXJ0R2FtZU1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0R2FtZU1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0R2FtZU1vZGFsSW5zdGFuY2UgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBncm91cEZ1bGxlZCA9IHRoaXMuZ3JvdXBGdWxsZWRPYnNlcnZhYmxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGFrZSgxKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJVRzogRm9yIHNvbWUgcmVhc29uIHNvbWV0aGltZXMgaXMgbm90IHJlc29sdmVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvb3RTY29wZS51c2VyMkNvbm5lY3RlZFByb21pc2UgPSB0b1Byb21pc2VDdXN0b20oZ3JvdXBGdWxsZWQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBGdWxsZWQuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb290U2NvcGUubG9hZGluZ0dhbWVQcm9taXNlID0gdG9Qcm9taXNlQ3VzdG9tKFJ4Lk9ic2VydmFibGUubWVyZ2UodGhpcy51c2VyTGVmdEdyb3VwT2JzZXJ2YWJsZS50YWtlKDEpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWVTdGFydGVkT2JzZXJ2YWJsZS50YWtlKDEpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50YWtlKDEpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm9vdFNjb3BlLmlzU3RhcnRHYW1lUGFnZSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3RUb0dhbWVTY29wZS5jb25uZWN0VG9Hcm91cFByb21pc2UgPSBwcm9taXNlO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHByb21pc2UuZmFpbCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic210aCBiYWQgaGFwcGVuZWQ6IFwiICsgZXJyb3IpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGhhbmRsZVVzZXJBZGRlZFRvR3JvdXAoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkZWRUb0dyb3VwT2JzZXJ2YWJsZS5vbk5leHQoe30pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGhhbmRsZUNvbm5lY3Rpb25Ub0h1Yihwcm9taXNlOiBKUXVlcnlQcm9taXNlPGFueT4pOiB2b2lkIHtcclxuICAgICAgICAgICAgcHJvbWlzZS5mYWlsKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic210aCBiYWQgaGFwcGVuZWRcIik7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcHJvbWlzZS5kb25lKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxJbkRpZ2VzdExvb3AoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dTdGFydEdhbWVNb2RhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2FsbEluRGlnZXN0TG9vcCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRyb290U2NvcGUuY29ubmVjdFRvSHViUHJvbWlzZSA9IHByb21pc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGhhbmRsZUdhbWVGaW5pc2hlZChpc1dpbj86IGJvb2xlYW4sIGlzRHJhdz86IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5jYWxsSW5EaWdlc3RMb29wKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHJvb3RTY29wZS5pc1N0YXJ0R2FtZVBhZ2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0dhbWVGaW5pc2hlZE1vZGFsV2luZG93KGlzV2luLCBpc0RyYXcpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBoYW5kbGVHcm91cEZ1bGxlZCgpOiB2b2lkIHtcclxuICAgICAgICAgICAgLy8gVE9ETzogQmV0dGVyIHRvIGltcGxlbWVudCBzY2hlZHVsZXIgdG8gc3Vic2NyaWJlIHdpdGhpbiBuZyBzY29wZVxyXG4gICAgICAgICAgICB0aGlzLmNhbGxJbkRpZ2VzdExvb3AoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ncm91cEZ1bGxlZE9ic2VydmFibGUub25OZXh0KHt9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBoYW5kbGVHYW1lU3RhcnRlZCgpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5jYWxsSW5EaWdlc3RMb29wKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHJvb3RTY29wZS5pc1N0YXJ0R2FtZVBhZ2UgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXJ0R2FtZU1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0R2FtZU1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0R2FtZU1vZGFsSW5zdGFuY2UgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZVN0YXJ0ZWRPYnNlcnZhYmxlLm9uTmV4dCh7fSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgZ2V0VXNlcklkKCk6IHN0cmluZyB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRyb290U2NvcGUudXNlcklkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHNldFVzZXJJZCh1c2VySWQ6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLiRyb290U2NvcGUudXNlcklkID0gdXNlcklkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGhhbmRsZVVzZXIyTGVmdEdyb3VwKCk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLmNhbGxJbkRpZ2VzdExvb3AoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51c2VyTGVmdEdyb3VwT2JzZXJ2YWJsZS5vbk5leHQoe30pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kcm9vdFNjb3BlLmlzU3RhcnRHYW1lUGFnZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93U3RhcnRHYW1lTW9kYWwoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgZ2V0VXNlckRpc3BsYXlOYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRyb290U2NvcGUuZGlzcGxheU5hbWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKENvbW1vbi5HZXRDb25zdGFudHMoKS5hcHBOYW1lKS5zZXJ2aWNlKFwiU2VydmljZXMuU3RhdGVIYW5kbGVyU2VydmljZVwiLCBTdGF0ZUhhbmRsZXJTZXJ2aWNlKTtcclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9jb21tb24udHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vaW50ZXJmYWNlcy50c1wiIC8+XHJcbm1vZHVsZSBjb250cm9sbGVycyB7XHJcbiAgICBleHBvcnQgY2xhc3MgQ29ubmVjdFRvR2FtZUNvbnRyb2xsZXIge1xyXG4gICAgICAgIHByaXZhdGUgY29ubmVjdGlvbkh1YlNlcnZpY2U6IEludGVyZmFjZXMuSUNvbm5lY3RUb0dhbWU7XHJcbiAgICAgICAgcHJpdmF0ZSAkc2NvcGU6IEludGVyZmFjZXMuSUNvbm5lY3RUb0dhbWVTY29wZTtcclxuICAgICAgICBwcml2YXRlIGdyb3VwSW5mbzogTW9kZWxzLkdyb3VwO1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGVIYW5kbGVyOiBJbnRlcmZhY2VzLklTdGF0ZUhhbmRsZXI7XHJcbiAgICAgICAgcHJpdmF0ZSAkcm9vdFNjb3BlOiBJbnRlcmZhY2VzLklSb290U2NvcGU7XHJcblxyXG4gICAgICAgIHN0YXRpYyAkaW5qZWN0ID0gW1wiU2VydmljZXMuQ29ubmVjdFRvR2FtZVNlcnZpY2VcIiwgXCIkc2NvcGVcIiwgXCJTZXJ2aWNlcy5TdGF0ZUhhbmRsZXJTZXJ2aWNlXCIsIFwiJHJvb3RTY29wZVwiXTtcclxuICAgICAgICBjb25zdHJ1Y3Rvcihjb25uZWN0aW9uSHViU2VydmljZTogSW50ZXJmYWNlcy5JQ29ubmVjdFRvR2FtZSwgJHNjb3BlOiBJbnRlcmZhY2VzLklDb25uZWN0VG9HYW1lU2NvcGUsIFxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlSGFuZGxlcjogSW50ZXJmYWNlcy5JU3RhdGVIYW5kbGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGU6IEludGVyZmFjZXMuSVJvb3RTY29wZSkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25IdWJTZXJ2aWNlID0gY29ubmVjdGlvbkh1YlNlcnZpY2U7XHJcbiAgICAgICAgICAgIHRoaXMuJHNjb3BlID0gJHNjb3BlO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlSGFuZGxlciA9IHN0YXRlSGFuZGxlcjtcclxuICAgICAgICAgICAgdGhpcy4kcm9vdFNjb3BlID0gJHJvb3RTY29wZTtcclxuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplVmlld01vZGVsKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGluaXRpYWxpemVWaWV3TW9kZWwoKTp2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZUhhbmRsZXIuc2V0Q29ubmVjdFRvR2FtZVNjb3BlKHRoaXMuJHNjb3BlKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbkh1YlNlcnZpY2Uub25Vc2VyTGVmdChkYXRhID0+IHRoaXMub25Vc2VyTGVmdC5jYWxsKHRoaXMsIGRhdGEpKTtcclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uSHViU2VydmljZS5vbkdyb3VwRnVsbGVkKGRhdGEgPT4gdGhpcy5vbkdyb3VwRnVsbGVkLmNhbGwodGhpcywgZGF0YSkpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25IdWJTZXJ2aWNlLm9uQ29ubmVjdGVkVG9Hcm91cChkYXRhID0+IHRoaXMub25Db25uZWN0ZWRUb0dyb3VwLmNhbGwodGhpcywgZGF0YSkpO1xyXG4gICAgICAgICAgICB0aGlzLiRzY29wZS5jb25uZWN0VG9Hcm91cCA9ICgpID0+IHRoaXMuY29ubmVjdFRvR3JvdXAuYXBwbHkodGhpcyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuY29ubmVjdGlvbkh1YlNlcnZpY2UuY29ubmVjdFRvSHViKCkuZG9uZSh2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlSGFuZGxlci5zZXRVc2VySWQodmFsdWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZUhhbmRsZXIuaGFuZGxlQ29ubmVjdGlvblRvSHViKHByb21pc2UpO1xyXG4gICAgICAgICAgICB0aGlzLiRzY29wZS5sZXZlbHMgPSBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bGV2ZWw6IE1vZGVscy5MZXZlbC5CZWdpbmVyLCBuYW1lOiBcItCd0L7QstCw0YfQvtC6XCJ9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2xldmVsOiBNb2RlbHMuTGV2ZWwuSW50ZXJtZWRpYXRlLCBuYW1lOiBcItCh0YDQtdC00L3QuNC5XCJ9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2xldmVsOiBNb2RlbHMuTGV2ZWwuQWR2YW5jZWQsIG5hbWU6IFwi0JLRi9GB0L7QutC40LlcIn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgdGhpcy4kcm9vdFNjb3BlLmxldmVsID0gdGhpcy4kc2NvcGUubGV2ZWxzWzFdO1xyXG4gICAgICAgICAgICB0aGlzLiRzY29wZS5jaGFuZ2VMZXZlbCA9IChsZXZlbDogTW9kZWxzLklMZXZlbE5hbWVQYWlyKSA9PiB0aGlzLiRyb290U2NvcGUubGV2ZWwgPSBsZXZlbDtcclxuICAgICAgICAgICAgdGhpcy4kcm9vdFNjb3BlLmRpc3BsYXlOYW1lID0gXCLQodC70YPRh9Cw0LnQvdGL0Lkg0LjQs9GA0L7QulwiXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIG9uR3JvdXBGdWxsZWQoZ3JvdXBJbmZvOiBNb2RlbHMuR3JvdXApOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5ncm91cEluZm8gPSBncm91cEluZm87XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGVIYW5kbGVyLmhhbmRsZUdyb3VwRnVsbGVkKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIG9uVXNlckxlZnQoZ3JvdXBJbmZvOiBNb2RlbHMuR3JvdXApOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5ncm91cEluZm8gPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlSGFuZGxlci5oYW5kbGVVc2VyMkxlZnRHcm91cCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBjb25uZWN0VG9Hcm91cCgpOiB2b2lkIHtcclxuICAgICAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLmNvbm5lY3Rpb25IdWJTZXJ2aWNlLmNvbm5lY3RUb05ld0dyb3VwKHRoaXMuc3RhdGVIYW5kbGVyLmdldFVzZXJEaXNwbGF5TmFtZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm9vdFNjb3BlLmxldmVsLmxldmVsKTtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZUhhbmRsZXIuaGFuZGxlQ29ubmVjdGlvblRvR3JvdXAocHJvbWlzZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIG9uQ29ubmVjdGVkVG9Hcm91cCh1c2VySWQ6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlSGFuZGxlci5zZXRVc2VySWQodXNlcklkKTtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZUhhbmRsZXIuaGFuZGxlVXNlckFkZGVkVG9Hcm91cCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZShDb21tb24uR2V0Q29uc3RhbnRzKCkuYXBwTmFtZSkuY29udHJvbGxlcihcImNvbnRyb2xsZXJzLkNvbm5lY3RUb0dhbWVDb250cm9sbGVyXCIsIENvbm5lY3RUb0dhbWVDb250cm9sbGVyKTtcclxufSAiLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vY29tbW9uLnRzXCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2ludGVyZmFjZXMudHNcIiAvPlxyXG5tb2R1bGUgY29udHJvbGxlcnMge1xyXG4gICAgZXhwb3J0IGNsYXNzIEdhbWVDb250cm9sbGVyIHtcclxuICAgICAgICBwcml2YXRlIGNvbm5lY3Rpb25IdWJTZXJ2aWNlOiBJbnRlcmZhY2VzLklDb25uZWN0VG9HYW1lO1xyXG4gICAgICAgIHByaXZhdGUgJHNjb3BlOiBJbnRlcmZhY2VzLklHYW1lU2NvcGU7XHJcbiAgICAgICAgcHJpdmF0ZSBnYW1lSW5mbzogTW9kZWxzLkdhbWU7XHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0ZUhhbmRsZXI6IEludGVyZmFjZXMuSVN0YXRlSGFuZGxlcjtcclxuICAgICAgICBwcml2YXRlIHdvcmRzOiBBcnJheTxNb2RlbHMuV29yZD5cclxuICAgICAgICBwcml2YXRlIHVzZXJOdW06IG51bWJlcjtcclxuICAgICAgICBwcml2YXRlICRpbnRlcnZhbDogbmcuSUludGVydmFsU2VydmljZTtcclxuICAgICAgICBwcml2YXRlIHNlY29uZHNGb3JNb3ZlOiBudW1iZXI7XHJcbiAgICAgICAgcHJpdmF0ZSB0aW1lclByb21pc2U6IG5nLklQcm9taXNlPGFueT47XHJcbiAgICAgICAgcHJpdmF0ZSAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlO1xyXG5cclxuICAgICAgICBzdGF0aWMgJGluamVjdCA9IFtcIlNlcnZpY2VzLkNvbm5lY3RUb0dhbWVTZXJ2aWNlXCIsIFwiJHNjb3BlXCIsIFwiU2VydmljZXMuU3RhdGVIYW5kbGVyU2VydmljZVwiLCBcIiRpbnRlcnZhbFwiLCAnJHRpbWVvdXQnXTtcclxuICAgICAgICBjb25zdHJ1Y3Rvcihjb25uZWN0aW9uSHViU2VydmljZTogSW50ZXJmYWNlcy5JQ29ubmVjdFRvR2FtZSwgJHNjb3BlOiBJbnRlcmZhY2VzLklHYW1lU2NvcGUsIFxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlSGFuZGxlcjogSW50ZXJmYWNlcy5JU3RhdGVIYW5kbGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICRpbnRlcnZhbDogbmcuSUludGVydmFsU2VydmljZSxcclxuICAgICAgICAgICAgICAgICAgICAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbkh1YlNlcnZpY2UgPSBjb25uZWN0aW9uSHViU2VydmljZTtcclxuICAgICAgICAgICAgdGhpcy4kc2NvcGUgPSAkc2NvcGU7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGVIYW5kbGVyID0gc3RhdGVIYW5kbGVyO1xyXG4gICAgICAgICAgICB0aGlzLiRpbnRlcnZhbCA9ICRpbnRlcnZhbDtcclxuICAgICAgICAgICAgdGhpcy5zZWNvbmRzRm9yTW92ZSA9IDEwO1xyXG4gICAgICAgICAgICB0aGlzLiR0aW1lb3V0ID0gJHRpbWVvdXQ7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZVZpZXdNb2RlbCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBpbml0aWFsaXplVmlld01vZGVsKCk6dm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbkh1YlNlcnZpY2UuZ2FtZVN0YXJ0ZWQoZGF0YSA9PiB0aGlzLnN0YXJ0R2FtZS5jYWxsKHRoaXMsIGRhdGEpKTtcclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uSHViU2VydmljZS5kaWRNb3ZlKGRhdGEgPT4gdGhpcy51c2VyMmRpZE1vdmUuY2FsbCh0aGlzLCBkYXRhKSk7XHJcbiAgICAgICAgICAgIHRoaXMuJHNjb3BlLmRvTW92ZSA9ICh2YXJpYW50OiBzdHJpbmcpID0+IHRoaXMuZG9Nb3ZlLmNhbGwodGhpcywgdmFyaWFudCk7XHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbkh1YlNlcnZpY2Uub25Vc2VyTGVmdCgoKSA9PiB0aGlzLm9uVXNlckxlZnQuY2FsbCh0aGlzKSk7XHJcbiAgICAgICAgICAgIHRoaXMudW5zZXRHYW1lSW5mbygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBvblVzZXJMZWZ0KCk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLnN0b3BUaW1lcigpO1xyXG4gICAgICAgICAgICB0aGlzLnVuc2V0R2FtZUluZm8oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgdW5zZXRHYW1lSW5mbygpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5nYW1lSW5mbyA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNhbGxJbkRpZ2VzdExvb3AoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUuY3VycmVudFdvcmQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUuc2Vjb25kc0Zvck1vdmVMZWZ0ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLnBlcmNlbnRhZ2VzTGVmdCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS5pc0N1cnJlbnRVc2VyTW92ZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS5jdXJyZW50VXNlclNjb3JlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLnVzZXIyU2NvcmUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUucGFzc2VkV29yZHMgPSBbXTtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLmxlZnRXb3JkcyA9IFtdO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgc3RhcnRHYW1lKGdhbWU6IE1vZGVscy5HYW1lKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZUluZm8gPSBnYW1lO1xyXG4gICAgICAgICAgICB0aGlzLndvcmRzID0gZ2FtZS53b3JkcztcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGlzVXNlcjEgPSBnYW1lLnVzZXIxLnVzZXJJZCA9PT0gdGhpcy5zdGF0ZUhhbmRsZXIuZ2V0VXNlcklkKCk7XHJcbiAgICAgICAgICAgIHRoaXMudXNlck51bSA9IGlzVXNlcjEgPyAxIDogMjtcclxuICAgICAgICAgICAgdGhpcy4kc2NvcGUuJGFwcGx5KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLmN1cnJlbnRVc2VyU2NvcmUgPSBpc1VzZXIxID8gZ2FtZS51c2VyMVNjb3JlIDogZ2FtZS51c2VyMlNjb3JlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUudXNlcjJTY29yZSA9ICFpc1VzZXIxID8gZ2FtZS51c2VyMVNjb3JlIDogZ2FtZS51c2VyMlNjb3JlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUudXNlcjJEaXNwbGF5TmFtZSA9ICFpc1VzZXIxID8gZ2FtZS51c2VyMS5kaXNwbGF5TmFtZSA6IGdhbWUudXNlcjIuZGlzcGxheU5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS5jdXJyZW50V29yZEluZGV4ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLmN1cnJlbnRXb3JkID0gdGhpcy53b3Jkc1swXTtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0VmFyaW5hdHNPcmRlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUuaXNDdXJyZW50VXNlck1vdmUgPSAoaXNVc2VyMSAmJiB0aGlzLmdhbWVJbmZvLmN1cnJlbnRNb3ZlID09PSAxKSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKCFpc1VzZXIxICYmIHRoaXMuZ2FtZUluZm8uY3VycmVudE1vdmUgPT09IDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBzaHVmZmxlKGFycjogQXJyYXk8TW9kZWxzLldvcmQ+KTogQXJyYXk8TW9kZWxzLldvcmQ+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhcnJheSA9IGFyci5zbGljZSgwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtID0gYXJyYXkubGVuZ3RoLCB0LCBpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdoaWxlIHRoZXJlIHJlbWFpbiBlbGVtZW50cyB0byBzaHVmZmxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAobSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFBpY2sgYSByZW1haW5pbmcgZWxlbWVudOKAplxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBtLS0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBbmQgc3dhcCBpdCB3aXRoIHRoZSBjdXJyZW50IGVsZW1lbnQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdCA9IGFycmF5W21dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5W21dID0gYXJyYXlbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXlbaV0gPSB0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhcnJheTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLmxlZnRXb3JkcyA9IHNodWZmbGUodGhpcy53b3Jkcy5zbGljZSgxKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zdGF0ZUhhbmRsZXIuaGFuZGxlR2FtZVN0YXJ0ZWQoKTtcclxuICAgICAgICAgICAgdGhpcy5zdGFydFRpbWVyKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGNhbGxJbkRpZ2VzdExvb3AoYWN0aW9uOigpID0+IHZvaWQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuJHNjb3BlLiQkcGhhc2UpIHtcclxuICAgICAgICAgICAgICAgIGFjdGlvbigpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUuJGFwcGx5KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb24oKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgc3RhcnRUaW1lcigpOiB2b2lkIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudGltZXJQcm9taXNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBcIlByZXZpb3VzIHRpbWVyIHNob3VsZCBiZSBzdG9wcGVkXCI7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2FsbEluRGlnZXN0TG9vcCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS5zZWNvbmRzRm9yTW92ZUxlZnQgPSB0aGlzLnNlY29uZHNGb3JNb3ZlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUucGVyY2VudGFnZXNMZWZ0ID0gMTAwO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudGltZXJQcm9taXNlID0gdGhpcy4kaW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUuc2Vjb25kc0Zvck1vdmVMZWZ0LS07XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS5wZXJjZW50YWdlc0xlZnQgPSB0aGlzLiRzY29wZS5zZWNvbmRzRm9yTW92ZUxlZnQgLyAxMCAqIDEwMDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy4kc2NvcGUuc2Vjb25kc0Zvck1vdmVMZWZ0ID09PSAwXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgdGhpcy4kc2NvcGUuaXNDdXJyZW50VXNlck1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhc3NNb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIDEwMDAsIDEwKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgc3RvcFRpbWVyKCk6IHZvaWQge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMudGltZXJQcm9taXNlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuJGludGVydmFsLmNhbmNlbCh0aGlzLnRpbWVyUHJvbWlzZSk7XHJcbiAgICAgICAgICAgIHRoaXMudGltZXJQcm9taXNlID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgdXNlcjJkaWRNb3ZlKG1vdmVSZXM6IE1vZGVscy5Nb3ZlUmVzdWx0KTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuJHNjb3BlLiRhcHBseSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZU1vdmUobW92ZVJlcywgZmFsc2UpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgcGFzc01vdmUoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbkh1YlNlcnZpY2UucGFzc01vdmUodGhpcy51c2VyTnVtKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmRvbmUoKG1vdmVSZXN1bHQ6TW9kZWxzLk1vdmVSZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS4kYXBwbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZU1vdmUobW92ZVJlc3VsdCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZG9Nb3ZlKHZhcmlhbnQ6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgICAgICAvLyBhIHdheSB0byBoYW5kbGUgbXVsdGlwbGUgY2xpY2tcclxuICAgICAgICAgICAgaWYgKHRoaXMuJHNjb3BlLmN1cnJlbnRXb3JkLnRyYW5zbGF0ZVZhcmlhbnRzLmZpbHRlcih2ID0+IHYuaXNTZWxlY3RlZClcclxuICAgICAgICAgICAgICAgICAgICAubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5zdG9wVGltZXIoKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuJHNjb3BlLnNlY29uZHNGb3JNb3ZlTGVmdCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgLy8gc2hvdWxkIGJlIGhhbmRsZWQgYnkgdGltZXIgY2FsbGJhY2tcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbGV0IHNlbGVjdGVkVmFyID0gdGhpcy4kc2NvcGUuY3VycmVudFdvcmQudHJhbnNsYXRlVmFyaWFudHMuZmlsdGVyKHYgPT4gdi52YXJpYW50ID09PSB2YXJpYW50KVswXTtcclxuICAgICAgICAgICAgaWYgKCFzZWxlY3RlZFZhcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0luY29ycmVjdCB2YXIgc2VsZWN0ZWQnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkVmFyLmlzU2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25IdWJTZXJ2aWNlLmRvTW92ZSh0aGlzLnVzZXJOdW0sIHRoaXMuJHNjb3BlLmN1cnJlbnRXb3JkLndvcmQsIHZhcmlhbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZG9uZSgobW92ZVJlc3VsdDpNb2RlbHMuTW92ZVJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLiRhcHBseSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlTW92ZShtb3ZlUmVzdWx0LCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBoYW5kbGVNb3ZlKG1vdmVSZXM6IE1vZGVscy5Nb3ZlUmVzdWx0LCBpc0N1cnJlbnRVc2VyTW92ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnN0b3BUaW1lcigpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRVc2VyU2NvcmUgPSB0aGlzLnVzZXJOdW0gPT09IDEgPyB0aGlzLmdhbWVJbmZvLnVzZXIxU2NvcmUgOiB0aGlzLmdhbWVJbmZvLnVzZXIyU2NvcmU7XHJcbiAgICAgICAgICAgIHZhciB1c2VyMlNjb3JlID0gdGhpcy51c2VyTnVtID09PSAxID8gdGhpcy5nYW1lSW5mby51c2VyMlNjb3JlIDogdGhpcy5nYW1lSW5mby51c2VyMVNjb3JlO1xyXG5cclxuICAgICAgICAgICAgbGV0IHNjb3JlID0gaXNDdXJyZW50VXNlck1vdmUgPyBjdXJyZW50VXNlclNjb3JlIDogdXNlcjJTY29yZTtcclxuXHJcbiAgICAgICAgICAgIGlmICghbW92ZVJlcy5pc0NvcnJlY3QpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobW92ZVJlcy5lcnJvck1lc3NhZ2UpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1vdmVSZXMuaXNTdWNjZXNzZnVsKSB7XHJcbiAgICAgICAgICAgICAgICBzY29yZS5zdWNjZXNzZnVsTW92ZXMrKztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNjb3JlLndyb25nTW92ZXMrKztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKG1vdmVSZXMuc2VsZWN0ZWRWYXJpYW50SW5kZXggIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS5jdXJyZW50V29yZC50cmFuc2xhdGVWYXJpYW50c1ttb3ZlUmVzLnNlbGVjdGVkVmFyaWFudEluZGV4XS5pc1NlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMudXNlck51bSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUuY3VycmVudFVzZXJTY29yZSA9IHRoaXMuZ2FtZUluZm8udXNlcjFTY29yZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLnVzZXIyU2NvcmUgPSB0aGlzLmdhbWVJbmZvLnVzZXIyU2NvcmU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS5jdXJyZW50VXNlclNjb3JlID0gdGhpcy5nYW1lSW5mby51c2VyMlNjb3JlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUudXNlcjJTY29yZSA9IHRoaXMuZ2FtZUluZm8udXNlcjFTY29yZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy4kdGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS5pc0N1cnJlbnRVc2VyTW92ZSA9ICFpc0N1cnJlbnRVc2VyTW92ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLmN1cnJlbnRXb3JkSW5kZXgrKztcclxuICAgICAgICAgICAgICAgIGlmIChpc0N1cnJlbnRVc2VyTW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXNzZWRXb3JkID0gbmV3IE1vZGVscy5QYXNzZWRXb3JkSW5mbygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhc3NlZFdvcmQud29yZCA9IHRoaXMuJHNjb3BlLmN1cnJlbnRXb3JkLndvcmQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFzc2VkV29yZC5hbnN3ZXIgPSB0aGlzLiRzY29wZS5jdXJyZW50V29yZC50cmFuc2xhdGVWYXJpYW50c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGkgPT4gaS5pc1RydWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zaGlmdCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC52YXJpYW50O1xyXG4gICAgICAgICAgICAgICAgICAgIHBhc3NlZFdvcmQud2FzUGFzc2VkID0gbW92ZVJlcy5pc1N1Y2Nlc3NmdWw7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUucGFzc2VkV29yZHMucHVzaChwYXNzZWRXb3JkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gcmVtb3ZlRnJvbUFycmF5SWYoYXJyOiBBcnJheTxNb2RlbHMuV29yZD4sIGNhbGxiYWNrOiAoYXJnOiBNb2RlbHMuV29yZCwgaW5kZXg6IG51bWJlcikgPT4gYm9vbGVhbik6IHZvaWQge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaSA8IGFyci5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKGFycltpXSwgaSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyci5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArK2k7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUuY3VycmVudFdvcmQgPSB0aGlzLmdhbWVJbmZvLndvcmRzW3RoaXMuJHNjb3BlLmN1cnJlbnRXb3JkSW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWYXJpbmF0c09yZGVyKCk7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVGcm9tQXJyYXlJZih0aGlzLiRzY29wZS5sZWZ0V29yZHMsIHcgPT4gdy53b3JkID09PSB0aGlzLiRzY29wZS5jdXJyZW50V29yZC53b3JkKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobW92ZVJlcy5pc0xhc3RNb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZUhhbmRsZXIuaGFuZGxlR2FtZUZpbmlzaGVkKHRoaXMuJHNjb3BlLmN1cnJlbnRVc2VyU2NvcmUuc3VjY2Vzc2Z1bE1vdmVzID4gdGhpcy4kc2NvcGUudXNlcjJTY29yZS5zdWNjZXNzZnVsTW92ZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLmN1cnJlbnRVc2VyU2NvcmUuc3VjY2Vzc2Z1bE1vdmVzID09IHRoaXMuJHNjb3BlLnVzZXIyU2NvcmUuc3VjY2Vzc2Z1bE1vdmVzKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc2V0R2FtZUluZm8oKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydFRpbWVyKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIDEwMDAsIHRydWUpOyAvLyBkZWxheSB0byBsZXQgdXNlciBzZWUgdGhlIHJlc3VsdCBvZiBtb3ZlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgc2V0VmFyaW5hdHNPcmRlcigpOiB2b2lkIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLiRzY29wZS5jdXJyZW50V29yZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLiRzY29wZS5jdXJyZW50V29yZC50cmFuc2xhdGVWYXJpYW50cy5mb3JFYWNoKCh2YWx1ZSwgaW5kZXgpID0+IHZhbHVlLm9yZGVyID0gaW5kZXggKyAxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoQ29tbW9uLkdldENvbnN0YW50cygpLmFwcE5hbWUpLmNvbnRyb2xsZXIoXCJjb250cm9sbGVycy5HYW1lQ29udHJvbGxlclwiLCBHYW1lQ29udHJvbGxlcik7XHJcbn0gIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2NvbW1vbi50c1wiIC8+XHJcbiQoKCkgPT4ge1xyXG4gICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yNzAwMDAwL2hvdy10by1kaXNhYmxlLXRleHQtc2VsZWN0aW9uLXVzaW5nLWpxdWVyeVxyXG4gICAgJCgnI3dvcmQsIC53b3JkLWxlZnQtaXRlbS1jYXB0aW9uJykuYXR0cigndW5zZWxlY3RhYmxlJywnb24nKVxyXG4gICAgIC5jc3MoeyctbW96LXVzZXItc2VsZWN0JzonLW1vei1ub25lJyxcclxuICAgICAgICAgICAnLW8tdXNlci1zZWxlY3QnOidub25lJyxcclxuICAgICAgICAgICAnLWtodG1sLXVzZXItc2VsZWN0Jzonbm9uZScsIC8qIHlvdSBjb3VsZCBhbHNvIHB1dCB0aGlzIGluIGEgY2xhc3MgKi9cclxuICAgICAgICAgICAnLXdlYmtpdC11c2VyLXNlbGVjdCc6J25vbmUnLC8qIGFuZCBhZGQgdGhlIENTUyBjbGFzcyBoZXJlIGluc3RlYWQgKi9cclxuICAgICAgICAgICAnLW1zLXVzZXItc2VsZWN0Jzonbm9uZScsXHJcbiAgICAgICAgICAgJ3VzZXItc2VsZWN0Jzonbm9uZSdcclxuICAgICB9KS5iaW5kKCdzZWxlY3RzdGFydCcsIGZ1bmN0aW9uKCl7IHJldHVybiBmYWxzZTsgfSk7XHJcbn0pIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2NvbW1vbi50c1wiIC8+XHJcbiQoKCkgPT4ge1xyXG4gICAgJChkb2N1bWVudCkua2V5cHJlc3MoZSA9PiB7XHJcbiAgICAgICAgaWYgKGUud2hpY2ggPT09IDEzKSB7XHJcbiAgICAgICAgICAgICQoXCIuYnRuLXN1Ym1pdDp2aXNpYmxlXCIpLmZpcnN0KCkuY2xpY2soKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGUud2hpY2ggPj0gNDggJiYgZS53aGljaCA8PSA1Nykge1xyXG4gICAgICAgICAgICBsZXQgbnVtUHJlc3NlZCA9IGUud2hpY2ggLSA0ODtcclxuICAgICAgICAgICAgJCgnLnRyYW5zbGF0ZVZhcmlhbnQ6dmlzaWJsZScpLmZpbHRlcigoaW5kZXgsIGVsZW0pID0+ICQoZWxlbSkuZGF0YSgnb3JkZXInKSA9PT0gbnVtUHJlc3NlZClcclxuICAgICAgICAgICAgICAgIC5maXJzdCgpXHJcbiAgICAgICAgICAgICAgICAuY2xpY2soKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSk7IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2NvbW1vbi50c1wiIC8+XHJcbiQoKCkgPT4ge1xyXG4gICAgJCgnI3VzZXIydmFyaWFudHMnKS5iaW5kKCdET01Ob2RlSW5zZXJ0ZWQnLCAoKSA9PiAoJCgnLnRyYW5zbGF0ZVZhcmlhbnQubm9ob3ZlcicpIGFzIGFueSkudG9vbHRpcCgpKTtcclxufSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
