function getWordContainerPostion(){var $element=$("#word-element");return{x:$element.offset().left,y:$element.offset().top}}var Common;!function(Common){function GetConstants(){return new Constants}var Constants=function(){function Constants(){this.appName="gameApp",this.hubConnectToGroupMethodName="connect",this.connectedToGroup="userAdded",this.leftGroup="userLeft",this.groupFulled="groupFulled",this.competitionHub="competitionHub",this.gameStarted="gameStarted",this.didMove="didMove",this.gameFinished="gameFinished",this.doMove="doMove",this.passMove="passMove"}return Constants}();Common.Constants=Constants,Common.GetConstants=GetConstants}(Common||(Common={}));var Mixins;!function(Mixins){function actionWrapper($scope,action){return function(scheduler,state){if(!$scope.$$phase){var value_1;return $scope.$apply(function(){value_1=action(scheduler,state)}),value_1}return action(scheduler,state)}}var NgScheduler=function(){function NgScheduler($scope){this.immediateScheduler=Rx.Scheduler.immediate,this.$scope=$scope}return NgScheduler.prototype.now=function(){return this.immediateScheduler.now()},NgScheduler.prototype.schedule=function(state,action){return this.immediateScheduler.schedule(state,actionWrapper(this.$scope,action))},NgScheduler.prototype.scheduleFuture=function(state,dueTime,action){throw new Error("Not supported")},NgScheduler.prototype.scheduleRecursive=function(state,action){throw new Error("Not supported")},NgScheduler.prototype.scheduleRecursiveFuture=function(state,dueTime,action){throw new Error("Not supported")},NgScheduler.prototype.schedulePeriodic=function(state,period,action){throw new Error("Not supported")},NgScheduler.prototype.catch=function(handler){return this.immediateScheduler.catch(handler)},NgScheduler}();Mixins.NgScheduler=NgScheduler}(Mixins||(Mixins={}));var App;!function(App){function GetApp(){return app}var constants=Common.GetConstants(),app=angular.module(constants.appName,["ui.bootstrap.modal","cgBusy","ngAnimate"]);App.GetApp=GetApp}(App||(App={}));var Models;!function(Models){var User=function(){function User(){}return User}();Models.User=User}(Models||(Models={}));var Models;!function(Models){var Group=function(){function Group(){}return Group}();Models.Group=Group}(Models||(Models={}));var Models;!function(Models){var Score=function(){function Score(){}return Score}();Models.Score=Score}(Models||(Models={}));var Models;!function(Models){var TranslateVariant=function(){function TranslateVariant(){this.variant=null,this.isTrue=!1,this.isSelected=!1}return TranslateVariant}();Models.TranslateVariant=TranslateVariant}(Models||(Models={}));var Models;!function(Models){var Word=function(){function Word(){}return Word}();Models.Word=Word}(Models||(Models={}));var Models;!function(Models){var Game=function(){function Game(){}return Game}();Models.Game=Game}(Models||(Models={}));var Models;!function(Models){var GameResult=function(){function GameResult(){}return GameResult}();Models.GameResult=GameResult}(Models||(Models={}));var Models;!function(Models){var MoveResult=function(){function MoveResult(){}return MoveResult}();Models.MoveResult=MoveResult}(Models||(Models={}));var Models;!function(Models){var PassedWordInfo=function(){function PassedWordInfo(){}return PassedWordInfo}();Models.PassedWordInfo=PassedWordInfo}(Models||(Models={}));var Models;!function(Models){!function(Level){Level[Level.Beginer=1]="Beginer",Level[Level.Intermediate=2]="Intermediate",Level[Level.Advanced=3]="Advanced"}(Models.Level||(Models.Level={}));Models.Level}(Models||(Models={}));var Services;!function(Services){var ConnectToGameService=function(){function ConnectToGameService(hubConnectionService){this.constants=Common.GetConstants(),this.connection=hubConnectionService.getConnection(),this.hub=this.connection.createHubProxy(this.constants.competitionHub)}return ConnectToGameService.prototype.connectToHub=function(){return this.hub.connection.start()},ConnectToGameService.prototype.doMove=function(moveOrder,word,variant){return this.hub.invoke(this.constants.doMove,moveOrder,word,variant)},ConnectToGameService.prototype.passMove=function(moveOrder){return this.hub.invoke(this.constants.passMove,moveOrder)},ConnectToGameService.prototype.connectToNewGroup=function(displayName,level){return this.hub.invoke(this.constants.hubConnectToGroupMethodName,displayName,level)},ConnectToGameService.prototype.onConnectedToGroup=function(callBack){this.hub.on(this.constants.connectedToGroup,function(msg){return callBack(msg)})},ConnectToGameService.prototype.onGroupFulled=function(callBack){this.hub.on(this.constants.groupFulled,function(msg){return callBack(msg)})},ConnectToGameService.prototype.onUserLeft=function(callBack){this.hub.on(this.constants.leftGroup,function(msg){return callBack(msg[0])})},ConnectToGameService.prototype.gameStarted=function(callBack){this.hub.on(this.constants.gameStarted,function(msg){callBack(msg)})},ConnectToGameService.prototype.didMove=function(callBack){this.hub.on(this.constants.didMove,function(msg){return callBack(msg)})},ConnectToGameService.prototype.gameFinished=function(callBack){this.hub.on(this.constants.gameFinished,function(msg){return callBack(msg[0])})},ConnectToGameService.$inject=["Services.HubConnectionService"],ConnectToGameService}();Services.ConnectToGameService=ConnectToGameService,angular.module(Common.GetConstants().appName).service("Services.ConnectToGameService",ConnectToGameService)}(Services||(Services={}));var Services;!function(Services){var HubConnectionService=function(){function HubConnectionService(){}return HubConnectionService.prototype.getConnection=function(){return HubConnectionService.connection||(HubConnectionService.connection=$.hubConnection("/signalr",{useDefaultPath:!1}),HubConnectionService.connection.logging=!0),HubConnectionService.connection},HubConnectionService}();Services.HubConnectionService=HubConnectionService,angular.module(Common.GetConstants().appName).service("Services.HubConnectionService",HubConnectionService)}(Services||(Services={}));var Services;!function(Services){function toPromiseCustom(observable){var promise=new Promise(function(resolve){observable.subscribe(function(){resolve({})})});return promise}var StateHandlerService=function(){function StateHandlerService($rootScope,$modal){this.constants=Common.GetConstants(),this.$modal=$modal,this.$rootScope=$rootScope,this.$rootScope.isStartGamePage=!1,this.$rootScope.userId=null,this.groupFulledObservable=new Rx.Subject,this.addedToGroupObservable=new Rx.Subject,this.userLeftGroupObservable=new Rx.Subject,this.gameStartedObservable=new Rx.Subject}return StateHandlerService.prototype.callInDigestLoop=function(action){this.$rootScope.$$phase?action():this.$rootScope.$apply(function(){action()})},StateHandlerService.prototype.showStartGameModal=function(){var opt={};opt.scope=this.connectToGameScope,opt.templateUrl="connectToGroup.html",opt.windowTemplateUrl="windowTemplate.html",opt.backdrop="static",opt.keyboard=!1,opt.animation=!0,opt.size="lg",this.startGameModalInstance=this.$modal.open(opt)},StateHandlerService.prototype.showGameFinishedModalWindow=function(isWin,isDraw){if(void 0===isWin&&void 0===isDraw)throw"One of boolean flags should be specified";var connectToGameScope=this.connectToGameScope,opt={};opt.controller=function($scope){$scope.playAgain=connectToGameScope.connectToGroup,isDraw?$scope.message="Ничья. Отличная игра :D!\nХотите сыграть ещё раз?":isWin?$scope.message="Поздравления! Вы выиграли!\nХотите сыграть ещё раз?":$scope.message="Даже если проиграл, преобретенный опыт останется навсегда с тобой и станет твоей наградой :)\nХотите сыграть ещё раз?"},opt.templateUrl="gameFinished.html",opt.windowTemplateUrl="windowTemplate.html",opt.backdrop="static",opt.keyboard=!1,opt.animation=!0,opt.size="lg",this.startGameModalInstance=this.$modal.open(opt)},StateHandlerService.prototype.setConnectToGameScope=function(connectToGameScope){this.connectToGameScope=connectToGameScope},StateHandlerService.prototype.handleConnectionToGroup=function(promise){var _this=this;promise.fail(function(error){console.log("smth bad happened: "+error)}),this.callInDigestLoop(function(){_this.callInDigestLoop(function(){var addedToGroup=_this.addedToGroupObservable.take(1);_this.$rootScope.addedToGroupPromise=toPromiseCustom(addedToGroup),addedToGroup.subscribe(function(){_this.startGameModalInstance&&(_this.startGameModalInstance.close(),_this.startGameModalInstance=null)});var groupFulled=_this.groupFulledObservable.take(1);_this.$rootScope.user2ConnectedPromise=toPromiseCustom(groupFulled),groupFulled.subscribe(function(){_this.$rootScope.loadingGamePromise=toPromiseCustom(Rx.Observable.merge(_this.userLeftGroupObservable.take(1),_this.gameStartedObservable.take(1)).take(1))}),_this.$rootScope.isStartGamePage=!0})}),this.callInDigestLoop(function(){_this.connectToGameScope.connectToGroupPromise=promise})},StateHandlerService.prototype.handleUserAddedToGroup=function(){this.addedToGroupObservable.onNext({})},StateHandlerService.prototype.handleConnectionToHub=function(promise){var _this=this;promise.fail(function(){console.log("smth bad happened")}),promise.done(function(){_this.callInDigestLoop(function(){_this.showStartGameModal()})}),this.callInDigestLoop(function(){_this.$rootScope.connectToHubPromise=promise})},StateHandlerService.prototype.handleGameFinished=function(isWin,isDraw){var _this=this;this.callInDigestLoop(function(){_this.$rootScope.isStartGamePage=!1,_this.showGameFinishedModalWindow(isWin,isDraw)})},StateHandlerService.prototype.handleGroupFulled=function(){var _this=this;this.callInDigestLoop(function(){_this.groupFulledObservable.onNext({})})},StateHandlerService.prototype.handleGameStarted=function(){var _this=this;this.callInDigestLoop(function(){_this.$rootScope.isStartGamePage=!0,_this.startGameModalInstance&&(_this.startGameModalInstance.close(),_this.startGameModalInstance=null)}),this.gameStartedObservable.onNext({})},StateHandlerService.prototype.getUserId=function(){return this.$rootScope.userId},StateHandlerService.prototype.setUserId=function(userId){this.$rootScope.userId=userId},StateHandlerService.prototype.handleUser2LeftGroup=function(){var _this=this;this.callInDigestLoop(function(){_this.userLeftGroupObservable.onNext({}),_this.$rootScope.isStartGamePage=!1,_this.showStartGameModal()})},StateHandlerService.prototype.getUserDisplayName=function(){return this.$rootScope.displayName},StateHandlerService.$inject=["$rootScope","$uibModal"],StateHandlerService}();Services.StateHandlerService=StateHandlerService,angular.module(Common.GetConstants().appName).service("Services.StateHandlerService",StateHandlerService)}(Services||(Services={}));var controllers;!function(controllers){var ConnectToGameController=function(){function ConnectToGameController(connectionHubService,$scope,stateHandler,$rootScope){this.connectionHubService=connectionHubService,this.$scope=$scope,this.stateHandler=stateHandler,this.$rootScope=$rootScope,this.initializeViewModel()}return ConnectToGameController.prototype.initializeViewModel=function(){var _this=this;this.stateHandler.setConnectToGameScope(this.$scope),this.connectionHubService.onUserLeft(function(data){return _this.onUserLeft.call(_this,data)}),this.connectionHubService.onGroupFulled(function(data){return _this.onGroupFulled.call(_this,data)}),this.connectionHubService.onConnectedToGroup(function(data){return _this.onConnectedToGroup.call(_this,data)}),this.$scope.connectToGroup=function(){return _this.connectToGroup.apply(_this)};var promise=this.connectionHubService.connectToHub().done(function(value){_this.stateHandler.setUserId(value)});this.stateHandler.handleConnectionToHub(promise),this.$scope.levels=[{level:Models.Level.Beginer,name:"Новачок"},{level:Models.Level.Intermediate,name:"Средний"},{level:Models.Level.Advanced,name:"Высокий"}],this.$rootScope.level=this.$scope.levels[1],this.$scope.changeLevel=function(level){return _this.$rootScope.level=level},this.$rootScope.displayName="Случайный игрок"},ConnectToGameController.prototype.onGroupFulled=function(groupInfo){this.groupInfo=groupInfo,this.stateHandler.handleGroupFulled()},ConnectToGameController.prototype.onUserLeft=function(groupInfo){this.groupInfo=null,this.stateHandler.handleUser2LeftGroup()},ConnectToGameController.prototype.connectToGroup=function(){var promise=this.connectionHubService.connectToNewGroup(this.stateHandler.getUserDisplayName(),this.$rootScope.level.level);this.stateHandler.handleConnectionToGroup(promise)},ConnectToGameController.prototype.onConnectedToGroup=function(userId){this.stateHandler.setUserId(userId),this.stateHandler.handleUserAddedToGroup()},ConnectToGameController.$inject=["Services.ConnectToGameService","$scope","Services.StateHandlerService","$rootScope"],ConnectToGameController}();controllers.ConnectToGameController=ConnectToGameController,angular.module(Common.GetConstants().appName).controller("controllers.ConnectToGameController",ConnectToGameController)}(controllers||(controllers={}));var controllers;!function(controllers){var GameController=function(){function GameController(connectionHubService,$scope,stateHandler,$interval,$timeout){this.connectionHubService=connectionHubService,this.$scope=$scope,this.stateHandler=stateHandler,this.$interval=$interval,this.secondsForMove=10,this.$timeout=$timeout,this.initializeViewModel()}return GameController.prototype.initializeViewModel=function(){var _this=this;this.connectionHubService.gameStarted(function(data){return _this.startGame.call(_this,data)}),this.connectionHubService.didMove(function(data){return _this.user2didMove.call(_this,data)}),this.$scope.doMove=function(variant){return _this.doMove.call(_this,variant)},this.connectionHubService.onUserLeft(function(){return _this.onUserLeft.call(_this)}),this.unsetGameInfo()},GameController.prototype.onUserLeft=function(){this.stopTimer(),this.unsetGameInfo()},GameController.prototype.unsetGameInfo=function(){var _this=this;this.gameInfo=null,this.callInDigestLoop(function(){_this.$scope.currentWord=null,_this.$scope.secondsForMoveLeft=null,_this.$scope.percentagesLeft=null,_this.$scope.isCurrentUserMove=null,_this.$scope.currentUserScore=null,_this.$scope.passedWords=[],_this.$scope.leftWords=[]})},GameController.prototype.startGame=function(game){var _this=this;this.gameInfo=game,this.words=game.words;var isUser1=game.user1.userId===this.stateHandler.getUserId();this.userNum=isUser1?1:2,this.$scope.$apply(function(){function shuffle(arr){for(var t,i,array=arr.slice(0),m=array.length;m;)i=Math.floor(Math.random()*m--),t=array[m],array[m]=array[i],array[i]=t;return array}_this.$scope.currentUserScore=isUser1?game.user1Score:game.user2Score,_this.$scope.user2Score=isUser1?game.user2Score:game.user1Score,_this.$scope.user2DisplayName=isUser1?game.user2.displayName:game.user1.displayName,_this.$scope.currentWordIndex=0,_this.$scope.currentWord=_this.words[0],_this.setVarinatsOrder(),_this.$scope.isCurrentUserMove=isUser1&&1===_this.gameInfo.currentMove||!isUser1&&2===_this.gameInfo.currentMove,_this.$scope.leftWords=shuffle(_this.words.slice(1))}),this.stateHandler.handleGameStarted(),this.startTimer()},GameController.prototype.callInDigestLoop=function(action){this.$scope.$$phase?action():this.$scope.$apply(function(){action()})},GameController.prototype.startTimer=function(){var _this=this;if(this.timerPromise)throw"Previous timer should be stopped";this.callInDigestLoop(function(){_this.$scope.secondsForMoveLeft=_this.secondsForMove,_this.$scope.percentagesLeft=100}),this.timerPromise=this.$interval(function(){_this.$scope.secondsForMoveLeft--,_this.$scope.percentagesLeft=_this.$scope.secondsForMoveLeft/10*100,0===_this.$scope.secondsForMoveLeft&&_this.$scope.isCurrentUserMove&&_this.passMove()},1e3,10)},GameController.prototype.stopTimer=function(){this.timerPromise&&(this.$interval.cancel(this.timerPromise),this.timerPromise=null)},GameController.prototype.user2didMove=function(moveRes){var _this=this;this.$scope.$apply(function(){_this.handleMove(moveRes,!1)})},GameController.prototype.passMove=function(){var _this=this;this.connectionHubService.passMove(this.userNum).done(function(moveResult){_this.$scope.$apply(function(){_this.handleMove(moveResult,!0)})})},GameController.prototype.doMove=function(variant){var _this=this;if(0===this.$scope.currentWord.translateVariants.filter(function(v){return v.isSelected}).length&&(this.stopTimer(),0!==this.$scope.secondsForMoveLeft)){var selectedVar=this.$scope.currentWord.translateVariants.filter(function(v){return v.variant===variant})[0];selectedVar?selectedVar.isSelected=!0:console.log("Incorrect var selected"),this.connectionHubService.doMove(this.userNum,this.$scope.currentWord.word,variant).done(function(moveResult){_this.$scope.$apply(function(){_this.handleMove(moveResult,!0)})})}},GameController.prototype.handleMove=function(moveRes,isCurrentUserMove){var _this=this;this.stopTimer();var currentUserScore=1===this.userNum?this.gameInfo.user1Score:this.gameInfo.user2Score,user2Score=1===this.userNum?this.gameInfo.user2Score:this.gameInfo.user1Score,score=isCurrentUserMove?currentUserScore:user2Score;moveRes.isCorrect?moveRes.isSuccessful?score.successfulMoves++:score.wrongMoves++:console.error(moveRes.errorMessage),moveRes.selectedVariantIndex!==-1&&(this.$scope.currentWord.translateVariants[moveRes.selectedVariantIndex].isSelected=!0),1===this.userNum?(this.$scope.currentUserScore=this.gameInfo.user1Score,this.$scope.user2Score=this.gameInfo.user2Score):(this.$scope.currentUserScore=this.gameInfo.user2Score,this.$scope.user2Score=this.gameInfo.user1Score),this.$timeout(function(){function removeFromArrayIf(arr,callback){for(var i=0;i<arr.length;){if(callback(arr[i],i))return void arr.splice(i,1);++i}}if(_this.$scope.isCurrentUserMove=!isCurrentUserMove,_this.$scope.currentWordIndex++,isCurrentUserMove){var passedWord=new Models.PassedWordInfo;passedWord.word=_this.$scope.currentWord.word,passedWord.answer=_this.$scope.currentWord.translateVariants.filter(function(i){return i.isTrue}).shift().variant,passedWord.wasPassed=moveRes.isSuccessful,_this.$scope.passedWords.push(passedWord)}_this.$scope.currentWord=_this.gameInfo.words[_this.$scope.currentWordIndex],_this.setVarinatsOrder(),removeFromArrayIf(_this.$scope.leftWords,function(w){return w.word===_this.$scope.currentWord.word}),moveRes.isLastMove?(_this.stateHandler.handleGameFinished(_this.$scope.currentUserScore.successfulMoves>_this.$scope.user2Score.successfulMoves,_this.$scope.currentUserScore.successfulMoves==_this.$scope.user2Score.successfulMoves),_this.unsetGameInfo()):_this.startTimer()},1e3,!0)},GameController.prototype.setVarinatsOrder=function(){this.$scope.currentWord&&this.$scope.currentWord.translateVariants.forEach(function(value,index){return value.order=index+1})},GameController.$inject=["Services.ConnectToGameService","$scope","Services.StateHandlerService","$interval","$timeout"],GameController}();controllers.GameController=GameController,angular.module(Common.GetConstants().appName).controller("controllers.GameController",GameController)}(controllers||(controllers={})),$(function(){$("#word, .word-left-item-caption").attr("unselectable","on").css({"-moz-user-select":"-moz-none","-o-user-select":"none","-khtml-user-select":"none","-webkit-user-select":"none","-ms-user-select":"none","user-select":"none"}).bind("selectstart",function(){return!1})}),$(function(){$(document).keypress(function(e){if(13===e.which)$(".btn-submit:visible").first().click();else if(e.which>=48&&e.which<=57){var numPressed_1=e.which-48;$(".translateVariant:visible").filter(function(index,elem){return $(elem).data("order")===numPressed_1}).first().click()}})}),$(function(){$("#user2variants").bind("DOMNodeInserted",function(){return $(".translateVariant.nohover").tooltip()})});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy90c2NyaXB0cy9hbmltYXRpb25zL3dvcmRzTGVmdEFuaW1hdGlvbi50cyIsInNyYy90c2NyaXB0cy9jb21tb24udHMiLCJzcmMvdHNjcmlwdHMvbWl4aW5zL25nU2NoZWR1bGVyLnRzIiwic3JjL3RzY3JpcHRzL2FwcC50cyIsInNyYy90c2NyaXB0cy9tb2RlbHMvVXNlci50cyIsInNyYy90c2NyaXB0cy9tb2RlbHMvZ3JvdXAudHMiLCJzcmMvdHNjcmlwdHMvbW9kZWxzL3Njb3JlLnRzIiwic3JjL3RzY3JpcHRzL21vZGVscy90cmFuc2xhdGVWYXJpYW50LnRzIiwic3JjL3RzY3JpcHRzL21vZGVscy93b3JkLnRzIiwic3JjL3RzY3JpcHRzL21vZGVscy9nYW1lLnRzIiwic3JjL3RzY3JpcHRzL21vZGVscy9nYW1lUmVzdWx0LnRzIiwic3JjL3RzY3JpcHRzL21vZGVscy9tb3ZlUmVzdWx0LnRzIiwic3JjL3RzY3JpcHRzL21vZGVscy9wYXNzZWRXb3JkSW5mby50cyIsInNyYy90c2NyaXB0cy9tb2RlbHMvbGV2ZWwudHMiLCJzcmMvdHNjcmlwdHMvc2VydmljZXMvY29ubmVjdFRvR2FtZVNlcnZpY2UudHMiLCJzcmMvdHNjcmlwdHMvc2VydmljZXMvaHViQ29ubmVjdGlvblNlcnZpY2UudHMiLCJzcmMvdHNjcmlwdHMvc2VydmljZXMvc3RhdGVIYW5kbGVyU2VydmljZS50cyIsInNyYy90c2NyaXB0cy9jb250cm9sbGVycy9jb25uZWN0aW9uQ29udHJvbGxlci50cyIsInNyYy90c2NyaXB0cy9jb250cm9sbGVycy9nYW1lQ29udHJvbGxlci50cyIsInNyYy90c2NyaXB0cy9kb20vZGlzYWJsZVNlbGVjdGlvbi50cyIsInNyYy90c2NyaXB0cy9kb20va2V5Ym9hcmRCaW5kaW5ncy50cyIsInNyYy90c2NyaXB0cy9kb20vdG9vbHRpcC50cyJdLCJuYW1lcyI6WyJnZXRXb3JkQ29udGFpbmVyUG9zdGlvbiIsIiRlbGVtZW50IiwiJCIsIngiLCJvZmZzZXQiLCJsZWZ0IiwieSIsInRvcCIsIkNvbW1vbiIsIkdldENvbnN0YW50cyIsIkNvbnN0YW50cyIsInRoaXMiLCJhcHBOYW1lIiwiaHViQ29ubmVjdFRvR3JvdXBNZXRob2ROYW1lIiwiY29ubmVjdGVkVG9Hcm91cCIsImxlZnRHcm91cCIsImdyb3VwRnVsbGVkIiwiY29tcGV0aXRpb25IdWIiLCJnYW1lU3RhcnRlZCIsImRpZE1vdmUiLCJnYW1lRmluaXNoZWQiLCJkb01vdmUiLCJwYXNzTW92ZSIsIk1peGlucyIsImFjdGlvbldyYXBwZXIiLCIkc2NvcGUiLCJhY3Rpb24iLCJzY2hlZHVsZXIiLCJzdGF0ZSIsIiQkcGhhc2UiLCJ2YWx1ZV8xIiwiJGFwcGx5IiwiTmdTY2hlZHVsZXIiLCJpbW1lZGlhdGVTY2hlZHVsZXIiLCJSeCIsIlNjaGVkdWxlciIsImltbWVkaWF0ZSIsInByb3RvdHlwZSIsIm5vdyIsInNjaGVkdWxlIiwic2NoZWR1bGVGdXR1cmUiLCJkdWVUaW1lIiwiRXJyb3IiLCJzY2hlZHVsZVJlY3Vyc2l2ZSIsInNjaGVkdWxlUmVjdXJzaXZlRnV0dXJlIiwic2NoZWR1bGVQZXJpb2RpYyIsInBlcmlvZCIsImNhdGNoIiwiaGFuZGxlciIsIkFwcCIsIkdldEFwcCIsImFwcCIsImNvbnN0YW50cyIsImFuZ3VsYXIiLCJtb2R1bGUiLCJNb2RlbHMiLCJVc2VyIiwiR3JvdXAiLCJTY29yZSIsIlRyYW5zbGF0ZVZhcmlhbnQiLCJ2YXJpYW50IiwiaXNUcnVlIiwiaXNTZWxlY3RlZCIsIldvcmQiLCJHYW1lIiwiR2FtZVJlc3VsdCIsIk1vdmVSZXN1bHQiLCJQYXNzZWRXb3JkSW5mbyIsIkxldmVsIiwiU2VydmljZXMiLCJDb25uZWN0VG9HYW1lU2VydmljZSIsImh1YkNvbm5lY3Rpb25TZXJ2aWNlIiwiY29ubmVjdGlvbiIsImdldENvbm5lY3Rpb24iLCJodWIiLCJjcmVhdGVIdWJQcm94eSIsImNvbm5lY3RUb0h1YiIsInN0YXJ0IiwibW92ZU9yZGVyIiwid29yZCIsImludm9rZSIsImNvbm5lY3RUb05ld0dyb3VwIiwiZGlzcGxheU5hbWUiLCJsZXZlbCIsIm9uQ29ubmVjdGVkVG9Hcm91cCIsImNhbGxCYWNrIiwib24iLCJtc2ciLCJvbkdyb3VwRnVsbGVkIiwib25Vc2VyTGVmdCIsIiRpbmplY3QiLCJzZXJ2aWNlIiwiSHViQ29ubmVjdGlvblNlcnZpY2UiLCJodWJDb25uZWN0aW9uIiwidXNlRGVmYXVsdFBhdGgiLCJsb2dnaW5nIiwidG9Qcm9taXNlQ3VzdG9tIiwib2JzZXJ2YWJsZSIsInByb21pc2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsInN1YnNjcmliZSIsIlN0YXRlSGFuZGxlclNlcnZpY2UiLCIkcm9vdFNjb3BlIiwiJG1vZGFsIiwiaXNTdGFydEdhbWVQYWdlIiwidXNlcklkIiwiZ3JvdXBGdWxsZWRPYnNlcnZhYmxlIiwiU3ViamVjdCIsImFkZGVkVG9Hcm91cE9ic2VydmFibGUiLCJ1c2VyTGVmdEdyb3VwT2JzZXJ2YWJsZSIsImdhbWVTdGFydGVkT2JzZXJ2YWJsZSIsImNhbGxJbkRpZ2VzdExvb3AiLCJzaG93U3RhcnRHYW1lTW9kYWwiLCJvcHQiLCJzY29wZSIsImNvbm5lY3RUb0dhbWVTY29wZSIsInRlbXBsYXRlVXJsIiwid2luZG93VGVtcGxhdGVVcmwiLCJiYWNrZHJvcCIsImtleWJvYXJkIiwiYW5pbWF0aW9uIiwic2l6ZSIsInN0YXJ0R2FtZU1vZGFsSW5zdGFuY2UiLCJvcGVuIiwic2hvd0dhbWVGaW5pc2hlZE1vZGFsV2luZG93IiwiaXNXaW4iLCJpc0RyYXciLCJ1bmRlZmluZWQiLCJjb250cm9sbGVyIiwicGxheUFnYWluIiwiY29ubmVjdFRvR3JvdXAiLCJtZXNzYWdlIiwic2V0Q29ubmVjdFRvR2FtZVNjb3BlIiwiaGFuZGxlQ29ubmVjdGlvblRvR3JvdXAiLCJfdGhpcyIsImZhaWwiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJhZGRlZFRvR3JvdXAiLCJ0YWtlIiwiYWRkZWRUb0dyb3VwUHJvbWlzZSIsImNsb3NlIiwidXNlcjJDb25uZWN0ZWRQcm9taXNlIiwibG9hZGluZ0dhbWVQcm9taXNlIiwiT2JzZXJ2YWJsZSIsIm1lcmdlIiwiY29ubmVjdFRvR3JvdXBQcm9taXNlIiwiaGFuZGxlVXNlckFkZGVkVG9Hcm91cCIsIm9uTmV4dCIsImhhbmRsZUNvbm5lY3Rpb25Ub0h1YiIsImRvbmUiLCJjb25uZWN0VG9IdWJQcm9taXNlIiwiaGFuZGxlR2FtZUZpbmlzaGVkIiwiaGFuZGxlR3JvdXBGdWxsZWQiLCJoYW5kbGVHYW1lU3RhcnRlZCIsImdldFVzZXJJZCIsInNldFVzZXJJZCIsImhhbmRsZVVzZXIyTGVmdEdyb3VwIiwiZ2V0VXNlckRpc3BsYXlOYW1lIiwiY29udHJvbGxlcnMiLCJDb25uZWN0VG9HYW1lQ29udHJvbGxlciIsImNvbm5lY3Rpb25IdWJTZXJ2aWNlIiwic3RhdGVIYW5kbGVyIiwiaW5pdGlhbGl6ZVZpZXdNb2RlbCIsImRhdGEiLCJjYWxsIiwiYXBwbHkiLCJ2YWx1ZSIsImxldmVscyIsIkJlZ2luZXIiLCJuYW1lIiwiSW50ZXJtZWRpYXRlIiwiQWR2YW5jZWQiLCJjaGFuZ2VMZXZlbCIsImdyb3VwSW5mbyIsIkdhbWVDb250cm9sbGVyIiwiJGludGVydmFsIiwiJHRpbWVvdXQiLCJzZWNvbmRzRm9yTW92ZSIsInN0YXJ0R2FtZSIsInVzZXIyZGlkTW92ZSIsInVuc2V0R2FtZUluZm8iLCJzdG9wVGltZXIiLCJnYW1lSW5mbyIsImN1cnJlbnRXb3JkIiwic2Vjb25kc0Zvck1vdmVMZWZ0IiwicGVyY2VudGFnZXNMZWZ0IiwiaXNDdXJyZW50VXNlck1vdmUiLCJjdXJyZW50VXNlclNjb3JlIiwicGFzc2VkV29yZHMiLCJsZWZ0V29yZHMiLCJnYW1lIiwid29yZHMiLCJpc1VzZXIxIiwidXNlcjEiLCJ1c2VyTnVtIiwic2h1ZmZsZSIsImFyciIsInQiLCJpIiwiYXJyYXkiLCJzbGljZSIsIm0iLCJsZW5ndGgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJ1c2VyMVNjb3JlIiwidXNlcjJTY29yZSIsInVzZXIyRGlzcGxheU5hbWUiLCJ1c2VyMiIsImN1cnJlbnRXb3JkSW5kZXgiLCJzZXRWYXJpbmF0c09yZGVyIiwiY3VycmVudE1vdmUiLCJzdGFydFRpbWVyIiwidGltZXJQcm9taXNlIiwiY2FuY2VsIiwibW92ZVJlcyIsImhhbmRsZU1vdmUiLCJtb3ZlUmVzdWx0IiwidHJhbnNsYXRlVmFyaWFudHMiLCJmaWx0ZXIiLCJ2Iiwic2VsZWN0ZWRWYXIiLCJzY29yZSIsImlzQ29ycmVjdCIsImlzU3VjY2Vzc2Z1bCIsInN1Y2Nlc3NmdWxNb3ZlcyIsIndyb25nTW92ZXMiLCJlcnJvck1lc3NhZ2UiLCJzZWxlY3RlZFZhcmlhbnRJbmRleCIsInJlbW92ZUZyb21BcnJheUlmIiwiY2FsbGJhY2siLCJzcGxpY2UiLCJwYXNzZWRXb3JkIiwiYW5zd2VyIiwic2hpZnQiLCJ3YXNQYXNzZWQiLCJwdXNoIiwidyIsImlzTGFzdE1vdmUiLCJmb3JFYWNoIiwiaW5kZXgiLCJvcmRlciIsImF0dHIiLCJjc3MiLCItbW96LXVzZXItc2VsZWN0IiwiLW8tdXNlci1zZWxlY3QiLCIta2h0bWwtdXNlci1zZWxlY3QiLCItd2Via2l0LXVzZXItc2VsZWN0IiwiLW1zLXVzZXItc2VsZWN0IiwidXNlci1zZWxlY3QiLCJiaW5kIiwiZG9jdW1lbnQiLCJrZXlwcmVzcyIsImUiLCJ3aGljaCIsImZpcnN0IiwiY2xpY2siLCJudW1QcmVzc2VkXzEiLCJlbGVtIiwidG9vbHRpcCJdLCJtYXBwaW5ncyI6IkFBNkJBLFFBQUFBLDJCQUNJLEdBQUlDLFVBQVdDLEVBQUUsZ0JBRWpCLFFBQ0lDLEVBQUdGLFNBQVNHLFNBQVNDLEtBQ3JCQyxFQUFHTCxTQUFTRyxTQUFTRyxLQzFCN0IsR0FBT0MsU0FBUCxTQUFPQSxRQTZCSCxRQUFBQyxnQkFDSSxNQUFPLElBQUlDLFdBN0JmLEdBQUFBLFdBQUEsV0FhSSxRQUFBQSxhQUNJQyxLQUFLQyxRQUFVLFVBQ2ZELEtBQUtFLDRCQUE4QixVQUNuQ0YsS0FBS0csaUJBQW1CLFlBQ3hCSCxLQUFLSSxVQUFZLFdBQ2pCSixL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QyxlQUFBNUksVUFBQWlMLGlCQUFSLFdBQ1MzTSxLQUFLYyxPQUFPaUssYUFJakIvSyxLQUFLYyxPQUFPaUssWUFBWW9DLGtCQUFrQnFCLFFBQVEsU0FBQzFFLE1BQU8yRSxPQUFVLE1BQUEzRSxPQUFNNEUsTUFBUUQsTUFBUSxLQTlPdkZuRSxlQUFBdkYsU0FBVyxnQ0FBaUMsU0FBVSwrQkFBZ0MsWUFBYSxZQWdQOUd1RixpQkE1UGFoQixhQUFBZ0IsZUFBY0EsZUE4UDNCNUgsUUFBUUMsT0FBTzlDLE9BQU9DLGVBQWVHLFNBQVNxSCxXQUFXLDZCQUE4QmdELGlCQS9QcEZoQixjQUFBQSxpQkNEUC9KLEVBQUUsV0FFRUEsRUFBRSxrQ0FBa0NvUCxLQUFLLGVBQWUsTUFDdERDLEtBQUtDLG1CQUFtQixZQUNuQkMsaUJBQWlCLE9BQ2pCQyxxQkFBcUIsT0FDckJDLHNCQUFzQixPQUN0QkMsa0JBQWtCLE9BQ2xCQyxjQUFjLFNBQ2pCQyxLQUFLLGNBQWUsV0FBWSxPQUFPLE1DVC9DNVAsRUFBRSxXQUNFQSxFQUFFNlAsVUFBVUMsU0FBUyxTQUFBQyxHQUNqQixHQUFnQixLQUFaQSxFQUFFQyxNQUNGaFEsRUFBRSx1QkFBdUJpUSxRQUFRQyxZQUM5QixJQUFJSCxFQUFFQyxPQUFTLElBQU1ELEVBQUVDLE9BQVMsR0FBSSxDQUN2QyxHQUFJRyxjQUFhSixFQUFFQyxNQUFRLEVBQzNCaFEsR0FBRSw2QkFBNkI2TixPQUFPLFNBQUNxQixNQUFPa0IsTUFBUyxNQUFBcFEsR0FBRW9RLE1BQU1oRyxLQUFLLFdBQWErRixlQUM1RUYsUUFDQUMsYUNSakJsUSxFQUFFLFdBQ0VBLEVBQUUsa0JBQWtCNFAsS0FBSyxrQkFBbUIsV0FBTSxNQUFDNVAsR0FBRSw2QkFBcUNxUSIsImZpbGUiOiJjdXN0b20uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vY29tbW9uLnRzXCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2FwcC50c1wiIC8+XHJcbmludGVyZmFjZSBQb2ludCB7XHJcbiAgICB4OiBudW1iZXI7XHJcbiAgICB5OiBudW1iZXI7XHJcbn07XHJcblxyXG4vLyBBcHAuR2V0QXBwKCkuYW5pbWF0aW9uKCcud29yZHMtbGVmdC1pdGVtJywgZnVuY3Rpb24oKTphbmd1bGFyLmFuaW1hdGUuSUFuaW1hdGVDYWxsYmFja09iamVjdCB7XHJcbi8vICAgICByZXR1cm4ge1xyXG4vLyAgICAgICAgIGxlYXZlOiBmdW5jdGlvbihlbGVtZW50OiBKUXVlcnksIGRvbmU6IEZ1bmN0aW9uKSB7XHJcbi8vICAgICAgICAgICAgIGxldCAkZWxlbWVudCA9ICQoZWxlbWVudCk7XHJcbi8vICAgICAgICAgICAgIHZhciB0YXJnZXRQb3MgPSBnZXRXb3JkQ29udGFpbmVyUG9zdGlvbigpO1xyXG4vLyAgICAgICAgICAgICAvLyAkZWxlbWVudC5hbmltYXRlKHtcclxuLy8gICAgICAgICAgICAgLy8gICAgIG9wYXNpdHk6IDAsXHJcbi8vICAgICAgICAgICAgIC8vICAgICB0b3A6IHRhcmdldFBvcy55LFxyXG4vLyAgICAgICAgICAgICAvLyAgICAgbGVmdDogdGFyZ2V0UG9zLnhcclxuLy8gICAgICAgICAgICAgLy8gfSwgZG9uZSk7XHJcbi8vICAgICAgICAgICAgIGRvbmUoKTtcclxuXHJcbi8vICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihpc0NhbmNlbGxlZDogYm9vbGVhbikge1xyXG4vLyAgICAgICAgICAgICAgICAgaWYgKGlzQ2FuY2VsbGVkKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgJGVsZW1lbnQuc3RvcCgpO1xyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfTtcclxuLy8gfSlcclxuXHJcblxyXG5mdW5jdGlvbiBnZXRXb3JkQ29udGFpbmVyUG9zdGlvbigpOiBQb2ludCB7XHJcbiAgICBsZXQgJGVsZW1lbnQgPSAkKCcjd29yZC1lbGVtZW50Jyk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB4OiAkZWxlbWVudC5vZmZzZXQoKS5sZWZ0LFxyXG4gICAgICAgIHk6ICRlbGVtZW50Lm9mZnNldCgpLnRvcFxyXG4gICAgfVxyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL3R5cGluZ3MvZ2xvYmFscy9hbmd1bGFyL2luZGV4LmQudHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vdHlwaW5ncy9nbG9iYWxzL2pxdWVyeS9pbmRleC5kLnRzXCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL3R5cGluZ3MvZ2xvYmFscy9zaWduYWxyL2luZGV4LmQudHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vdHlwaW5ncy9nbG9iYWxzL2VzNi1zaGltL2luZGV4LmQudHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vdHlwaW5ncy9nbG9iYWxzL2FuZ3VsYXItdWktYm9vdHN0cmFwL2luZGV4LmQudHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vbm9kZV9tb2R1bGVzL3J4L3RzL3J4LmQudHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vdHlwaW5ncy9nbG9iYWxzL3J4LmFuZ3VsYXIvaW5kZXguZC50c1wiIC8+XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi90eXBpbmdzL2dsb2JhbHMvYW5ndWxhci1hbmltYXRlL2luZGV4LmQudHNcIiAvPlxyXG5tb2R1bGUgQ29tbW9uIHtcclxuICAgIGV4cG9ydCBjbGFzcyBDb25zdGFudHMge1xyXG4gICAgICAgIHB1YmxpYyBhcHBOYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgcHVibGljIGh1YkNvbm5lY3RUb0dyb3VwTWV0aG9kTmFtZTogc3RyaW5nO1xyXG4gICAgICAgIHB1YmxpYyBjb25uZWN0ZWRUb0dyb3VwOiBzdHJpbmc7XHJcbiAgICAgICAgcHVibGljIGxlZnRHcm91cDogc3RyaW5nO1xyXG4gICAgICAgIHB1YmxpYyBncm91cEZ1bGxlZDogc3RyaW5nO1xyXG4gICAgICAgIHB1YmxpYyBjb21wZXRpdGlvbkh1Yjogc3RyaW5nO1xyXG4gICAgICAgIHB1YmxpYyBnYW1lU3RhcnRlZDogc3RyaW5nO1xyXG4gICAgICAgIHB1YmxpYyBkaWRNb3ZlOiBzdHJpbmc7XHJcbiAgICAgICAgcHVibGljIGdhbWVGaW5pc2hlZDogc3RyaW5nO1xyXG4gICAgICAgIHB1YmxpYyBkb01vdmU6IHN0cmluZztcclxuICAgICAgICBwdWJsaWMgcGFzc01vdmU6IHN0cmluZztcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXBwTmFtZSA9IFwiZ2FtZUFwcFwiXHJcbiAgICAgICAgICAgIHRoaXMuaHViQ29ubmVjdFRvR3JvdXBNZXRob2ROYW1lID0gXCJjb25uZWN0XCI7XHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGVkVG9Hcm91cCA9IFwidXNlckFkZGVkXCI7XHJcbiAgICAgICAgICAgIHRoaXMubGVmdEdyb3VwID0gXCJ1c2VyTGVmdFwiO1xyXG4gICAgICAgICAgICB0aGlzLmdyb3VwRnVsbGVkID0gXCJncm91cEZ1bGxlZFwiO1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBldGl0aW9uSHViID0gXCJjb21wZXRpdGlvbkh1YlwiO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVTdGFydGVkID0gXCJnYW1lU3RhcnRlZFwiO1xyXG4gICAgICAgICAgICB0aGlzLmRpZE1vdmUgPSBcImRpZE1vdmVcIjtcclxuICAgICAgICAgICAgdGhpcy5nYW1lRmluaXNoZWQgPSBcImdhbWVGaW5pc2hlZFwiO1xyXG4gICAgICAgICAgICB0aGlzLmRvTW92ZSA9IFwiZG9Nb3ZlXCI7XHJcbiAgICAgICAgICAgIHRoaXMucGFzc01vdmUgPSBcInBhc3NNb3ZlXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gIEdldENvbnN0YW50cygpOiBDb25zdGFudHMge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ29uc3RhbnRzKCk7XHJcbiAgICB9XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vY29tbW9uLnRzXCIgLz5cclxubW9kdWxlIE1peGlucyB7XHJcbiAgICBmdW5jdGlvbiBhY3Rpb25XcmFwcGVyPFRTdGF0ZT4oJHNjb3BlOiBuZy5JU2NvcGUsIGFjdGlvbjogKHNjaGVkdWxlcjogUnguSVNjaGVkdWxlciwgc3RhdGU6IFRTdGF0ZSkgPT4gUnguSURpc3Bvc2FibGUpOiBcclxuICAgIChzY2hlZHVsZXI6IFJ4LklTY2hlZHVsZXIsIHN0YXRlOiBUU3RhdGUpID0+IFJ4LklEaXNwb3NhYmxlICB7XHJcbiAgICAgICAgcmV0dXJuIChzY2hlZHVsZXI6IFJ4LklTY2hlZHVsZXIsIHN0YXRlOiBUU3RhdGUpOiBSeC5JRGlzcG9zYWJsZSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghJHNjb3BlLiQkcGhhc2UpIHtcclxuICAgICAgICAgICAgICAgIGxldCB2YWx1ZTogUnguSURpc3Bvc2FibGU7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJGFwcGx5KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGFjdGlvbihzY2hlZHVsZXIsIHN0YXRlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBhY3Rpb24oc2NoZWR1bGVyLCBzdGF0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBOZ1NjaGVkdWxlciBpbXBsZW1lbnRzIFJ4LklTY2hlZHVsZXIge1xyXG4gICAgICAgIHByaXZhdGUgaW1tZWRpYXRlU2NoZWR1bGVyOiBSeC5JU2NoZWR1bGVyO1xyXG4gICAgICAgIHByaXZhdGUgJHNjb3BlOiBuZy5JU2NvcGU7XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKCRzY29wZTogbmcuSVNjb3BlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW1tZWRpYXRlU2NoZWR1bGVyID0gUnguU2NoZWR1bGVyLmltbWVkaWF0ZTtcclxuICAgICAgICAgICAgdGhpcy4kc2NvcGUgPSAkc2NvcGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBub3coKTogbnVtYmVyIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW1tZWRpYXRlU2NoZWR1bGVyLm5vdygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICAqIFNjaGVkdWxlcyBhbiBhY3Rpb24gdG8gYmUgZXhlY3V0ZWQuXHJcbiAgICAgICAgICAqIEBwYXJhbSBzdGF0ZSBTdGF0ZSBwYXNzZWQgdG8gdGhlIGFjdGlvbiB0byBiZSBleGVjdXRlZC5cclxuICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYWN0aW9uIEFjdGlvbiB0byBiZSBleGVjdXRlZC5cclxuICAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFRoZSBkaXNwb3NhYmxlIG9iamVjdCB1c2VkIHRvIGNhbmNlbCB0aGUgc2NoZWR1bGVkIGFjdGlvbiAoYmVzdCBlZmZvcnQpLlxyXG4gICAgICAgICAgKi9cclxuICAgICAgICBzY2hlZHVsZTxUU3RhdGU+KHN0YXRlOiBUU3RhdGUsIGFjdGlvbjogKHNjaGVkdWxlcjogUnguSVNjaGVkdWxlciwgc3RhdGU6IFRTdGF0ZSkgPT4gUnguSURpc3Bvc2FibGUpOiBSeC5JRGlzcG9zYWJsZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmltbWVkaWF0ZVNjaGVkdWxlci5zY2hlZHVsZShzdGF0ZSwgYWN0aW9uV3JhcHBlcih0aGlzLiRzY29wZSwgYWN0aW9uKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTY2hlZHVsZXMgYW4gYWN0aW9uIHRvIGJlIGV4ZWN1dGVkIGFmdGVyIGR1ZVRpbWUuXHJcbiAgICAgICAgICogQHBhcmFtIHN0YXRlIFN0YXRlIHBhc3NlZCB0byB0aGUgYWN0aW9uIHRvIGJlIGV4ZWN1dGVkLlxyXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFjdGlvbiBBY3Rpb24gdG8gYmUgZXhlY3V0ZWQuXHJcbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IGR1ZVRpbWUgUmVsYXRpdmUgdGltZSBhZnRlciB3aGljaCB0byBleGVjdXRlIHRoZSBhY3Rpb24uXHJcbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFRoZSBkaXNwb3NhYmxlIG9iamVjdCB1c2VkIHRvIGNhbmNlbCB0aGUgc2NoZWR1bGVkIGFjdGlvbiAoYmVzdCBlZmZvcnQpLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHNjaGVkdWxlRnV0dXJlPFRTdGF0ZT4oc3RhdGU6IFRTdGF0ZSwgZHVlVGltZTogbnVtYmVyIHwgRGF0ZSwgYWN0aW9uOiAoc2NoZWR1bGVyOiBSeC5JU2NoZWR1bGVyLCBzdGF0ZTogVFN0YXRlKSA9PiBSeC5JRGlzcG9zYWJsZSk6IFJ4LklEaXNwb3NhYmxlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IHN1cHBvcnRlZFwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNjaGVkdWxlcyBhbiBhY3Rpb24gdG8gYmUgZXhlY3V0ZWQgcmVjdXJzaXZlbHkuXHJcbiAgICAgICAgICogQHBhcmFtIHtNaXhlZH0gc3RhdGUgU3RhdGUgcGFzc2VkIHRvIHRoZSBhY3Rpb24gdG8gYmUgZXhlY3V0ZWQuXHJcbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYWN0aW9uIEFjdGlvbiB0byBleGVjdXRlIHJlY3Vyc2l2ZWx5LiBUaGUgbGFzdCBwYXJhbWV0ZXIgcGFzc2VkIHRvIHRoZSBhY3Rpb24gaXMgdXNlZCB0byB0cmlnZ2VyIHJlY3Vyc2l2ZSBzY2hlZHVsaW5nIG9mIHRoZSBhY3Rpb24sIHBhc3NpbmcgaW4gcmVjdXJzaXZlIGludm9jYXRpb24gc3RhdGUuXHJcbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFRoZSBkaXNwb3NhYmxlIG9iamVjdCB1c2VkIHRvIGNhbmNlbCB0aGUgc2NoZWR1bGVkIGFjdGlvbiAoYmVzdCBlZmZvcnQpLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHNjaGVkdWxlUmVjdXJzaXZlPFRTdGF0ZT4oc3RhdGU6IFRTdGF0ZSwgYWN0aW9uOiAoc3RhdGU6IFRTdGF0ZSwgYWN0aW9uOiAoc3RhdGU6IFRTdGF0ZSkgPT4gdm9pZCkgPT4gdm9pZCk6IFJ4LklEaXNwb3NhYmxlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IHN1cHBvcnRlZFwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNjaGVkdWxlcyBhbiBhY3Rpb24gdG8gYmUgZXhlY3V0ZWQgcmVjdXJzaXZlbHkgYWZ0ZXIgYSBzcGVjaWZpZWQgcmVsYXRpdmUgZHVlIHRpbWUuXHJcbiAgICAgICAgICogQHBhcmFtIHtNaXhlZH0gc3RhdGUgU3RhdGUgcGFzc2VkIHRvIHRoZSBhY3Rpb24gdG8gYmUgZXhlY3V0ZWQuXHJcbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYWN0aW9uIEFjdGlvbiB0byBleGVjdXRlIHJlY3Vyc2l2ZWx5LiBUaGUgbGFzdCBwYXJhbWV0ZXIgcGFzc2VkIHRvIHRoZSBhY3Rpb24gaXMgdXNlZCB0byB0cmlnZ2VyIHJlY3Vyc2l2ZSBzY2hlZHVsaW5nIG9mIHRoZSBhY3Rpb24sIHBhc3NpbmcgaW4gdGhlIHJlY3Vyc2l2ZSBkdWUgdGltZSBhbmQgaW52b2NhdGlvbiBzdGF0ZS5cclxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn1kdWVUaW1lIFJlbGF0aXZlIHRpbWUgYWZ0ZXIgd2hpY2ggdG8gZXhlY3V0ZSB0aGUgYWN0aW9uIGZvciB0aGUgZmlyc3QgdGltZS5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gVGhlIGRpc3Bvc2FibGUgb2JqZWN0IHVzZWQgdG8gY2FuY2VsIHRoZSBzY2hlZHVsZWQgYWN0aW9uIChiZXN0IGVmZm9ydCkuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgc2NoZWR1bGVSZWN1cnNpdmVGdXR1cmU8VFN0YXRlLCBUVGltZSBleHRlbmRzIG51bWJlciB8IERhdGU+KHN0YXRlOiBUU3RhdGUsIGR1ZVRpbWU6IFRUaW1lLCBhY3Rpb246IChzdGF0ZTogVFN0YXRlLCBhY3Rpb246IChzdGF0ZTogVFN0YXRlLCBkdWVUaW1lOiBUVGltZSkgPT4gdm9pZCkgPT4gdm9pZCk6IFJ4LklEaXNwb3NhYmxlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IHN1cHBvcnRlZFwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNjaGVkdWxlcyBhIHBlcmlvZGljIHBpZWNlIG9mIHdvcmsgYnkgZHluYW1pY2FsbHkgZGlzY292ZXJpbmcgdGhlIHNjaGVkdWxlcidzIGNhcGFiaWxpdGllcy4gVGhlIHBlcmlvZGljIHRhc2sgd2lsbCBiZSBzY2hlZHVsZWQgdXNpbmcgd2luZG93LnNldEludGVydmFsIGZvciB0aGUgYmFzZSBpbXBsZW1lbnRhdGlvbi5cclxuICAgICAgICAgKiBAcGFyYW0ge01peGVkfSBzdGF0ZSBJbml0aWFsIHN0YXRlIHBhc3NlZCB0byB0aGUgYWN0aW9uIHVwb24gdGhlIGZpcnN0IGl0ZXJhdGlvbi5cclxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gcGVyaW9kIFBlcmlvZCBmb3IgcnVubmluZyB0aGUgd29yayBwZXJpb2RpY2FsbHkuXHJcbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYWN0aW9uIEFjdGlvbiB0byBiZSBleGVjdXRlZCwgcG90ZW50aWFsbHkgdXBkYXRpbmcgdGhlIHN0YXRlLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBUaGUgZGlzcG9zYWJsZSBvYmplY3QgdXNlZCB0byBjYW5jZWwgdGhlIHNjaGVkdWxlZCByZWN1cnJpbmcgYWN0aW9uIChiZXN0IGVmZm9ydCkuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgc2NoZWR1bGVQZXJpb2RpYzxUU3RhdGU+KHN0YXRlOiBUU3RhdGUsIHBlcmlvZDogbnVtYmVyLCBhY3Rpb246IChzdGF0ZTogVFN0YXRlKSA9PiBUU3RhdGUpOiBSeC5JRGlzcG9zYWJsZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBzdXBwb3J0ZWRcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjYXRjaChoYW5kbGVyOiBGdW5jdGlvbik6IFJ4LklTY2hlZHVsZXIge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbW1lZGlhdGVTY2hlZHVsZXIuY2F0Y2goaGFuZGxlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cImNvbW1vbi50c1wiIC8+XHJcbm1vZHVsZSBBcHAge1xyXG4gICAgdmFyIGNvbnN0YW50cyA9IENvbW1vbi5HZXRDb25zdGFudHMoKTtcclxuICAgIHZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZShjb25zdGFudHMuYXBwTmFtZSwgWyd1aS5ib290c3RyYXAubW9kYWwnLCdjZ0J1c3knLCAnbmdBbmltYXRlJ10pO1xyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBHZXRBcHAoKTogbmcuSU1vZHVsZSB7XHJcbiAgICAgICAgcmV0dXJuIGFwcDtcclxuICAgIH1cclxufSIsIm1vZHVsZSBNb2RlbHMge1xyXG4gICAgZXhwb3J0IGNsYXNzIFVzZXIge1xyXG4gICAgICAgIHB1YmxpYyB1c2VySWQ6IHN0cmluZztcclxuICAgICAgICBwdWJsaWMgZGlzcGxheU5hbWU6IHN0cmluZztcclxuICAgIH1cclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuL1VzZXIudHNcIiAvPlxyXG5tb2R1bGUgTW9kZWxzIHtcclxuICAgIGV4cG9ydCBjbGFzcyBHcm91cCB7XHJcbiAgICAgICAgcHVibGljIGdyb3VwSWQ6IHN0cmluZztcclxuXHJcbiAgICAgICAgcHVibGljIHVzZXJzTGlzdDogQXJyYXk8TW9kZWxzLlVzZXI+XHJcbiAgICB9XHJcbn0iLCJtb2R1bGUgTW9kZWxzIHtcclxuICAgIGV4cG9ydCBjbGFzcyBTY29yZSB7XHJcbiAgICAgICAgcHVibGljIHN1Y2Nlc3NmdWxNb3ZlczogbnVtYmVyO1xyXG5cclxuICAgICAgICBwdWJsaWMgd3JvbmdNb3ZlczogbnVtYmVyO1xyXG4gICAgfVxyXG59IiwibW9kdWxlIE1vZGVscyB7XHJcbiAgICBleHBvcnQgY2xhc3MgVHJhbnNsYXRlVmFyaWFudCB7XHJcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgICAgIHRoaXMudmFyaWFudCA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuaXNUcnVlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuaXNTZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHZhcmlhbnQ6IHN0cmluZztcclxuXHJcbiAgICAgICAgcHVibGljIGlzVHJ1ZTogYm9vbGVhbjtcclxuXHJcbiAgICAgICAgcHVibGljIGlzU2VsZWN0ZWQ6IGJvb2xlYW47XHJcblxyXG4gICAgICAgIHB1YmxpYyBvcmRlcjogbnVtYmVyO1xyXG4gICAgfVxyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vdHJhbnNsYXRlVmFyaWFudC50c1wiIC8+XHJcbm1vZHVsZSBNb2RlbHMge1xyXG4gICAgZXhwb3J0IGNsYXNzIFdvcmQge1xyXG4gICAgICAgIHB1YmxpYyB3b3JkOiBzdHJpbmc7XHJcblxyXG4gICAgICAgIHB1YmxpYyB0cmFuc2xhdGVWYXJpYW50czogQXJyYXk8VHJhbnNsYXRlVmFyaWFudD5cclxuXHJcbiAgICAgICAgcHVibGljIGV4cGxhbmF0aW9uUXVvdGVzOiBBcnJheTxzdHJpbmc+XHJcblxyXG4gICAgICAgIHB1YmxpYyBkZWZpbml0aW9uOiBzdHJpbmc7XHJcblxyXG4gICAgICAgIHB1YmxpYyBzaG9ydFdvcmRSZXByZXNlbnRhdGlvbjogc3RyaW5nO1xyXG4gICAgfVxyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vc2NvcmUudHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi93b3JkLnRzXCIgLz5cclxubW9kdWxlIE1vZGVscyB7XHJcbiAgICBleHBvcnQgY2xhc3MgR2FtZSB7XHJcbiAgICAgICAgcHVibGljIHVzZXIxOiBVc2VyO1xyXG5cclxuICAgICAgICBwdWJsaWMgdXNlcjI6IFVzZXI7XHJcblxyXG4gICAgICAgIHB1YmxpYyBjdXJyZW50TW92ZTogbnVtYmVyO1xyXG5cclxuICAgICAgICBwdWJsaWMgd29yZHM6IEFycmF5PFdvcmQ+XHJcblxyXG4gICAgICAgIHB1YmxpYyB1c2VyMVNjb3JlOiBTY29yZTtcclxuXHJcbiAgICAgICAgcHVibGljIHVzZXIyU2NvcmU6IFNjb3JlO1xyXG4gICAgfVxyXG59IiwibW9kdWxlIE1vZGVscyB7XHJcbiAgICBleHBvcnQgY2xhc3MgR2FtZVJlc3VsdCB7XHJcbiAgICAgICAgcHVibGljIHdpbm5lcjogbnVtYmVyO1xyXG5cclxuICAgICAgICBwdWJsaWMgaXNEcmF3OiBib29sZWFuO1xyXG4gICAgfVxyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vZ2FtZVJlc3VsdC50c1wiIC8+XHJcbm1vZHVsZSBNb2RlbHMge1xyXG4gICAgZXhwb3J0IGNsYXNzIE1vdmVSZXN1bHQge1xyXG4gICAgICAgIHB1YmxpYyBpc1N1Y2Nlc3NmdWw6IGJvb2xlYW47XHJcblxyXG4gICAgICAgIHB1YmxpYyBpc0NvcnJlY3Q6IGJvb2xlYW47XHJcblxyXG4gICAgICAgIHB1YmxpYyBlcnJvck1lc3NhZ2U6IHN0cmluZztcclxuXHJcbiAgICAgICAgcHVibGljIGlzTGFzdE1vdmU6IGJvb2xlYW47XHJcblxyXG4gICAgICAgIHB1YmxpYyBnYW1lUmVzdWx0OiBNb2RlbHMuR2FtZVJlc3VsdDtcclxuXHJcbiAgICAgICAgcHVibGljIHNlbGVjdGVkVmFyaWFudEluZGV4OiBudW1iZXI7XHJcbiAgICB9XHJcbn0iLCJtb2R1bGUgTW9kZWxzIHtcclxuICAgIGV4cG9ydCBjbGFzcyBQYXNzZWRXb3JkSW5mbyB7XHJcbiAgICAgICAgcHVibGljIHdvcmQ6IHN0cmluZztcclxuICAgICAgICBwdWJsaWMgYW5zd2VyOiBzdHJpbmc7XHJcblxyXG4gICAgICAgIHB1YmxpYyB3YXNQYXNzZWQ6IGJvb2xlYW47XHJcbiAgICB9XHJcbn0iLCJtb2R1bGUgTW9kZWxzIHtcclxuICAgIGV4cG9ydCBlbnVtIExldmVsIHtcclxuICAgICAgICBCZWdpbmVyID0gMSxcclxuXHJcbiAgICAgICAgSW50ZXJtZWRpYXRlID0gMixcclxuXHJcbiAgICAgICAgQWR2YW5jZWQgPSAzXHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGludGVyZmFjZSBJTGV2ZWxOYW1lUGFpciB7XHJcbiAgICAgICAgbmFtZTogc3RyaW5nO1xyXG4gICAgICAgIGxldmVsOiBNb2RlbHMuTGV2ZWw7XHJcbiAgICB9XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vaW50ZXJmYWNlcy50c1wiIC8+XHJcbm1vZHVsZSBTZXJ2aWNlcyB7XHJcbiAgICBleHBvcnQgY2xhc3MgQ29ubmVjdFRvR2FtZVNlcnZpY2UgaW1wbGVtZW50cyBJbnRlcmZhY2VzLklDb25uZWN0VG9HYW1lIHtcclxuICAgICAgICBwcml2YXRlIGh1YjogU2lnbmFsUi5IdWIuUHJveHk7XHJcbiAgICAgICAgcHJpdmF0ZSBjb25uZWN0aW9uOiBTaWduYWxSLkh1Yi5Db25uZWN0aW9uO1xyXG4gICAgICAgIHByaXZhdGUgY29uc3RhbnRzOiBDb21tb24uQ29uc3RhbnRzO1xyXG5cclxuICAgICAgICBzdGF0aWMgJGluamVjdCA9IFtcIlNlcnZpY2VzLkh1YkNvbm5lY3Rpb25TZXJ2aWNlXCJdO1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKGh1YkNvbm5lY3Rpb25TZXJ2aWNlOiBJbnRlcmZhY2VzLklIdWJDb25uZWN0aW9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29uc3RhbnRzID0gQ29tbW9uLkdldENvbnN0YW50cygpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb24gPSBodWJDb25uZWN0aW9uU2VydmljZS5nZXRDb25uZWN0aW9uKCk7XHJcbiAgICAgICAgICAgIHRoaXMuaHViID0gdGhpcy5jb25uZWN0aW9uLmNyZWF0ZUh1YlByb3h5KHRoaXMuY29uc3RhbnRzLmNvbXBldGl0aW9uSHViKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBjb25uZWN0VG9IdWIoKTogSlF1ZXJ5UHJvbWlzZTxhbnk+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaHViLmNvbm5lY3Rpb24uc3RhcnQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBkb01vdmUobW92ZU9yZGVyOiBudW1iZXIsIHdvcmQ6IHN0cmluZywgdmFyaWFudDpzdHJpbmcpOiBKUXVlcnlQcm9taXNlPE1vZGVscy5Nb3ZlUmVzdWx0PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmh1Yi5pbnZva2UodGhpcy5jb25zdGFudHMuZG9Nb3ZlLCBtb3ZlT3JkZXIsIHdvcmQsIHZhcmlhbnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHBhc3NNb3ZlKG1vdmVPcmRlcjogbnVtYmVyKTogSlF1ZXJ5UHJvbWlzZTxNb2RlbHMuTW92ZVJlc3VsdD4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5odWIuaW52b2tlKHRoaXMuY29uc3RhbnRzLnBhc3NNb3ZlLCBtb3ZlT3JkZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGNvbm5lY3RUb05ld0dyb3VwKGRpc3BsYXlOYW1lOiBzdHJpbmcsIGxldmVsOiBNb2RlbHMuTGV2ZWwpOiBKUXVlcnlQcm9taXNlPGFueT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5odWIuaW52b2tlKHRoaXMuY29uc3RhbnRzLmh1YkNvbm5lY3RUb0dyb3VwTWV0aG9kTmFtZSwgZGlzcGxheU5hbWUsIGxldmVsKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBvbkNvbm5lY3RlZFRvR3JvdXAoY2FsbEJhY2s6KHVzZXJJZDogc3RyaW5nKSA9PiB2b2lkKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuaHViLm9uKHRoaXMuY29uc3RhbnRzLmNvbm5lY3RlZFRvR3JvdXAsIChtc2cpID0+IGNhbGxCYWNrKG1zZykpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIG9uR3JvdXBGdWxsZWQoY2FsbEJhY2s6KGdyb3VwOiBNb2RlbHMuR3JvdXApID0+IHZvaWQpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5odWIub24odGhpcy5jb25zdGFudHMuZ3JvdXBGdWxsZWQsIChtc2cpID0+IGNhbGxCYWNrKG1zZykpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIG9uVXNlckxlZnQoY2FsbEJhY2s6KGdyb3VwOiBNb2RlbHMuR3JvdXApID0+IHZvaWQpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5odWIub24odGhpcy5jb25zdGFudHMubGVmdEdyb3VwLCAobXNnKSA9PiBjYWxsQmFjayhtc2dbMF0pKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBnYW1lU3RhcnRlZChjYWxsQmFjazooZ3JvdXA6IE1vZGVscy5HYW1lKSA9PiB2b2lkKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuaHViLm9uKHRoaXMuY29uc3RhbnRzLmdhbWVTdGFydGVkLCAobXNnKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjYWxsQmFjayhtc2cpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBkaWRNb3ZlKGNhbGxCYWNrOihtb3ZlUmVzOiBNb2RlbHMuTW92ZVJlc3VsdCkgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLmh1Yi5vbih0aGlzLmNvbnN0YW50cy5kaWRNb3ZlLCAobXNnKSA9PiBjYWxsQmFjayhtc2cpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBnYW1lRmluaXNoZWQoY2FsbEJhY2s6KGdyb3VwOiBNb2RlbHMuR2FtZSkgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLmh1Yi5vbih0aGlzLmNvbnN0YW50cy5nYW1lRmluaXNoZWQsIChtc2cpID0+IGNhbGxCYWNrKG1zZ1swXSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZShDb21tb24uR2V0Q29uc3RhbnRzKCkuYXBwTmFtZSkuc2VydmljZShcIlNlcnZpY2VzLkNvbm5lY3RUb0dhbWVTZXJ2aWNlXCIsIENvbm5lY3RUb0dhbWVTZXJ2aWNlKTtcclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9pbnRlcmZhY2VzLnRzXCIgLz5cclxubW9kdWxlIFNlcnZpY2VzIHtcclxuICAgIGV4cG9ydCBjbGFzcyBIdWJDb25uZWN0aW9uU2VydmljZSBpbXBsZW1lbnRzIEludGVyZmFjZXMuSUh1YkNvbm5lY3Rpb24ge1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIGNvbm5lY3Rpb246IFNpZ25hbFIuSHViLkNvbm5lY3Rpb247XHJcblxyXG4gICAgICAgIHB1YmxpYyBnZXRDb25uZWN0aW9uKCk6IFNpZ25hbFIuSHViLkNvbm5lY3Rpb24ge1xyXG4gICAgICAgICAgICBpZiAoIUh1YkNvbm5lY3Rpb25TZXJ2aWNlLmNvbm5lY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIEh1YkNvbm5lY3Rpb25TZXJ2aWNlLmNvbm5lY3Rpb24gPSAkLmh1YkNvbm5lY3Rpb24oXCIvc2lnbmFsclwiLCB7IHVzZURlZmF1bHRQYXRoOiBmYWxzZSB9KTtcclxuICAgICAgICAgICAgICAgIEh1YkNvbm5lY3Rpb25TZXJ2aWNlLmNvbm5lY3Rpb24ubG9nZ2luZyA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIEh1YkNvbm5lY3Rpb25TZXJ2aWNlLmNvbm5lY3Rpb247XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYW5ndWxhci5tb2R1bGUoQ29tbW9uLkdldENvbnN0YW50cygpLmFwcE5hbWUpLnNlcnZpY2UoXCJTZXJ2aWNlcy5IdWJDb25uZWN0aW9uU2VydmljZVwiLCBIdWJDb25uZWN0aW9uU2VydmljZSk7XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vaW50ZXJmYWNlcy50c1wiIC8+XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9taXhpbnMvbmdTY2hlZHVsZXIudHNcIiAvPlxyXG5tb2R1bGUgU2VydmljZXMge1xyXG4gICAgZnVuY3Rpb24gdG9Qcm9taXNlQ3VzdG9tPFQ+KG9ic2VydmFibGU6IFJ4LklPYnNlcnZhYmxlPFQ+KTogUHJvbWlzZSA8YW55PiB7XHJcbiAgICAgICAgbGV0IHByb21pc2UgPSBuZXcgUHJvbWlzZTxhbnk+KHJlc29sdmUgPT4ge1xyXG4gICAgICAgICAgICBvYnNlcnZhYmxlLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHt9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgfVxyXG5cclxuICAgIGludGVyZmFjZSBJTW9kYWxTZXR0aW5ncyBleHRlbmRzIG5nLnVpLmJvb3RzdHJhcC5JTW9kYWxTZXR0aW5ncyB7XHJcblxyXG4gICAgICAgIC8qKiBTZXRzIHRoZSBhcmlhLWRlc2NyaWJlZGJ5IHByb3BlcnR5IG9uIHRoZSBtb2RhbC4gXHJcbiAgICAgICAgICogVGhlIHZhbHVlIHNob3VsZCBiZSBhbiBpZCAod2l0aG91dCB0aGUgbGVhZGluZyAjKSBwb2ludGluZyB0byB0aGUgZWxlbWVudCB0aGF0IGRlc2NyaWJlcyB5b3VyIG1vZGFsLiBcclxuICAgICAgICAgKiBUeXBpY2FsbHksIHRoaXMgd2lsbCBiZSB0aGUgdGV4dCBvbiB5b3VyIG1vZGFsLFxyXG4gICAgICAgICAqICBidXQgZG9lcyBub3QgaW5jbHVkZSBzb21ldGhpbmcgdGhlIHVzZXIgd291bGQgaW50ZXJhY3Qgd2l0aCwgXHJcbiAgICAgICAgICogbGlrZSBidXR0b25zIG9yIGEgZm9ybS4gXHJcbiAgICAgICAgICogT21pdHRpbmcgdGhpcyBvcHRpb24gd2lsbCBub3QgaW1wYWN0IHNpZ2h0ZWQgdXNlcnMgYnV0IHdpbGwgd2Vha2VuIHlvdXIgYWNjZXNzaWJpbGl0eSBzdXBwb3J0LiAqL1xyXG4gICAgICAgIGFyaWFEZXNjcmliZWRCeTogc3RyaW5nO1xyXG5cclxuICAgICAgICAvKiogU2V0cyB0aGUgYXJpYS1sYWJlbGxlZGJ5IHByb3BlcnR5IG9uIHRoZSBtb2RhbC4gXHJcbiAgICAgICAgICogVGhlIHZhbHVlIHNob3VsZCBiZSBhbiBpZCAod2l0aG91dCB0aGUgbGVhZGluZyAjKSBwb2ludGluZyB0byB0aGUgZWxlbWVudCB0aGF0IGxhYmVscyB5b3VyIG1vZGFsLiBcclxuICAgICAgICAgKiBUeXBpY2FsbHksIHRoaXMgd2lsbCBiZSBhIGhlYWRlciBlbGVtZW50LiBcclxuICAgICAgICAgKiBPbWl0dGluZyB0aGlzIG9wdGlvbiB3aWxsIG5vdCBpbXBhY3Qgc2lnaHRlZCB1c2VycyBidXQgd2lsbCB3ZWFrZW4geW91ciBhY2Nlc3NpYmlsaXR5IHN1cHBvcnQuICovXHJcbiAgICAgICAgYXJpYUxhYmVsbGVkQnk6IHN0cmluZztcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgY2xhc3MgU3RhdGVIYW5kbGVyU2VydmljZSBpbXBsZW1lbnRzIEludGVyZmFjZXMuSVN0YXRlSGFuZGxlciB7XHJcbiAgICAgICAgcHJpdmF0ZSBjb25zdGFudHM6IENvbW1vbi5Db25zdGFudHM7XHJcbiAgICAgICAgcHJpdmF0ZSAkcm9vdFNjb3BlOiBJbnRlcmZhY2VzLklSb290U2NvcGU7XHJcbiAgICAgICAgcHJpdmF0ZSAkbW9kYWw6IGFuZ3VsYXIudWkuYm9vdHN0cmFwLklNb2RhbFNlcnZpY2U7XHJcbiAgICAgICAgcHJpdmF0ZSBjb25uZWN0VG9HYW1lU2NvcGU6IEludGVyZmFjZXMuSUNvbm5lY3RUb0dhbWVTY29wZTtcclxuICAgICAgICBwcml2YXRlIGdyb3VwRnVsbGVkT2JzZXJ2YWJsZTogUnguU3ViamVjdDxhbnk+O1xyXG4gICAgICAgIHByaXZhdGUgYWRkZWRUb0dyb3VwT2JzZXJ2YWJsZTogUnguU3ViamVjdDxhbnk+O1xyXG4gICAgICAgIHByaXZhdGUgdXNlckxlZnRHcm91cE9ic2VydmFibGU6IFJ4LlN1YmplY3Q8YW55PjtcclxuICAgICAgICBwcml2YXRlIGdhbWVTdGFydGVkT2JzZXJ2YWJsZTogUnguU3ViamVjdDxhbnk+O1xyXG5cclxuICAgICAgICBwcml2YXRlIHN0YXJ0R2FtZU1vZGFsSW5zdGFuY2U6IGFuZ3VsYXIudWkuYm9vdHN0cmFwLklNb2RhbFNlcnZpY2VJbnN0YW5jZTtcclxuXHJcbiAgICAgICAgc3RhdGljICRpbmplY3QgPSBbXCIkcm9vdFNjb3BlXCIsIFwiJHVpYk1vZGFsXCJdO1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKCRyb290U2NvcGU6IEludGVyZmFjZXMuSVJvb3RTY29wZSwgJG1vZGFsOiBhbmd1bGFyLnVpLmJvb3RzdHJhcC5JTW9kYWxTZXJ2aWNlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29uc3RhbnRzID0gQ29tbW9uLkdldENvbnN0YW50cygpO1xyXG4gICAgICAgICAgICB0aGlzLiRtb2RhbCA9ICRtb2RhbDtcclxuICAgICAgICAgICAgdGhpcy4kcm9vdFNjb3BlID0gJHJvb3RTY29wZTtcclxuICAgICAgICAgICAgdGhpcy4kcm9vdFNjb3BlLmlzU3RhcnRHYW1lUGFnZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLiRyb290U2NvcGUudXNlcklkID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5ncm91cEZ1bGxlZE9ic2VydmFibGUgPSBuZXcgUnguU3ViamVjdDxhbnk+KCk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkZWRUb0dyb3VwT2JzZXJ2YWJsZSA9IG5ldyBSeC5TdWJqZWN0PGFueT4oKTtcclxuICAgICAgICAgICAgdGhpcy51c2VyTGVmdEdyb3VwT2JzZXJ2YWJsZSA9IG5ldyBSeC5TdWJqZWN0PGFueT4oKTtcclxuICAgICAgICAgICAgdGhpcy5nYW1lU3RhcnRlZE9ic2VydmFibGUgPSBuZXcgUnguU3ViamVjdDxhbnk+KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGNhbGxJbkRpZ2VzdExvb3AoYWN0aW9uOigpID0+IHZvaWQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuJHJvb3RTY29wZS4kJHBoYXNlKSB7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb24oKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHJvb3RTY29wZS4kYXBwbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzaG93U3RhcnRHYW1lTW9kYWwoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGxldCBvcHQgPSB7fSBhcyBuZy51aS5ib290c3RyYXAuSU1vZGFsU2V0dGluZ3M7XHJcbiAgICAgICAgICAgICAgICBvcHQuc2NvcGUgPSB0aGlzLmNvbm5lY3RUb0dhbWVTY29wZTtcclxuICAgICAgICAgICAgICAgIG9wdC50ZW1wbGF0ZVVybCA9IFwiY29ubmVjdFRvR3JvdXAuaHRtbFwiO1xyXG4gICAgICAgICAgICAgICAgb3B0LndpbmRvd1RlbXBsYXRlVXJsID0gXCJ3aW5kb3dUZW1wbGF0ZS5odG1sXCI7XHJcbiAgICAgICAgICAgICAgICBvcHQuYmFja2Ryb3AgPSBcInN0YXRpY1wiO1xyXG4gICAgICAgICAgICAgICAgb3B0LmtleWJvYXJkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBvcHQuYW5pbWF0aW9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIG9wdC5zaXplID0gXCJsZ1wiO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydEdhbWVNb2RhbEluc3RhbmNlID0gdGhpcy4kbW9kYWwub3BlbihvcHQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzaG93R2FtZUZpbmlzaGVkTW9kYWxXaW5kb3coaXNXaW4/OiBib29sZWFuLCBpc0RyYXc/OiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGlmIChpc1dpbiA9PT0gdW5kZWZpbmVkICYmIGlzRHJhdyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBcIk9uZSBvZiBib29sZWFuIGZsYWdzIHNob3VsZCBiZSBzcGVjaWZpZWRcIjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGNvbm5lY3RUb0dhbWVTY29wZSA9IHRoaXMuY29ubmVjdFRvR2FtZVNjb3BlO1xyXG4gICAgICAgICAgICBsZXQgb3B0ID0ge30gYXMgbmcudWkuYm9vdHN0cmFwLklNb2RhbFNldHRpbmdzO1xyXG4gICAgICAgICAgICAgICAgb3B0LmNvbnRyb2xsZXIgPSBmdW5jdGlvbigkc2NvcGU6IEludGVyZmFjZXMuSUdhbWVGaW5pc2hlZE1vZGFsV2luZG93U2NvcGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGxheUFnYWluID0gY29ubmVjdFRvR2FtZVNjb3BlLmNvbm5lY3RUb0dyb3VwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNEcmF3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tZXNzYWdlID0gXCLQndC40YfRjNGPLiDQntGC0LvQuNGH0L3QsNGPINC40LPRgNCwIDpEIVxcbtCl0L7RgtC40YLQtSDRgdGL0LPRgNCw0YLRjCDQtdGJ0ZEg0YDQsNC3P1wiO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNXaW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1lc3NhZ2UgPSBcItCf0L7Qt9C00YDQsNCy0LvQtdC90LjRjyEg0JLRiyDQstGL0LjQs9GA0LDQu9C4IVxcbtCl0L7RgtC40YLQtSDRgdGL0LPRgNCw0YLRjCDQtdGJ0ZEg0YDQsNC3P1wiO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tZXNzYWdlID0gXCLQlNCw0LbQtSDQtdGB0LvQuCDQv9GA0L7QuNCz0YDQsNC7LCDQv9GA0LXQvtCx0YDQtdGC0LXQvdC90YvQuSDQvtC/0YvRgiDQvtGB0YLQsNC90LXRgtGB0Y8g0L3QsNCy0YHQtdCz0LTQsCDRgSDRgtC+0LHQvtC5INC4INGB0YLQsNC90LXRgiDRgtCy0L7QtdC5INC90LDQs9GA0LDQtNC+0LkgOilcXG7QpdC+0YLQuNGC0LUg0YHRi9Cz0YDQsNGC0Ywg0LXRidGRINGA0LDQtz9cIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBvcHQudGVtcGxhdGVVcmwgPSBcImdhbWVGaW5pc2hlZC5odG1sXCI7XHJcbiAgICAgICAgICAgICAgICBvcHQud2luZG93VGVtcGxhdGVVcmwgPSBcIndpbmRvd1RlbXBsYXRlLmh0bWxcIjtcclxuICAgICAgICAgICAgICAgIG9wdC5iYWNrZHJvcCA9IFwic3RhdGljXCI7XHJcbiAgICAgICAgICAgICAgICBvcHQua2V5Ym9hcmQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIG9wdC5hbmltYXRpb24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgb3B0LnNpemUgPSBcImxnXCI7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0R2FtZU1vZGFsSW5zdGFuY2UgPSB0aGlzLiRtb2RhbC5vcGVuKG9wdCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc2V0Q29ubmVjdFRvR2FtZVNjb3BlKGNvbm5lY3RUb0dhbWVTY29wZTogSW50ZXJmYWNlcy5JQ29ubmVjdFRvR2FtZVNjb3BlKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdFRvR2FtZVNjb3BlID0gY29ubmVjdFRvR2FtZVNjb3BlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGhhbmRsZUNvbm5lY3Rpb25Ub0dyb3VwKHByb21pc2U6IEpRdWVyeVByb21pc2U8YW55Pik6IHZvaWQge1xyXG4gICAgICAgICAgICBwcm9taXNlLmZhaWwoKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInNtdGggYmFkIGhhcHBlbmVkOiBcIiArIGVycm9yKTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2FsbEluRGlnZXN0TG9vcCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsSW5EaWdlc3RMb29wKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFkZGVkVG9Hcm91cCA9IHRoaXMuYWRkZWRUb0dyb3VwT2JzZXJ2YWJsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50YWtlKDEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm9vdFNjb3BlLmFkZGVkVG9Hcm91cFByb21pc2UgPSB0b1Byb21pc2VDdXN0b20oYWRkZWRUb0dyb3VwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZGVkVG9Hcm91cC5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhcnRHYW1lTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRHYW1lTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRHYW1lTW9kYWxJbnN0YW5jZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGdyb3VwRnVsbGVkID0gdGhpcy5ncm91cEZ1bGxlZE9ic2VydmFibGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50YWtlKDEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQlVHOiBGb3Igc29tZSByZWFzb24gc29tZXRoaW1lcyBpcyBub3QgcmVzb2x2ZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm9vdFNjb3BlLnVzZXIyQ29ubmVjdGVkUHJvbWlzZSA9IHRvUHJvbWlzZUN1c3RvbShncm91cEZ1bGxlZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cEZ1bGxlZC5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvb3RTY29wZS5sb2FkaW5nR2FtZVByb21pc2UgPSB0b1Byb21pc2VDdXN0b20oUnguT2JzZXJ2YWJsZS5tZXJnZSh0aGlzLnVzZXJMZWZ0R3JvdXBPYnNlcnZhYmxlLnRha2UoMSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZVN0YXJ0ZWRPYnNlcnZhYmxlLnRha2UoMSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGFrZSgxKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvb3RTY29wZS5pc1N0YXJ0R2FtZVBhZ2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2FsbEluRGlnZXN0TG9vcCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3RUb0dhbWVTY29wZS5jb25uZWN0VG9Hcm91cFByb21pc2UgPSBwcm9taXNlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBoYW5kbGVVc2VyQWRkZWRUb0dyb3VwKCk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLmFkZGVkVG9Hcm91cE9ic2VydmFibGUub25OZXh0KHt9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBoYW5kbGVDb25uZWN0aW9uVG9IdWIocHJvbWlzZTogSlF1ZXJ5UHJvbWlzZTxhbnk+KTogdm9pZCB7XHJcbiAgICAgICAgICAgIHByb21pc2UuZmFpbCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInNtdGggYmFkIGhhcHBlbmVkXCIpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHByb21pc2UuZG9uZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsSW5EaWdlc3RMb29wKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93U3RhcnRHYW1lTW9kYWwoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNhbGxJbkRpZ2VzdExvb3AoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kcm9vdFNjb3BlLmNvbm5lY3RUb0h1YlByb21pc2UgPSBwcm9taXNlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBoYW5kbGVHYW1lRmluaXNoZWQoaXNXaW4/OiBib29sZWFuLCBpc0RyYXc/OiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsbEluRGlnZXN0TG9vcCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRyb290U2NvcGUuaXNTdGFydEdhbWVQYWdlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dHYW1lRmluaXNoZWRNb2RhbFdpbmRvdyhpc1dpbiwgaXNEcmF3KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgaGFuZGxlR3JvdXBGdWxsZWQoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIC8vIFRPRE86IEJldHRlciB0byBpbXBsZW1lbnQgc2NoZWR1bGVyIHRvIHN1YnNjcmliZSB3aXRoaW4gbmcgc2NvcGVcclxuICAgICAgICAgICAgdGhpcy5jYWxsSW5EaWdlc3RMb29wKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ3JvdXBGdWxsZWRPYnNlcnZhYmxlLm9uTmV4dCh7fSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgaGFuZGxlR2FtZVN0YXJ0ZWQoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsbEluRGlnZXN0TG9vcCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRyb290U2NvcGUuaXNTdGFydEdhbWVQYWdlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGFydEdhbWVNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydEdhbWVNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydEdhbWVNb2RhbEluc3RhbmNlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmdhbWVTdGFydGVkT2JzZXJ2YWJsZS5vbk5leHQoe30pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGdldFVzZXJJZCgpOiBzdHJpbmcge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kcm9vdFNjb3BlLnVzZXJJZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzZXRVc2VySWQodXNlcklkOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy4kcm9vdFNjb3BlLnVzZXJJZCA9IHVzZXJJZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBoYW5kbGVVc2VyMkxlZnRHcm91cCgpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5jYWxsSW5EaWdlc3RMb29wKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXNlckxlZnRHcm91cE9ic2VydmFibGUub25OZXh0KHt9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHJvb3RTY29wZS5pc1N0YXJ0R2FtZVBhZ2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd1N0YXJ0R2FtZU1vZGFsKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGdldFVzZXJEaXNwbGF5TmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kcm9vdFNjb3BlLmRpc3BsYXlOYW1lO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZShDb21tb24uR2V0Q29uc3RhbnRzKCkuYXBwTmFtZSkuc2VydmljZShcIlNlcnZpY2VzLlN0YXRlSGFuZGxlclNlcnZpY2VcIiwgU3RhdGVIYW5kbGVyU2VydmljZSk7XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vY29tbW9uLnRzXCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2ludGVyZmFjZXMudHNcIiAvPlxyXG5tb2R1bGUgY29udHJvbGxlcnMge1xyXG4gICAgZXhwb3J0IGNsYXNzIENvbm5lY3RUb0dhbWVDb250cm9sbGVyIHtcclxuICAgICAgICBwcml2YXRlIGNvbm5lY3Rpb25IdWJTZXJ2aWNlOiBJbnRlcmZhY2VzLklDb25uZWN0VG9HYW1lO1xyXG4gICAgICAgIHByaXZhdGUgJHNjb3BlOiBJbnRlcmZhY2VzLklDb25uZWN0VG9HYW1lU2NvcGU7XHJcbiAgICAgICAgcHJpdmF0ZSBncm91cEluZm86IE1vZGVscy5Hcm91cDtcclxuICAgICAgICBwcml2YXRlIHN0YXRlSGFuZGxlcjogSW50ZXJmYWNlcy5JU3RhdGVIYW5kbGVyO1xyXG4gICAgICAgIHByaXZhdGUgJHJvb3RTY29wZTogSW50ZXJmYWNlcy5JUm9vdFNjb3BlO1xyXG5cclxuICAgICAgICBzdGF0aWMgJGluamVjdCA9IFtcIlNlcnZpY2VzLkNvbm5lY3RUb0dhbWVTZXJ2aWNlXCIsIFwiJHNjb3BlXCIsIFwiU2VydmljZXMuU3RhdGVIYW5kbGVyU2VydmljZVwiLCBcIiRyb290U2NvcGVcIl07XHJcbiAgICAgICAgY29uc3RydWN0b3IoY29ubmVjdGlvbkh1YlNlcnZpY2U6IEludGVyZmFjZXMuSUNvbm5lY3RUb0dhbWUsICRzY29wZTogSW50ZXJmYWNlcy5JQ29ubmVjdFRvR2FtZVNjb3BlLCBcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZUhhbmRsZXI6IEludGVyZmFjZXMuSVN0YXRlSGFuZGxlcixcclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlOiBJbnRlcmZhY2VzLklSb290U2NvcGUpIHtcclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uSHViU2VydmljZSA9IGNvbm5lY3Rpb25IdWJTZXJ2aWNlO1xyXG4gICAgICAgICAgICB0aGlzLiRzY29wZSA9ICRzY29wZTtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZUhhbmRsZXIgPSBzdGF0ZUhhbmRsZXI7XHJcbiAgICAgICAgICAgIHRoaXMuJHJvb3RTY29wZSA9ICRyb290U2NvcGU7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZVZpZXdNb2RlbCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBpbml0aWFsaXplVmlld01vZGVsKCk6dm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGVIYW5kbGVyLnNldENvbm5lY3RUb0dhbWVTY29wZSh0aGlzLiRzY29wZSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25IdWJTZXJ2aWNlLm9uVXNlckxlZnQoZGF0YSA9PiB0aGlzLm9uVXNlckxlZnQuY2FsbCh0aGlzLCBkYXRhKSk7XHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbkh1YlNlcnZpY2Uub25Hcm91cEZ1bGxlZChkYXRhID0+IHRoaXMub25Hcm91cEZ1bGxlZC5jYWxsKHRoaXMsIGRhdGEpKTtcclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uSHViU2VydmljZS5vbkNvbm5lY3RlZFRvR3JvdXAoZGF0YSA9PiB0aGlzLm9uQ29ubmVjdGVkVG9Hcm91cC5jYWxsKHRoaXMsIGRhdGEpKTtcclxuICAgICAgICAgICAgdGhpcy4kc2NvcGUuY29ubmVjdFRvR3JvdXAgPSAoKSA9PiB0aGlzLmNvbm5lY3RUb0dyb3VwLmFwcGx5KHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLmNvbm5lY3Rpb25IdWJTZXJ2aWNlLmNvbm5lY3RUb0h1YigpLmRvbmUodmFsdWUgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZUhhbmRsZXIuc2V0VXNlcklkKHZhbHVlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGVIYW5kbGVyLmhhbmRsZUNvbm5lY3Rpb25Ub0h1Yihwcm9taXNlKTtcclxuICAgICAgICAgICAgdGhpcy4kc2NvcGUubGV2ZWxzID0gW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2xldmVsOiBNb2RlbHMuTGV2ZWwuQmVnaW5lciwgbmFtZTogXCLQndC+0LLQsNGH0L7QulwifSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtsZXZlbDogTW9kZWxzLkxldmVsLkludGVybWVkaWF0ZSwgbmFtZTogXCLQodGA0LXQtNC90LjQuVwifSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtsZXZlbDogTW9kZWxzLkxldmVsLkFkdmFuY2VkLCBuYW1lOiBcItCS0YvRgdC+0LrQuNC5XCJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIHRoaXMuJHJvb3RTY29wZS5sZXZlbCA9IHRoaXMuJHNjb3BlLmxldmVsc1sxXTtcclxuICAgICAgICAgICAgdGhpcy4kc2NvcGUuY2hhbmdlTGV2ZWwgPSAobGV2ZWw6IE1vZGVscy5JTGV2ZWxOYW1lUGFpcikgPT4gdGhpcy4kcm9vdFNjb3BlLmxldmVsID0gbGV2ZWw7XHJcbiAgICAgICAgICAgIHRoaXMuJHJvb3RTY29wZS5kaXNwbGF5TmFtZSA9IFwi0KHQu9GD0YfQsNC50L3Ri9C5INC40LPRgNC+0LpcIlxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBvbkdyb3VwRnVsbGVkKGdyb3VwSW5mbzogTW9kZWxzLkdyb3VwKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuZ3JvdXBJbmZvID0gZ3JvdXBJbmZvO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlSGFuZGxlci5oYW5kbGVHcm91cEZ1bGxlZCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBvblVzZXJMZWZ0KGdyb3VwSW5mbzogTW9kZWxzLkdyb3VwKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuZ3JvdXBJbmZvID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZUhhbmRsZXIuaGFuZGxlVXNlcjJMZWZ0R3JvdXAoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgY29ubmVjdFRvR3JvdXAoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5jb25uZWN0aW9uSHViU2VydmljZS5jb25uZWN0VG9OZXdHcm91cCh0aGlzLnN0YXRlSGFuZGxlci5nZXRVc2VyRGlzcGxheU5hbWUoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvb3RTY29wZS5sZXZlbC5sZXZlbCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGVIYW5kbGVyLmhhbmRsZUNvbm5lY3Rpb25Ub0dyb3VwKHByb21pc2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBvbkNvbm5lY3RlZFRvR3JvdXAodXNlcklkOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZUhhbmRsZXIuc2V0VXNlcklkKHVzZXJJZCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGVIYW5kbGVyLmhhbmRsZVVzZXJBZGRlZFRvR3JvdXAoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoQ29tbW9uLkdldENvbnN0YW50cygpLmFwcE5hbWUpLmNvbnRyb2xsZXIoXCJjb250cm9sbGVycy5Db25uZWN0VG9HYW1lQ29udHJvbGxlclwiLCBDb25uZWN0VG9HYW1lQ29udHJvbGxlcik7XHJcbn0gIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2NvbW1vbi50c1wiIC8+XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9pbnRlcmZhY2VzLnRzXCIgLz5cclxubW9kdWxlIGNvbnRyb2xsZXJzIHtcclxuICAgIGV4cG9ydCBjbGFzcyBHYW1lQ29udHJvbGxlciB7XHJcbiAgICAgICAgcHJpdmF0ZSBjb25uZWN0aW9uSHViU2VydmljZTogSW50ZXJmYWNlcy5JQ29ubmVjdFRvR2FtZTtcclxuICAgICAgICBwcml2YXRlICRzY29wZTogSW50ZXJmYWNlcy5JR2FtZVNjb3BlO1xyXG4gICAgICAgIHByaXZhdGUgZ2FtZUluZm86IE1vZGVscy5HYW1lO1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGVIYW5kbGVyOiBJbnRlcmZhY2VzLklTdGF0ZUhhbmRsZXI7XHJcbiAgICAgICAgcHJpdmF0ZSB3b3JkczogQXJyYXk8TW9kZWxzLldvcmQ+XHJcbiAgICAgICAgcHJpdmF0ZSB1c2VyTnVtOiBudW1iZXI7XHJcbiAgICAgICAgcHJpdmF0ZSAkaW50ZXJ2YWw6IG5nLklJbnRlcnZhbFNlcnZpY2U7XHJcbiAgICAgICAgcHJpdmF0ZSBzZWNvbmRzRm9yTW92ZTogbnVtYmVyO1xyXG4gICAgICAgIHByaXZhdGUgdGltZXJQcm9taXNlOiBuZy5JUHJvbWlzZTxhbnk+O1xyXG4gICAgICAgIHByaXZhdGUgJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZTtcclxuXHJcbiAgICAgICAgc3RhdGljICRpbmplY3QgPSBbXCJTZXJ2aWNlcy5Db25uZWN0VG9HYW1lU2VydmljZVwiLCBcIiRzY29wZVwiLCBcIlNlcnZpY2VzLlN0YXRlSGFuZGxlclNlcnZpY2VcIiwgXCIkaW50ZXJ2YWxcIiwgJyR0aW1lb3V0J107XHJcbiAgICAgICAgY29uc3RydWN0b3IoY29ubmVjdGlvbkh1YlNlcnZpY2U6IEludGVyZmFjZXMuSUNvbm5lY3RUb0dhbWUsICRzY29wZTogSW50ZXJmYWNlcy5JR2FtZVNjb3BlLCBcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZUhhbmRsZXI6IEludGVyZmFjZXMuSVN0YXRlSGFuZGxlcixcclxuICAgICAgICAgICAgICAgICAgICAkaW50ZXJ2YWw6IG5nLklJbnRlcnZhbFNlcnZpY2UsXHJcbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25IdWJTZXJ2aWNlID0gY29ubmVjdGlvbkh1YlNlcnZpY2U7XHJcbiAgICAgICAgICAgIHRoaXMuJHNjb3BlID0gJHNjb3BlO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlSGFuZGxlciA9IHN0YXRlSGFuZGxlcjtcclxuICAgICAgICAgICAgdGhpcy4kaW50ZXJ2YWwgPSAkaW50ZXJ2YWw7XHJcbiAgICAgICAgICAgIHRoaXMuc2Vjb25kc0Zvck1vdmUgPSAxMDtcclxuICAgICAgICAgICAgdGhpcy4kdGltZW91dCA9ICR0aW1lb3V0O1xyXG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemVWaWV3TW9kZWwoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgaW5pdGlhbGl6ZVZpZXdNb2RlbCgpOnZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25IdWJTZXJ2aWNlLmdhbWVTdGFydGVkKGRhdGEgPT4gdGhpcy5zdGFydEdhbWUuY2FsbCh0aGlzLCBkYXRhKSk7XHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbkh1YlNlcnZpY2UuZGlkTW92ZShkYXRhID0+IHRoaXMudXNlcjJkaWRNb3ZlLmNhbGwodGhpcywgZGF0YSkpO1xyXG4gICAgICAgICAgICB0aGlzLiRzY29wZS5kb01vdmUgPSAodmFyaWFudDogc3RyaW5nKSA9PiB0aGlzLmRvTW92ZS5jYWxsKHRoaXMsIHZhcmlhbnQpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25IdWJTZXJ2aWNlLm9uVXNlckxlZnQoKCkgPT4gdGhpcy5vblVzZXJMZWZ0LmNhbGwodGhpcykpO1xyXG4gICAgICAgICAgICB0aGlzLnVuc2V0R2FtZUluZm8oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgb25Vc2VyTGVmdCgpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5zdG9wVGltZXIoKTtcclxuICAgICAgICAgICAgdGhpcy51bnNldEdhbWVJbmZvKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHVuc2V0R2FtZUluZm8oKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZUluZm8gPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jYWxsSW5EaWdlc3RMb29wKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLmN1cnJlbnRXb3JkID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLnNlY29uZHNGb3JNb3ZlTGVmdCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS5wZXJjZW50YWdlc0xlZnQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUuaXNDdXJyZW50VXNlck1vdmUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUuY3VycmVudFVzZXJTY29yZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS5wYXNzZWRXb3JkcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUubGVmdFdvcmRzID0gW107XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdGFydEdhbWUoZ2FtZTogTW9kZWxzLkdhbWUpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5nYW1lSW5mbyA9IGdhbWU7XHJcbiAgICAgICAgICAgIHRoaXMud29yZHMgPSBnYW1lLndvcmRzO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgaXNVc2VyMSA9IGdhbWUudXNlcjEudXNlcklkID09PSB0aGlzLnN0YXRlSGFuZGxlci5nZXRVc2VySWQoKTtcclxuICAgICAgICAgICAgdGhpcy51c2VyTnVtID0gaXNVc2VyMSA/IDEgOiAyO1xyXG4gICAgICAgICAgICB0aGlzLiRzY29wZS4kYXBwbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUuY3VycmVudFVzZXJTY29yZSA9IGlzVXNlcjEgPyBnYW1lLnVzZXIxU2NvcmUgOiBnYW1lLnVzZXIyU2NvcmU7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS51c2VyMlNjb3JlID0gIWlzVXNlcjEgPyBnYW1lLnVzZXIxU2NvcmUgOiBnYW1lLnVzZXIyU2NvcmU7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS51c2VyMkRpc3BsYXlOYW1lID0gIWlzVXNlcjEgPyBnYW1lLnVzZXIxLmRpc3BsYXlOYW1lIDogZ2FtZS51c2VyMi5kaXNwbGF5TmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLmN1cnJlbnRXb3JkSW5kZXggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUuY3VycmVudFdvcmQgPSB0aGlzLndvcmRzWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRWYXJpbmF0c09yZGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS5pc0N1cnJlbnRVc2VyTW92ZSA9IChpc1VzZXIxICYmIHRoaXMuZ2FtZUluZm8uY3VycmVudE1vdmUgPT09IDEpIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoIWlzVXNlcjEgJiYgdGhpcy5nYW1lSW5mby5jdXJyZW50TW92ZSA9PT0gMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNodWZmbGUoYXJyOiBBcnJheTxNb2RlbHMuV29yZD4pOiBBcnJheTxNb2RlbHMuV29yZD4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFycmF5ID0gYXJyLnNsaWNlKDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG0gPSBhcnJheS5sZW5ndGgsIHQsIGk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2hpbGUgdGhlcmUgcmVtYWluIGVsZW1lbnRzIHRvIHNodWZmbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUGljayBhIHJlbWFpbmluZyBlbGVtZW504oCmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG0tLSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFuZCBzd2FwIGl0IHdpdGggdGhlIGN1cnJlbnQgZWxlbWVudC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ID0gYXJyYXlbbV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXlbbV0gPSBhcnJheVtpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJheVtpXSA9IHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUubGVmdFdvcmRzID0gc2h1ZmZsZSh0aGlzLndvcmRzLnNsaWNlKDEpKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0YXRlSGFuZGxlci5oYW5kbGVHYW1lU3RhcnRlZCgpO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0VGltZXIoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgY2FsbEluRGlnZXN0TG9vcChhY3Rpb246KCkgPT4gdm9pZCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy4kc2NvcGUuJCRwaGFzZSkge1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS4kYXBwbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdGFydFRpbWVyKCk6IHZvaWQge1xyXG4gICAgICAgICAgICBpZiAodGhpcy50aW1lclByb21pc2UpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IFwiUHJldmlvdXMgdGltZXIgc2hvdWxkIGJlIHN0b3BwZWRcIjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5jYWxsSW5EaWdlc3RMb29wKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLnNlY29uZHNGb3JNb3ZlTGVmdCA9IHRoaXMuc2Vjb25kc0Zvck1vdmU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS5wZXJjZW50YWdlc0xlZnQgPSAxMDA7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy50aW1lclByb21pc2UgPSB0aGlzLiRpbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS5zZWNvbmRzRm9yTW92ZUxlZnQtLTtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLnBlcmNlbnRhZ2VzTGVmdCA9IHRoaXMuJHNjb3BlLnNlY29uZHNGb3JNb3ZlTGVmdCAvIDEwICogMTAwO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLiRzY29wZS5zZWNvbmRzRm9yTW92ZUxlZnQgPT09IDBcclxuICAgICAgICAgICAgICAgICAgICAmJiB0aGlzLiRzY29wZS5pc0N1cnJlbnRVc2VyTW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFzc01vdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgMTAwMCwgMTApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdG9wVGltZXIoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy50aW1lclByb21pc2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy4kaW50ZXJ2YWwuY2FuY2VsKHRoaXMudGltZXJQcm9taXNlKTtcclxuICAgICAgICAgICAgdGhpcy50aW1lclByb21pc2UgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSB1c2VyMmRpZE1vdmUobW92ZVJlczogTW9kZWxzLk1vdmVSZXN1bHQpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy4kc2NvcGUuJGFwcGx5KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlTW92ZShtb3ZlUmVzLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBwYXNzTW92ZSgpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uSHViU2VydmljZS5wYXNzTW92ZSh0aGlzLnVzZXJOdW0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZG9uZSgobW92ZVJlc3VsdDpNb2RlbHMuTW92ZVJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLiRhcHBseSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlTW92ZShtb3ZlUmVzdWx0LCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBkb01vdmUodmFyaWFudDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgICAgIC8vIGEgd2F5IHRvIGhhbmRsZSBtdWx0aXBsZSBjbGlja1xyXG4gICAgICAgICAgICBpZiAodGhpcy4kc2NvcGUuY3VycmVudFdvcmQudHJhbnNsYXRlVmFyaWFudHMuZmlsdGVyKHYgPT4gdi5pc1NlbGVjdGVkKVxyXG4gICAgICAgICAgICAgICAgICAgIC5sZW5ndGggIT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0b3BUaW1lcigpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy4kc2NvcGUuc2Vjb25kc0Zvck1vdmVMZWZ0ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBzaG91bGQgYmUgaGFuZGxlZCBieSB0aW1lciBjYWxsYmFja1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgc2VsZWN0ZWRWYXIgPSB0aGlzLiRzY29wZS5jdXJyZW50V29yZC50cmFuc2xhdGVWYXJpYW50cy5maWx0ZXIodiA9PiB2LnZhcmlhbnQgPT09IHZhcmlhbnQpWzBdO1xyXG4gICAgICAgICAgICBpZiAoIXNlbGVjdGVkVmFyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnSW5jb3JyZWN0IHZhciBzZWxlY3RlZCcpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRWYXIuaXNTZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbkh1YlNlcnZpY2UuZG9Nb3ZlKHRoaXMudXNlck51bSwgdGhpcy4kc2NvcGUuY3VycmVudFdvcmQud29yZCwgdmFyaWFudClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5kb25lKChtb3ZlUmVzdWx0Ok1vZGVscy5Nb3ZlUmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUuJGFwcGx5KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVNb3ZlKG1vdmVSZXN1bHQsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGhhbmRsZU1vdmUobW92ZVJlczogTW9kZWxzLk1vdmVSZXN1bHQsIGlzQ3VycmVudFVzZXJNb3ZlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcFRpbWVyKCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgY3VycmVudFVzZXJTY29yZSA9IHRoaXMudXNlck51bSA9PT0gMSA/IHRoaXMuZ2FtZUluZm8udXNlcjFTY29yZSA6IHRoaXMuZ2FtZUluZm8udXNlcjJTY29yZTtcclxuICAgICAgICAgICAgdmFyIHVzZXIyU2NvcmUgPSB0aGlzLnVzZXJOdW0gPT09IDEgPyB0aGlzLmdhbWVJbmZvLnVzZXIyU2NvcmUgOiB0aGlzLmdhbWVJbmZvLnVzZXIxU2NvcmU7XHJcblxyXG4gICAgICAgICAgICBsZXQgc2NvcmUgPSBpc0N1cnJlbnRVc2VyTW92ZSA/IGN1cnJlbnRVc2VyU2NvcmUgOiB1c2VyMlNjb3JlO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFtb3ZlUmVzLmlzQ29ycmVjdCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihtb3ZlUmVzLmVycm9yTWVzc2FnZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobW92ZVJlcy5pc1N1Y2Nlc3NmdWwpIHtcclxuICAgICAgICAgICAgICAgIHNjb3JlLnN1Y2Nlc3NmdWxNb3ZlcysrO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2NvcmUud3JvbmdNb3ZlcysrO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAobW92ZVJlcy5zZWxlY3RlZFZhcmlhbnRJbmRleCAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLmN1cnJlbnRXb3JkLnRyYW5zbGF0ZVZhcmlhbnRzW21vdmVSZXMuc2VsZWN0ZWRWYXJpYW50SW5kZXhdLmlzU2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy51c2VyTnVtID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS5jdXJyZW50VXNlclNjb3JlID0gdGhpcy5nYW1lSW5mby51c2VyMVNjb3JlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUudXNlcjJTY29yZSA9IHRoaXMuZ2FtZUluZm8udXNlcjJTY29yZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLmN1cnJlbnRVc2VyU2NvcmUgPSB0aGlzLmdhbWVJbmZvLnVzZXIyU2NvcmU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS51c2VyMlNjb3JlID0gdGhpcy5nYW1lSW5mby51c2VyMVNjb3JlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLiR0aW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLmlzQ3VycmVudFVzZXJNb3ZlID0gIWlzQ3VycmVudFVzZXJNb3ZlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUuY3VycmVudFdvcmRJbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzQ3VycmVudFVzZXJNb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhc3NlZFdvcmQgPSBuZXcgTW9kZWxzLlBhc3NlZFdvcmRJbmZvKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFzc2VkV29yZC53b3JkID0gdGhpcy4kc2NvcGUuY3VycmVudFdvcmQud29yZDtcclxuICAgICAgICAgICAgICAgICAgICBwYXNzZWRXb3JkLmFuc3dlciA9IHRoaXMuJHNjb3BlLmN1cnJlbnRXb3JkLnRyYW5zbGF0ZVZhcmlhbnRzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoaSA9PiBpLmlzVHJ1ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNoaWZ0KClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnZhcmlhbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFzc2VkV29yZC53YXNQYXNzZWQgPSBtb3ZlUmVzLmlzU3VjY2Vzc2Z1bDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS5wYXNzZWRXb3Jkcy5wdXNoKHBhc3NlZFdvcmQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiByZW1vdmVGcm9tQXJyYXlJZihhcnI6IEFycmF5PE1vZGVscy5Xb3JkPiwgY2FsbGJhY2s6IChhcmc6IE1vZGVscy5Xb3JkLCBpbmRleDogbnVtYmVyKSA9PiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGkgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChpIDwgYXJyLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2soYXJyW2ldLCBpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICsraTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS5jdXJyZW50V29yZCA9IHRoaXMuZ2FtZUluZm8ud29yZHNbdGhpcy4kc2NvcGUuY3VycmVudFdvcmRJbmRleF07XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZhcmluYXRzT3JkZXIoKTtcclxuICAgICAgICAgICAgICAgIHJlbW92ZUZyb21BcnJheUlmKHRoaXMuJHNjb3BlLmxlZnRXb3JkcywgdyA9PiB3LndvcmQgPT09IHRoaXMuJHNjb3BlLmN1cnJlbnRXb3JkLndvcmQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChtb3ZlUmVzLmlzTGFzdE1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlSGFuZGxlci5oYW5kbGVHYW1lRmluaXNoZWQodGhpcy4kc2NvcGUuY3VycmVudFVzZXJTY29yZS5zdWNjZXNzZnVsTW92ZXMgPiB0aGlzLiRzY29wZS51c2VyMlNjb3JlLnN1Y2Nlc3NmdWxNb3ZlcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUuY3VycmVudFVzZXJTY29yZS5zdWNjZXNzZnVsTW92ZXMgPT0gdGhpcy4kc2NvcGUudXNlcjJTY29yZS5zdWNjZXNzZnVsTW92ZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zZXRHYW1lSW5mbygpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0VGltZXIoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgMTAwMCwgdHJ1ZSk7IC8vIGRlbGF5IHRvIGxldCB1c2VyIHNlZSB0aGUgcmVzdWx0IG9mIG1vdmVcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBzZXRWYXJpbmF0c09yZGVyKCk6IHZvaWQge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuJHNjb3BlLmN1cnJlbnRXb3JkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuJHNjb3BlLmN1cnJlbnRXb3JkLnRyYW5zbGF0ZVZhcmlhbnRzLmZvckVhY2goKHZhbHVlLCBpbmRleCkgPT4gdmFsdWUub3JkZXIgPSBpbmRleCArIDEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZShDb21tb24uR2V0Q29uc3RhbnRzKCkuYXBwTmFtZSkuY29udHJvbGxlcihcImNvbnRyb2xsZXJzLkdhbWVDb250cm9sbGVyXCIsIEdhbWVDb250cm9sbGVyKTtcclxufSAiLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vY29tbW9uLnRzXCIgLz5cclxuJCgoKSA9PiB7XHJcbiAgICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI3MDAwMDAvaG93LXRvLWRpc2FibGUtdGV4dC1zZWxlY3Rpb24tdXNpbmctanF1ZXJ5XHJcbiAgICAkKCcjd29yZCwgLndvcmQtbGVmdC1pdGVtLWNhcHRpb24nKS5hdHRyKCd1bnNlbGVjdGFibGUnLCdvbicpXHJcbiAgICAgLmNzcyh7Jy1tb3otdXNlci1zZWxlY3QnOictbW96LW5vbmUnLFxyXG4gICAgICAgICAgICctby11c2VyLXNlbGVjdCc6J25vbmUnLFxyXG4gICAgICAgICAgICcta2h0bWwtdXNlci1zZWxlY3QnOidub25lJywgLyogeW91IGNvdWxkIGFsc28gcHV0IHRoaXMgaW4gYSBjbGFzcyAqL1xyXG4gICAgICAgICAgICctd2Via2l0LXVzZXItc2VsZWN0Jzonbm9uZScsLyogYW5kIGFkZCB0aGUgQ1NTIGNsYXNzIGhlcmUgaW5zdGVhZCAqL1xyXG4gICAgICAgICAgICctbXMtdXNlci1zZWxlY3QnOidub25lJyxcclxuICAgICAgICAgICAndXNlci1zZWxlY3QnOidub25lJ1xyXG4gICAgIH0pLmJpbmQoJ3NlbGVjdHN0YXJ0JywgZnVuY3Rpb24oKXsgcmV0dXJuIGZhbHNlOyB9KTtcclxufSkiLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vY29tbW9uLnRzXCIgLz5cclxuJCgoKSA9PiB7XHJcbiAgICAkKGRvY3VtZW50KS5rZXlwcmVzcyhlID0+IHtcclxuICAgICAgICBpZiAoZS53aGljaCA9PT0gMTMpIHtcclxuICAgICAgICAgICAgJChcIi5idG4tc3VibWl0OnZpc2libGVcIikuZmlyc3QoKS5jbGljaygpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZS53aGljaCA+PSA0OCAmJiBlLndoaWNoIDw9IDU3KSB7XHJcbiAgICAgICAgICAgIGxldCBudW1QcmVzc2VkID0gZS53aGljaCAtIDQ4O1xyXG4gICAgICAgICAgICAkKCcudHJhbnNsYXRlVmFyaWFudDp2aXNpYmxlJykuZmlsdGVyKChpbmRleCwgZWxlbSkgPT4gJChlbGVtKS5kYXRhKCdvcmRlcicpID09PSBudW1QcmVzc2VkKVxyXG4gICAgICAgICAgICAgICAgLmZpcnN0KClcclxuICAgICAgICAgICAgICAgIC5jbGljaygpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59KTsiLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vY29tbW9uLnRzXCIgLz5cclxuJCgoKSA9PiB7XHJcbiAgICAkKCcjdXNlcjJ2YXJpYW50cycpLmJpbmQoJ0RPTU5vZGVJbnNlcnRlZCcsICgpID0+ICgkKCcudHJhbnNsYXRlVmFyaWFudC5ub2hvdmVyJykgYXMgYW55KS50b29sdGlwKCkpO1xyXG59KTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
